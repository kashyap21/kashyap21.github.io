if (self.CavalryLogger) { CavalryLogger.start_js(["nZ\/Cj"]); }

__d("UIPageletContentCache",[],(function(a,b,c,d,e,f){a={cache:{},getContent:function(a){return a in this.cache?this.cache[a]:null},setContent:function(a,b){this.cache[a]=b}};e.exports=a}),null);
__d("UIPagelet",["ActorURI","AjaxPipeRequest","AsyncRequest","DOM","HTML","ScriptPathState","UIPageletContentCache","URI","emptyFunction","ge","isElementNode"],(function(a,b,c,d,e,f){__p&&__p();function g(a,c,d){"use strict";__p&&__p();var e=a&&b("isElementNode")(a)?a.id:a;this._id=e||null;this._element=b("ge")(a||b("DOM").create("div"));this._src=c||null;this._context_data=d||{};this._data={};this._handler=b("emptyFunction");this._request=null;this._use_ajaxpipe=!1;this._use_post_request=!1;this._is_bundle=!0;this._allow_cross_page_transition=!1;this._append=!1;this._cache_content=!1;this._content_cache_key=""}g.prototype.getElement=function(){"use strict";return this._element};g.prototype.setHandler=function(a){"use strict";this._handler=a;return this};g.prototype.go=function(a,b){"use strict";arguments.length>=2||typeof a==="string"?(this._src=a,this._data=b||{}):arguments.length==1&&(this._data=a);this.refresh();return this};g.prototype.setAllowCrossPageTransition=function(a){"use strict";this._allow_cross_page_transition=a;return this};g.prototype.setBundleOption=function(a){"use strict";this._is_bundle=a;return this};g.prototype.setErrorHandler=function(a){"use strict";this._errorHandler=a;return this};g.prototype.setTransportErrorHandler=function(a){"use strict";this.transportErrorHandler=a;return this};g.prototype.refresh=function(){"use strict";__p&&__p();if(this._use_ajaxpipe)b("ScriptPathState").setIsUIPageletRequest(!0),this._request=new(b("AjaxPipeRequest"))(this._id,this._src),this._request.setAppend(this._append).setConstHeight(this._constHeight).setJSNonBlock(this._jsNonblock).setAutomatic(this._automatic).setDisplayCallback(this._displayCallback).setFinallyHandler(this._finallyHandler),this._errorHandler&&this._request.setErrorHandler(this._errorHandler),this.transportErrorHandler&&this._request.setTransportErrorHandler(this.transportErrorHandler),this._allowIrrelevantRequests!=null&&this._request.setAllowIrrelevantRequests(this._allowIrrelevantRequests);else{if(this._cache_content){var a=b("UIPageletContentCache").getContent(this._content_cache_key);if(a!==null){this.handleContent(a);return this}}var c=function(a){this._request=null;a=b("HTML")(a.getPayload());this.handleContent(a);this._cache_content&&b("UIPageletContentCache").setContent(this._content_cache_key,a)}.bind(this),d=this._displayCallback,e=this._finallyHandler;this._request=new(b("AsyncRequest"))(this._src).setMethod("GET").setReadOnly(!0).setOption("bundle",this._is_bundle).setHandler(function(a){d?d(c.bind(null,a)):c(a),e&&e(a)});this._errorHandler&&this._request.setErrorHandler(this._errorHandler);this.transportErrorHandler&&this._request.setTransportErrorHandler(this.transportErrorHandler);this._use_post_request&&this._request.setMethod("POST")}a=babelHelpers["extends"]({},this._context_data,this._data);this._actorID&&(a[b("ActorURI").PARAMETER_ACTOR]=this._actorID);this._request.setAllowCrossPageTransition(this._allow_cross_page_transition).setData({data:JSON.stringify(a)}).send();return this};g.prototype.handleContent=function(a){"use strict";this._append?b("DOM").appendContent(this._element,a):b("DOM").setContent(this._element,a),this._handler()};g.prototype.cancel=function(){"use strict";this._request&&this._request.abort()};g.prototype.abandon=function(){"use strict";this._request&&this._request.abandon()};g.prototype.setUseAjaxPipe=function(a){"use strict";this._use_ajaxpipe=!!a;return this};g.prototype.setUsePostRequest=function(a){"use strict";this._use_post_request=!!a;return this};g.prototype.setAppend=function(a){"use strict";this._append=!!a;return this};g.prototype.setJSNonBlock=function(a){"use strict";this._jsNonblock=!!a;return this};g.prototype.setAutomatic=function(a){"use strict";this._automatic=!!a;return this};g.prototype.setDisplayCallback=function(a){"use strict";this._displayCallback=a;return this};g.prototype.setConstHeight=function(a){"use strict";this._constHeight=!!a;return this};g.prototype.setFinallyHandler=function(a){"use strict";this._finallyHandler=a;return this};g.prototype.setAllowIrrelevantRequests=function(a){"use strict";this._allowIrrelevantRequests=a;return this};g.prototype.setActorID=function(a){"use strict";this._actorID=a;return this};g.prototype.setCacheContent=function(a){"use strict";this._cache_content=a;return this};g.prototype.setContentCacheKey=function(a){"use strict";this._content_cache_key=a;return this};g.appendToInline=function(a,c){"use strict";a=b("ge")(a);c=b("ge")(c);if(a&&c){while(c.firstChild)b("DOM").appendContent(a,c.firstChild);b("DOM").remove(c)}};g.loadFromEndpoint=function(a,c,d,e){"use strict";__p&&__p();e=e||{};var f="/ajax/pagelet/generic.php/"+a;e.intern&&(f="/intern"+f);e.query&&(f=f+"?"+e.query);f=new(b("URI"))(f.replace(/\/+/g,"/"));e.subdomain&&f.setSubdomain(e.subdomain);var h=!1,i="";e.contentCacheKey&&(h=!0,i=a+","+String(e.contentCacheKey));a=new g(c,f,d).setUseAjaxPipe(e.usePipe).setBundleOption(e.bundle!==!1).setAppend(e.append).setJSNonBlock(e.jsNonblock).setAutomatic(e.automatic).setDisplayCallback(e.displayCallback).setConstHeight(e.constHeight).setAllowCrossPageTransition(e.crossPage).setFinallyHandler(e.finallyHandler||b("emptyFunction")).setErrorHandler(e.errorHandler).setTransportErrorHandler(e.transportErrorHandler).setAllowIrrelevantRequests(e.allowIrrelevantRequests).setActorID(e.actorID).setCacheContent(h).setContentCacheKey(i).setUsePostRequest(e.usePostRequest);e.handler&&a.setHandler(e.handler);a.go();return a};g.loadFromEndpointBatched=function(a,c,d){"use strict";__p&&__p();var e=a.slice(0,d),f=a.slice(d);if(f.length>0){a=e[e.length-1];var h=b("emptyFunction");a.options&&a.options.finallyHandler&&(h=a.options.finallyHandler);a.options=babelHelpers["extends"]({},a.options,{finallyHandler:function(){h(),window.setTimeout(function(){g.loadFromEndpointBatched(f,c,d)},1)}})}e.forEach(function(a){g.loadFromEndpoint(a.controller,a.target_element,a.data,babelHelpers["extends"]({},a.options,c,{bundle:!0}))})};e.exports=g}),null);