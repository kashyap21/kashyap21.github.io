if (self.CavalryLogger) { CavalryLogger.start_js(["wUQh7"]); }

__d("asyncSleep",["regeneratorRuntime","Promise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b){return setTimeout(b,a)}));case 2:case"end":return c.stop()}},null,this)}e.exports=a}),null);
__d("FBDragHandle.react",["cx","EventListener","React","emptyFunction","joinClasses","throttle"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=0,this.$3=0,this.$4=!1,this.$5=!1,this.$6=null,this.$7=null,this.$8=null,this.$9=!1,this.$12=function(){this.$13(),this.$7=b("EventListener").listen(document.body,"mousemove",b("throttle")(this.$14,this.props.throttle)),this.$8=b("EventListener").listen(document.body,"mouseup",b("throttle")(this.$15,this.props.throttle)),this.$6=b("EventListener").listen(document.body,"mouseleave",b("throttle")(this.$15,this.props.throttle))}.bind(this),this.$13=function(){this.$7&&(this.$7.remove(),this.$7=null),this.$8&&(this.$8.remove(),this.$8=null),this.$6&&(this.$6.remove(),this.$6=null)}.bind(this),this.$14=function(event){this.$16(event.pageX,event.pageY,event)}.bind(this),this.$10=function(event){__p&&__p();if(event.button!==0)return;event.preventDefault();if(this.props.delay>0){this.$4=!0;var a=event.pageX,b=event.pageY;setTimeout(function(){this.$4&&this.$17(a,b)}.bind(this),this.props.delay)}else this.$17(event.pageX,event.pageY)}.bind(this),this.$11=function(event){this.$4=!1}.bind(this),this.$15=function(event){this.$18(event.pageX,event.pageY)}.bind(this),this.$17=function(a,b){this.$5=!0,this.$2=a,this.$3=b,this.$1=this.props.initialData(),this.$9=!1,this.$12(),this.props.threshold===0&&this.props.onStart(this.$1,this.$2,this.$3)}.bind(this),this.$18=function(a,b){a=this.$1;this.$5=!1;this.$2=0;this.$3=0;this.$1=null;this.$13();this.props.onEnd(a)}.bind(this),c}a.prototype.render=function(){"use strict";var a=this.props,c=a.className,d=a.cursor,e=a.horizontal;a=a.vertical;c=b("joinClasses")(c,"_2ciy"+(d==="auto"&&e?" _484s":"")+(d==="auto"&&a?" _484t":"")+(d==="auto"&&e&&a?" _484u":"")+(d==="nesw-resize"?" _484x":"")+(d==="nwse-resize"?" _484y":""));e=babelHelpers["extends"]({},this.props);e.onChange=null;return b("React").createElement("div",babelHelpers["extends"]({},e,{className:c,onMouseDown:this.$10,onMouseUp:this.$11,onMouseLeave:this.props.stopOnLeave?this.$11:null}),this.props.children)};a.prototype.$16=function(a,b,event){"use strict";if(!this.$5)return;var c=a-this.$2,d=b-this.$3;this.props.threshold>0&&!this.$9&&(Math.abs(c)>=this.props.threshold||Math.abs(d)>=this.props.threshold)&&(this.props.onStart(this.$1,this.$2,this.$3),this.$9=!0);(this.props.threshold===0||this.$9)&&this.props.onChange(this.props.horizontal?c:0,this.props.vertical?d:0,a,b,this.$1,event)};a.propTypes={className:c.string,cursor:c.oneOf(["none","auto","nesw-resize","nwse-resize"]).isRequired,delay:c.number.isRequired,horizontal:c.bool.isRequired,initialData:c.func.isRequired,onChange:c.func.isRequired,onEnd:c.func.isRequired,onStart:c.func.isRequired,stopOnLeave:c.bool.isRequired,threshold:c.number.isRequired,throttle:c.number.isRequired,vertical:c.bool.isRequired};a.defaultProps={cursor:"auto",delay:0,horizontal:!1,initialData:b("emptyFunction").thatReturns(null),onChange:b("emptyFunction"),onEnd:b("emptyFunction"),onStart:b("emptyFunction"),stopOnLeave:!0,threshold:0,throttle:25,vertical:!1};e.exports=a}),null);
__d("EventPermalinkCameraFramesLogging",["EventsActionsLogger"],(function(a,b,c,d,e,f){"use strict";e.exports={logClick:function(a,c,d){b("EventsActionsLogger").log(this._eventID,{type:b("EventsActionsLogger").Type.CLICK,target:a,surface:b("EventsActionsLogger").Surface.PERMALINK,mechanism:b("EventsActionsLogger").Mechanism.PERMALINK,target_id:c,acontext:d},{})}}}),null);
__d("MediaEffectOwnerHubHeader.react",["fbt","Link.react","React","XMediaEffectHubController","XUICardHeader.react","XUICardHeaderTitle.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.hubLinkTab;a=a.title;var d=null;if(c){c=b("XMediaEffectHubController").getURIBuilder().setEnum("tab",c).getURI();var e=g._("Manage Effects");d=b("React").createElement(b("Link.react"),{href:c,target:"_blank"},e)}return b("React").createElement(b("XUICardHeader.react"),{link:d,type:"secondary"},b("React").createElement(b("XUICardHeaderTitle.react"),null,a))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("EventPermalinkCameraFramesCreate.react",["cx","fbt","ix","AsyncDialog","AsyncRequest","EventPermalinkCameraFramesLogging","EventsActionsLogger","EventsPermalinkTabBar","Image.react","MediaEffectCreateStep","MediaEffectCreationReferrer","MediaEffectFlowType","MediaEffectHubViewTab","MediaEffectOwnerHubHeader.react","MediaEffectWebdriverIDs","React","ShimButton.react","XMediaEffectCreateDialogController","XUICard.react","XUICardSection.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("EventPermalinkCameraFramesLogging").logClick(b("EventsActionsLogger").Target.FRAME_CREATE_RHC,this.props.eventID,this.props.actionContext);var a=b("XMediaEffectCreateDialogController").getURIBuilder().setEnum("flow_type",b("MediaEffectFlowType").EVENT).setFBID("source_id",this.props.eventID).setEnum("step",b("MediaEffectCreateStep").CREATE).setString("action_context",JSON.stringify(this.props.actionContext)).setEnum("active_tab",b("EventsPermalinkTabBar").getCurrentTab()).setEnum("ref",b("MediaEffectCreationReferrer").EVENT_PAGE).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a))}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("XUICard.react"),{className:"_634s"},b("React").createElement(b("MediaEffectOwnerHubHeader.react"),{title:this.props.title,hubLinkTab:b("MediaEffectHubViewTab").HOME}),b("React").createElement(b("XUICardSection.react"),null,b("React").createElement(b("ShimButton.react"),{className:"_weu","data-testid":b("MediaEffectWebdriverIDs").HUB_EFFECT_CREATE_BUTTON,onClick:this.$1},b("React").createElement(b("Image.react"),{src:i("293229")}),b("React").createElement("h1",{className:"_1x8l"},h._("Help people share at your event")),b("React").createElement("p",{className:"_wev"},h._("Create a custom camera frame for your event using handy templates. People can add it to the photos and videos they share with friends.")),b("React").createElement("p",{className:"_wew"},h._("Get Started")))))};e.exports=a}),null);
__d("retry",["regeneratorRuntime","asyncSleep"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(i,Error);h=g&&g.prototype;function i(a,b,c,d){h.constructor.call(this,a),this.message=a,this.values=b,this.errors=c,this.options=d}function j(a){this.$1=babelHelpers["extends"]({},j.RETRY_OPTION_DEFAULTS,a),this.$2=0,this.$3=!1,this.$4=!1,this.$5=[],this.$6=[],this.$7=null,this.$8=0,this.$9()}j.prototype.$9=function(){if(this.$1.interval&&this.$1.interval<0)throw new i("C'mon, interval < 0 makes no sense.",[],[],this.$1);if(this.$1.backoff&&this.$1.backoff<1)throw new i("backoff must be >= 1",[],[],this.$1);if(this.$1.jitter&&(this.$1.jitter<0||this.$1.jitter>1))throw new i("jitter must be in range [0, 1]",[],[],this.$1)};j.prototype.onValue=function(){this.$1.retryValues||(this.$1.retryValues=[]);for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$1.retryValues=this.$1.retryValues.concat(b);return this};j.prototype.untilValue=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.untilValueMatches(function(a){return b.indexOf(a)!==-1})};j.prototype.onFalsy=function(){return this.onValueMatches(function(a){return!a})};j.prototype.onTruthy=function(){return this.onValueMatches(function(a){return!!a})};j.prototype.untilTruthy=function(){return this.onFalsy()};j.prototype.untilFalsy=function(){return this.onTruthy()};j.prototype.onNull=function(){return this.onValueMatches(function(a){return a===null})};j.prototype.onUndefined=function(){return this.onValueMatches(function(a){return a===undefined})};j.prototype.onValueMatches=function(){this.$1.retryValueMatchers||(this.$1.retryValueMatchers=[]);for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$1.retryValueMatchers=this.$1.retryValueMatchers.concat(b);return this};j.prototype.untilValueMatches=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.onValueMatches.apply(this,b.map(function(a){return function(b){return!a(b)}}))};j.prototype.onError=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(b.length===0)return this.onErrorMatches(function(a){return!0});this.$1.retryErrorClasses||(this.$1.retryErrorClasses=[]);this.$1.retryErrorClasses=this.$1.retryErrorClasses.concat(b);return this};j.prototype.onErrorMatches=function(){this.$1.retryErrorMatchers||(this.$1.retryErrorMatchers=[]);for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$1.retryErrorMatchers=this.$1.retryErrorMatchers.concat(b);return this};j.prototype.limit=function(a){this.$1.retries=a;this.$9();return this};j.prototype.once=function(){return this.limit(1)};j.prototype.twice=function(){return this.limit(2)};j.prototype.withInterval=function(a){this.$1.interval=a;this.$9();return this};j.prototype.withMaxInterval=function(a){this.$1.maxInterval=a;return this};j.prototype.withMinInterval=function(a){this.$1.minInterval=a;return this};j.prototype.withBackoff=function(a){this.$1.backoff=a;this.$9();return this};j.prototype.withJitter=function(a){this.$1.jitter=a;this.$9();return this};j.prototype.abort=function(){this.$3=!0};j.prototype.getCallCount=function(){return this.$2};j.prototype.getValues=function(){return this.$5};j.prototype.getErrors=function(){return this.$6};j.prototype.isRunning=function(){return this.$4};j.prototype.call=function(a){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:if(!this.$4){e.next=2;break}throw new i("Cannot reuse a retry object while it is still running!",[],[],this.$1);case 2:this.$4=!0,e.prev=3,this.$7=a,this.$6=[],this.$5=[];case 7:if(!(!this.$1.retries||this.$2<this.$1.retries+1)){e.next=33;break}if(!(this.$2>0)){e.next=12;break}c=this.$10();e.next=12;return b("regeneratorRuntime").awrap(b("asyncSleep")(c));case 12:if(!this.$3){e.next=14;break}throw new i("Retry aborted.",this.$5,this.$6,this.$1);case 14:e.prev=14;this.$2++;e.next=18;return b("regeneratorRuntime").awrap(a());case 18:d=e.sent;this.$5.push(d);if(!this.$11(d)){e.next=22;break}return e.abrupt("continue",7);case 22:return e.abrupt("return",d);case 25:e.prev=25;e.t0=e["catch"](14);this.$6.push(e.t0);if(!this.$12(e.t0)){e.next=30;break}return e.abrupt("continue",7);case 30:throw e.t0;case 31:e.next=7;break;case 33:throw new i("Max call count exceeded.",this.$5,this.$6,this.$1);case 34:e.prev=34;this.$4=!1;return e.finish(34);case 37:case"end":return e.stop()}},null,this,[[3,,34,37],[14,25]])};j.prototype.$10=function(){return Math.max(0,this.$13(this.$14()))};j.prototype.$13=function(a){a=a;this.$1.minInterval&&(a=Math.max(a,this.$1.minInterval));this.$1.maxInterval&&(a=Math.min(a,this.$1.maxInterval));return a};j.prototype.$14=function(){return this.$15()+this.$16()};j.prototype.$17=function(){return this.$1.interval?this.$1.interval:0};j.prototype.$18=function(){return this.$1.backoff?this.$1.backoff:1};j.prototype.$15=function(){var a=this.$17(),b=this.$18();return a*Math.pow(b,this.$2-1)};j.prototype.$16=function(){var a=this.$19(),b=a-this.$8;this.$8=a;return b};j.prototype.$19=function(){var a=this.$1.jitter;if(!a)return 0;var b=Math.random()*2-1;b=b*b*b*a/2;a=this.$17();var c=this.$18(),d=c-1;return d<1e-6?a*Math.pow(c,this.$2)*(b+d*(b*b-b)/2):a*Math.pow(c,this.$2)*(Math.pow(c,b)-1)/(c-1)};j.prototype.$11=function(a){return!!this.$1.retryValues&&this.$1.retryValues.indexOf(a)!==-1||!!this.$1.retryValueMatchers&&this.$1.retryValueMatchers.some(function(b){return b(a)})};j.prototype.$12=function(a){return!!this.$1.retryErrorClasses&&this.$1.retryErrorClasses.some(function(b){return a instanceof b})||!!this.$1.retryErrorMatchers&&this.$1.retryErrorMatchers.some(function(b){return b(a)})};j.RETRY_OPTION_DEFAULTS={interval:1e3,backoff:1,jitter:.25};function a(a,c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(new j(c).call(a));case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},null,this)}a.Retry=j;a.RetryError=i;function c(){var a;return(a=new j()).onValue.apply(a,arguments)}a.onValue=c;function d(){var a;return(a=new j()).untilValue.apply(a,arguments)}a.untilValue=d;function f(){return new j().onFalsy()}a.onFalsy=f;function k(){return new j().onTruthy()}a.onTruthy=k;function l(){return new j().untilTruthy()}a.untilTruthy=l;function m(){return new j().untilFalsy()}a.untilFalsy=m;function n(){return new j().onNull()}a.onNull=n;function o(){return new j().onUndefined()}a.onUndefined=o;function p(){var a;return(a=new j()).onValueMatches.apply(a,arguments)}a.onValueMatches=p;function q(){var a;return(a=new j()).untilValueMatches.apply(a,arguments)}a.untilValueMatches=q;function r(){var a;return(a=new j()).onError.apply(a,arguments)}a.onError=r;function s(){var a;return(a=new j()).onErrorMatches.apply(a,arguments)}a.onErrorMatches=s;function t(a){return new j().limit(a)}a.limit=t;function u(){return new j().once()}a.once=u;function v(){return new j().twice()}a.twice=v;function w(a){return new j().withInterval(a)}a.withInterval=w;function x(a){return new j().withMaxInterval(a)}a.withMaxInterval=x;function y(a){return new j().withMinInterval(a)}a.withMinInterval=y;function z(a){return new j().withBackoff(a)}a.withBackoff=z;function A(a){return new j().withJitter(a)}a.withJitter=A;e.exports=a}),null);
__d("EventPermalinkCameraFramesCreateWithDefaultFrame.react",["cx","fbt","ix","AsyncDialog","AsyncRequest","Button.react","DialogX","EventPermalinkCameraFramesLogging","EventsActionsLogger","FBToggleSwitch.react","FXEntMediaEffectStatus","Image.react","MediaEffectCreateStep","MediaEffectCreationReferrer","MediaEffectFlowType","MediaEffectHubViewTab","MediaEffectMetadataActionCreators","MediaEffectOwnerHubHeader.react","React","XMediaEffectCreateDialogController","XUICard.react","XUICardSection.react","XUIText.react","BackgroundImage.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=100,l=158;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("EventPermalinkCameraFramesLogging").logClick(b("EventsActionsLogger").Target.FRAME_CREATE_RHC,this.props.eventID,this.props.actionContext);var a=b("XMediaEffectCreateDialogController").getURIBuilder().setEnum("flow_type",b("MediaEffectFlowType").EVENT).setFBID("source_id",this.props.eventID).setEnum("step",b("MediaEffectCreateStep").CREATE).setEnum("ref",b("MediaEffectCreationReferrer").EVENT_PAGE).getURI(),c=this.props.effect.effectData.id;b("AsyncDialog").send(new(b("AsyncRequest"))(a),function(a){a.subscribe(["hide","success"],function(a,event){this.props.effectUpdateHandler(c)}.bind(this))}.bind(this))}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){b("MediaEffectMetadataActionCreators").initFrameData(this.props.effect.effectEditorData)};a.prototype.isToggleEnabled=function(){var a=this.props.effect.effectData.status;return a===b("FXEntMediaEffectStatus").INACTIVE||a===b("FXEntMediaEffectStatus").ACTIVE};a.prototype.render=function(){var a=this.props.effect.effectData,c=a.status;return b("React").createElement(b("XUICard.react"),{className:"_634s"},b("React").createElement(b("MediaEffectOwnerHubHeader.react"),{title:this.props.title,hubLinkTab:b("MediaEffectHubViewTab").HOME}),b("React").createElement(b("XUICardSection.react"),null,b("React").createElement("div",{className:"_46ca"},a.hasEnabledActivations?b("React").createElement(b("Image.react"),{src:i("353079")}):b("React").createElement(b("Image.react"),{src:i("353078")}),b("React").createElement("div",{className:"_46cb"},this.isToggleEnabled()?b("React").createElement(b("FBToggleSwitch.react"),{checked:c===b("FXEntMediaEffectStatus").ACTIVE,animate:!0,onToggle:function(){return this.props.toggleEventHandler(a.id,c===b("FXEntMediaEffectStatus").INACTIVE)}.bind(this),tooltip:c===b("FXEntMediaEffectStatus").ACTIVE?h._("Your camera frame is on"):h._("Your camera frame is off")}):null),b("React").createElement("div",{className:"_46cd"},b("React").createElement(b("BackgroundImage.react"),{backgroundSize:"contain",height:l,src:a.thumbnailPortrait,width:k})),b("React").createElement("div",{className:"_46cf"},b("React").createElement(b("XUIText.react"),{size:"header4",weight:"bold",className:"_46cg"},h._("Help people share at your event")),b("React").createElement("p",{className:"_46ch"},h._("You can use the default camera frame or create a custom one for your guests to use in photos and videos they share.")),b("React").createElement("div",{className:"_46ci"},b("React").createElement(b("Button.react"),{onClick:this.$1,use:"default",label:h._("Upload New")}))))))};e.exports=a}),null);
__d("MediaEffectGenerationType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTO_GENERATED:"auto_generated",USER_GENERATED:"user_generated",UNKNOWN:""})}),null);
__d("MediaEffectOwnerHubEffectCard.react",["cx","fbt","AsyncDialog","AsyncRequest","ContextualDialogArrow","ContextualLayerAutoFlip","FXEntMediaEffectStatus","Layout.react","List.react","MediaEffectContentStatusTitle.react","MediaEffectMetadataActionCreators","Link.react","Log","MediaEffectCreateStep","MediaEffectHubViewTab","MediaEffectOwnerHubHeader.react","MediaEffectReactFrameEditorPreviewCanvasContainer.react","PopoverMenu.react","React","ReactXUIMenu","XMediaEffectCreateDialogController","XUICard.react","XUICardSection.react","XUIText.react","MediaEffectCreationReferrer"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=b("ReactXUIMenu").Item,m="archive",n="toggle";c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.onEffectLinkClick=function(){var a=b("XMediaEffectCreateDialogController").getURIBuilder().setEnum("flow_type",this.props.flowType).setEnum("step",b("MediaEffectCreateStep").EDIT).setFBID("media_effect_id",this.props.effectID).setEnum("ref",b("MediaEffectCreationReferrer").HUB).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a),function(a){a.subscribe(["hide","success"],function(a,event){this.props.effectUpdateHandler(this.props.effectID)}.bind(this))}.bind(this))}.bind(this),this.onMenuItemClick=function(event,a){a=a.item.getValue();switch(a){case n:this.isToggleEnabled()&&this.props.toggleEventHandler(this.props.effectID,this.props.effect.effectData.status===b("FXEntMediaEffectStatus").INACTIVE);break;case m:this.props.archiveEventHandler(this.props.effect.effectData);break;default:b("Log").warn("Unexpected action sent to this handler: "+a)}}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){b("MediaEffectMetadataActionCreators").initFrameData(this.props.effect.effectEditorData)};a.prototype.buildMenu=function(){var a=this.props.effect.effectData.status;a=a===b("FXEntMediaEffectStatus").INACTIVE?h._("Turn On"):h._("Turn Off");var c=this.isToggleEnabled();return b("React").createElement(b("ReactXUIMenu"),{onItemClick:this.onMenuItemClick},b("React").createElement(l,{value:n},b("React").createElement("span",{className:(c?"_2ugo":"")+(c?"":" _2ugp")},a)),b("React").createElement(l,{value:m},h._("Archive")))};a.prototype.isToggleEnabled=function(){var a=this.props.effect.effectData.status;return a===b("FXEntMediaEffectStatus").INACTIVE||a===b("FXEntMediaEffectStatus").ACTIVE};a.prototype.render=function(){return b("React").createElement(b("XUICard.react"),null,b("React").createElement(b("MediaEffectOwnerHubHeader.react"),{hubLinkTab:b("MediaEffectHubViewTab").MANAGE,title:this.props.title}),b("React").createElement(b("XUICardSection.react"),null,b("React").createElement(b("Layout.react"),{className:"_2ugq"},b("React").createElement(j,null,b("React").createElement(b("MediaEffectReactFrameEditorPreviewCanvasContainer.react"),{previewHeight:80,previewWidth:80})),b("React").createElement(k,{className:"_2ugr"},b("React").createElement(b("List.react"),{border:"none",spacing:"small"},b("React").createElement("li",null,b("React").createElement(b("Link.react"),{href:"#",onClick:this.onEffectLinkClick},b("React").createElement(b("XUIText.react"),null,this.props.effect.effectData.name))),b("React").createElement("li",null,b("React").createElement(b("MediaEffectContentStatusTitle.react"),{className:"_2ugs",status:this.props.effect.effectData.status})),b("React").createElement("li",null,b("React").createElement(b("XUIText.react"),null,h._({"*":{"*":"{activateCount} Uses","_1":"{activateCount} Use"}},[h._param("activateCount",this.props.effect.effectData.activateCount,[0]),h._plural(this.props.effect.effectData.activateCount)]))))),b("React").createElement(j,{className:"_2ugt"},b("React").createElement(b("PopoverMenu.react"),{alignh:"right",behaviors:[b("ContextualDialogArrow")],layerBehaviors:[b("ContextualLayerAutoFlip")],menu:this.buildMenu(),position:"below"},b("React").createElement("div",{className:"_2ugu"}))))))};e.exports=a}),null);
__d("MediaEffectOwnerHubNullStateCard.react",["cx","invariant","EventPermalinkCameraFramesCreate.react","EventPermalinkCameraFramesCreateWithDefaultFrame.react","MediaEffectFlowType","MediaEffectGenerationType","MediaEffectOwnerHubHeader.react","React","XUICard.react","XUICardSection.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a;switch(this.props.flowType){case b("MediaEffectFlowType").EVENT:a=(a=this.props)!=null?(a=a.optionalData)!=null?a.eventActionContext:a:a;a||h(0,undefined);var c=this.props.effect;if(c&&c.effectData&&c.effectData.generationType===b("MediaEffectGenerationType").AUTO_GENERATED)return b("React").createElement(b("EventPermalinkCameraFramesCreateWithDefaultFrame.react"),{actionContext:a,effect:c,effectUpdateHandler:this.props.effectUpdateHandler,eventID:this.props.owner,flowType:this.props.flowType,key:"EffectCard"+c.effectData.id,title:this.props.title,toggleEventHandler:this.props.toggleEventHandler});else return b("React").createElement(b("EventPermalinkCameraFramesCreate.react"),{actionContext:a,eventID:this.props.owner,title:this.props.title});default:return b("React").createElement(b("XUICard.react"),{className:"_634s"},b("React").createElement(b("MediaEffectOwnerHubHeader.react"),{title:this.props.title}),b("React").createElement(b("XUICardSection.react"),null,b("React").createElement("div",{className:"_fw6"},"No data!")))}};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("MediaEffectStoreSharedDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.dispatch=this.dispatch.bind(this)}e.exports=new a({strict:!1})}),null);
__d("XMediaEffectAsyncFetchEffectController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fbcameraeffects/async_load_effect/",{effect_ids:{type:"FBIDSet"}})}),null);
__d("MediaEffectStore",["AsyncRequest","FluxLoadObjectStore","LoadObject","MediaEffectGenerationType","MediaEffectStoreSharedDispatcher","XMediaEffectAsyncFetchEffectController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),a.explicitlyRegisterStore(this)}a.prototype.reduce=function(a,c){__p&&__p();switch(c.action){case"media_effect/add":return this.__handleOne(a,c.key,c.value);case"media_effect_saved":var d=a.filter(function(a,c){c=a.getValue();return((a=c)!=null?(a=a.effectData)!=null?a.generationType:a:a)===b("MediaEffectGenerationType").USER_GENERATED});return this.__handleOne(d,c.effect.effectData.id,c.effect);case"media_effect/bootstrap":c.bootstrapData.forEach(function(c){a.set(c.effect,b("LoadObject").withValue(c.data))});break;case"media_effect/error":return this.__handleOne(a,c.key,c.error);case"media_effect/reload":this.__load(c.key);return a.remove(c.key);case"media_effect/remove":return a.remove(c.key);case"media_effect/update_effect":d=a.get(c.key).getValue();if(d){d=Object.assign({},d);d.effectData=c.effectData;return this.__handleOne(a.remove(c.key),c.key,d)}break}return a};a.prototype.__load=function(a){var c=b("XMediaEffectAsyncFetchEffectController").getURIBuilder().setFBIDSet("effect_ids",[a]).getURI();new(b("AsyncRequest"))(c).setHandler(function(c){b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect/add",key:a,value:c.getPayload().effects[0]})}).setErrorHandler(function(c){b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect/error",key:a,error:c.getError()})}).send()};a.__moduleID=e.id;e.exports=new a(b("MediaEffectStoreSharedDispatcher"))}),null);
__d("XMediaEffectAsyncFetchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fbcameraeffects/async_load/",{owner_ids:{type:"FBIDSet"},creator_ids:{type:"FBIDSet"},statuses:{type:"EnumSet",enumType:null},submission_statuses:{type:"EnumSet",enumType:null},types:{type:"EnumSet",enumType:null},creation_date_range:{type:"StringToIntMap"},effect_id:{type:"FBID"},effect_name:{type:"String"},effect_tag:{type:"String"},whitelisted:{type:"Bool",defaultValue:!1},gatekeeper:{type:"String"}})}),null);
__d("MediaEffectOwnerStore",["AsyncRequest","FluxLoadObjectStore","FXEntMediaEffectStatus","LoadObject","MediaEffectStore","MediaEffectStoreSharedDispatcher","XMediaEffectAsyncFetchController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=[b("FXEntMediaEffectStatus").ACTIVE,b("FXEntMediaEffectStatus").COMPLETED,b("FXEntMediaEffectStatus").DRAFT,b("FXEntMediaEffectStatus").IN_REVIEW,b("FXEntMediaEffectStatus").INACTIVE,b("FXEntMediaEffectStatus").NOT_APPROVED,b("FXEntMediaEffectStatus").SCHEDULED];c=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),a.explicitlyRegisterStore(this)}a.prototype.reduce=function(a,c){__p&&__p();switch(c.action){case"media_effect_owner/add":return this.__handleOne(a,c.key,{ownerID:c.key,effects:c.effects});case"media_effect_owner/bootstrap":c.bootstrapData.forEach(function(c){a.set(c.ownerID,b("LoadObject").withValue(c))});break;case"media_effect_owner/error":return this.__handleOne(a,c.key,c.error);case"media_effect_owner/reload":this.__load(c.key);return a.remove(c.key);case"media_effect_owner/remove":return a.remove(c.key);case"media_effect_owner/update_add_effect":var d=a.get(c.key).getValue();if(d){d.effects.push(c.effect);return this.__handleOne(a,c.key,{ownerID:c.key,effects:d.effects})}break;case"media_effect_saved":d=c.effect.effectData.owner.id;var e=a.get(d).getValue();if(e){this.$MediaEffectOwnerStore1();return this.__handleOne(a,d,{ownerID:d,effects:b("MediaEffectStore").getState().keySeq().toArray()})}break;case"media_effect_owner/update_remove_effect":e=a.get(c.key).getValue();if(e&&e.effects.indexOf(c.effect)>=0){d=e.effects;d.splice(d.indexOf(c.effect),1);return this.__handleOne(a,c.key,{ownerID:c.key,effects:d})}break}return a};a.prototype.$MediaEffectOwnerStore1=function(){b("MediaEffectStoreSharedDispatcher").waitFor([b("MediaEffectStore").getDispatchToken()])};a.prototype.__load=function(a){var c=b("XMediaEffectAsyncFetchController").getURIBuilder().setFBIDSet("owner_ids",[a]).setEnumSet("statuses",h).getURI();new(b("AsyncRequest"))(c).setHandler(function(c){b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect_owner/add",key:a,effects:c.payload.effects.map(function(a){return a.id})})}).setErrorHandler(function(c){b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect_owner/error",key:a,error:c.getError()})}).send()};a.__moduleID=e.id;e.exports=new a(b("MediaEffectStoreSharedDispatcher"))}),null);
__d("MediaEffectStoresBootstrapper",["MediaEffectFrameEditorDispatcher","MediaEffectMetadataActionCreators","MediaEffectOwnerStore","MediaEffectReactFrameEditorCanvasDataStore","MediaEffectReactFrameEditorDataStore","MediaEffectStore","MediaEffectStoreSharedDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("MediaEffectReactFrameEditorDataStore"),b("MediaEffectReactFrameEditorCanvasDataStore")],h=[b("MediaEffectStore"),b("MediaEffectOwnerStore")];a={isBootstrapped:!1,getEditorStores:function(){return g},getMediaEffectStores:function(){return h},bootstrap:function(){if(this.isBootstrapped)return;b("MediaEffectFrameEditorDispatcher").explicitlyRegisterStores(this.getEditorStores());b("MediaEffectStoreSharedDispatcher").explicitlyRegisterStores(this.getMediaEffectStores());this.bootstrapFontData();this.isBootstrapped=!0},bootstrapWithData:function(a){if(this.isBootstrapped)return;b("MediaEffectFrameEditorDispatcher").explicitlyRegisterStores(this.getEditorStores());b("MediaEffectStoreSharedDispatcher").explicitlyRegisterStores(this.getMediaEffectStores());a.fontData?b("MediaEffectMetadataActionCreators").addFontData(a.fontData):this.bootstrapFontData();a.ownerData&&b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect_owner/bootstrap",bootstrapData:a.ownerData});a.effectData&&b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect/bootstrap",bootstrapData:a.effectData});this.isBootstrapped=!0},bootstrapFontData:function(){b("MediaEffectMetadataActionCreators").bootstrapFontData()}};e.exports=a}),null);
__d("MediaEffectOwnerHubContainer.react",["cx","AsyncRequest","AsyncResponse","CenteredContainer.react","FluxContainer","MediaEffectFlowType","MediaEffectGenerationType","MediaEffectHubEffectActionConfig","MediaEffectOwnerHubEffectCard.react","MediaEffectOwnerHubHeader.react","MediaEffectOwnerHubNullStateCard.react","MediaEffectOwnerStore","MediaEffectStore","MediaEffectStoresBootstrapper","MediaEffectStoreSharedDispatcher","React","XMediaEffectHubEffectActivationAsyncController","XUICard.react","XUISpinner.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k=b("immutable").Set;h=babelHelpers.inherits(l,b("React").PureComponent);h&&h.prototype;l.prototype.render=function(){return b("React").createElement(b("XUICard.react"),null,b("React").createElement(b("MediaEffectOwnerHubHeader.react"),{title:this.props.title}),b("React").createElement(b("XUICard.react"),null,b("React").createElement(b("CenteredContainer.react"),{className:"_60ll"},b("React").createElement(b("XUISpinner.react"),{size:"large"}))))};function l(){h.apply(this,arguments)}i=babelHelpers.inherits(m,b("React").PureComponent);i&&i.prototype;m.prototype.render=function(){return b("React").createElement(b("XUICard.react"),null,b("React").createElement(b("MediaEffectOwnerHubHeader.react"),{title:this.props.title}),b("React").createElement(b("XUICard.react"),null,b("React").createElement("div",{className:"_5-nb"},this.props.errorMessage)))};function m(){i.apply(this,arguments)}a=babelHelpers.inherits(n,b("React").PureComponent);j=a&&a.prototype;n.getStores=function(){return[b("MediaEffectStore"),b("MediaEffectOwnerStore")]};n.calculateState=function(a){__p&&__p();var c={isLoading:!0};if(!a)return c;var d=b("MediaEffectOwnerStore").get(a.ownerID);if(d.hasError()){var e=d.getError();e&&(c={errorMessage:e.message,isError:!0,isLoading:!1})}if(!d.hasValue())return c;e=a.defaultFlowType;d=d.getValueEnforcing().effects;if(d.length===0)c={effectData:null,effectIDs:[],flowType:e,isError:!1,isLoading:!1,selectedEffectIndex:-1};else{a=a.selectedEffectIndex<d.length&&a.selectedEffectIndex>=0?a.selectedEffectIndex:0;var f=b("MediaEffectStore").get(d[a]);if(f.hasError()){var g=f.getError();g&&(c={errorMessage:g.message,isError:!0,isLoading:!1})}else if(f.hasValue()){g=f.getValueEnforcing();e=g.effectData.flowType;c={effectData:g,effectIDs:d,flowType:e,isError:!1,isLoading:!1,selectedEffectIndex:a}}else c={isLoading:!0}}return c};function n(a){__p&&__p();j.constructor.call(this,a);this.effectUpdateHandler=function(a){var c=this.state.effectIDs.length>0&&this.state.selectedEffectIndex>=0?this.state.effectIDs[this.state.selectedEffectIndex]:"";a===c&&this.setState({isLoading:!0});b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect/reload",key:a})}.bind(this);this.toggleEventHandler=function(a,c){c=b("XMediaEffectHubEffectActivationAsyncController").getURIBuilder().setBool("activate",c).setFBIDVector("effect_ids",[a]).getURI();new(b("AsyncRequest"))().setURI(c).setHandler(function(a){a=a.getPayload().effects;a.map(function(a){b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect/update_effect",key:a.id,effectData:a})})}).setErrorHandler(function(a){b("AsyncResponse").defaultErrorHandler(a)}).send()};this.archiveEventHandler=function(a){b("MediaEffectHubEffectActionConfig").archive.onClick(k([a]),function(){this.setState({isLoading:!0}),b("MediaEffectStoreSharedDispatcher").dispatch({action:"media_effect_owner/update_remove_effect",key:this.state.ownerID,effect:a.id})}.bind(this))}.bind(this);a={defaultFlowType:a.flowType?a.flowType:b("MediaEffectFlowType").BASIC_HUB,effectData:null,effectIDs:[],errorMessage:"",flowType:a.flowType?a.flowType:b("MediaEffectFlowType").BASIC_HUB,isError:!1,isLoading:!0,ownerID:a.owner,selectedEffectIndex:-1};var c=n.calculateState(a);this.state=Object.assign({},a,c)}n.prototype.UNSAFE_componentWillMount=function(){b("MediaEffectStoresBootstrapper").bootstrap()};n.prototype.render=function(){__p&&__p();var a=this.props,c=a.title;a=a.optionalData;var d=this.state,e=d.effectData,f=d.effectIDs,g=d.errorMessage,h=d.flowType,i=d.isError,j=d.isLoading;d=d.ownerID;if(i)return b("React").createElement(m,{errorMessage:g,title:c});else if(j)return b("React").createElement(l,{title:c});else if(f.length>0&&e&&e.effectData.generationType===b("MediaEffectGenerationType").USER_GENERATED){i=e;return b("React").createElement(b("MediaEffectOwnerHubEffectCard.react"),{archiveEventHandler:this.archiveEventHandler,effect:i,effectID:i.effectData.id,effectUpdateHandler:this.effectUpdateHandler,flowType:h,key:"EffectCard"+i.effectData.id,title:c,toggleEventHandler:this.toggleEventHandler})}else return b("React").createElement(b("MediaEffectOwnerHubNullStateCard.react"),{effect:e,effectUpdateHandler:this.effectUpdateHandler,flowType:h,optionalData:a,owner:d,title:c,toggleEventHandler:this.toggleEventHandler})};e.exports=b("FluxContainer").create(n)}),null);
__d("MediaEffectOwnerHubWidgetInit",["MediaEffectOwnerHubContainer.react","MediaEffectStoresBootstrapper","React","ReactRenderer"],(function(a,b,c,d,e,f){"use strict";a={init:function(a){a.bootstrapData?b("MediaEffectStoresBootstrapper").bootstrapWithData(a.bootstrapData):b("MediaEffectStoresBootstrapper").bootstrap(),b("ReactRenderer").renderComponent(b("React").createElement(b("MediaEffectOwnerHubContainer.react"),a.ownerWidgetProps),a.root)}};e.exports=a}),null);