if (self.CavalryLogger) { CavalryLogger.start_js(["Ia9iR"]); }

__d("FeedStoryCategory",[],(function(a,b,c,d,e,f){e.exports={UNKNOWN:0,ORGANIC:1,ENGAGEMENT:2,FIXED_POSITION:3,PROMOTION:4,SPONSORED:5,END_OF_FEED_CONTENT:6,FB_STORIES:7,NON_PYMK_PROMOTION:8}}),null);
__d("VideoChannelCallerToPlayerOriginMap",[],(function(a,b,c,d,e,f){e.exports={internal:"unknown",www_feed_pivots:"newsfeed",www_feed_snowlift:"unknown",misc_photo_set:"unknown",mobile:"unknown",search:"search",www_feed_rhc:"newsfeed",www_notification:"notifications",www_permalink:"permalink",www_permalink_rhc:"permalink",www_permalink_rhc_from_notification:"notifications",my_video_channels_ent_query:"unknown",top_followed_video_channels_ent_query:"unknown",badge:"unknown",pagination:"unknown",subtitle:"unknown",channel_view_from_unknown:"unknown",channel_view_from_newsfeed:"newsfeed",channel_view_from_explorefeed:"unknown",live_indexer_from_explorefeed:"unknown",live_indexer_from_newsfeed:"unknown",nn_indexer_from_newsfeed:"unknown",channel_view_from_search:"unknown",channel_view_from_newsfeed_pivot:"unknown",newsfeed_pivot_inline:"unknown",mobile_newsfeed_pivot_inline:"unknown",channel_view_from_page_call_to_action:"unknown",channel_view_from_page_timeline:"page_timeline",channel_view_from_page_timeline_featured:"unknown",channel_view_from_page_video_tab:"page_timeline",channel_view_from_page_home_hero:"unknown",channel_view_from_user_timeline:"user_timeline",channel_view_from_user_video_tab:"unknown",channel_view_from_group_timeline:"group",channel_view_from_group_video_tab:"unknown",channel_view_from_video_page_spotlight:"unknown",channel_view_from_video_page_video_list:"unknown",channel_view_from_video_page_video_tab:"unknown",channel_view_from_saved_story:"unknown",saved_story_inline:"unknown",channel_view_from_shared_with_you_story:"unknown",shared_with_you_story_inline:"unknown",channel_view_from_latest_from_your_channels_story:"unknown",latest_from_your_channels_story_inline:"unknown",channel_view_from_channel_pivot:"unknown",channel_pivot_inine:"unknown",channel_view_from_recommended_channel_story:"unknown",recommended_channel_story_inline:"unknown",channel_view_from_video_home:"video_home",video_home_inline:"unknown",video_home_channel_see_all:"unknown",social_player_up_next:"unknown",channel_view_from_casting:"unknown",connected_tv:"unknown",connected_tv_discovery:"unknown",connected_tv_player:"unknown",connected_tv_profile:"unknown",video_home_feed:"unknown",video_home_hero:"unknown",feed_survey_swipe:"unknown",feed_pivots_inline:"newsfeed",channel_view_from_feed_pivots:"newsfeed",video_sets_cache_refresh:"unknown",video_sets_cache_check:"unknown",dummy_story_recommended_videos:"unknown",dummy_story_friends_enjoying:"unknown",live_event_video_set:"unknown",live_videos_set:"unknown",single_creator_video_set:"unknown",frt_tool:"unknown",dummy_story_friends_enjoying_now:"unknown",dummy_story_dummy_action:"unknown",oculus_video:"unknown",trending_demographics_live:"unknown",live_map:"live_map",unconnected_live_video:"unknown",profile_video_gallery:"unknown",channel_view_from_playlist:"unknown",oculus_social_hub:"unknown",akira:"unknown",is_live_video_chaining:"unknown",is_live_video_chaining_others:"unknown",video_creator_chaining:"unknown",tahoe:"unknown",living_room:"unknown",shows_cover_trailer:"page_timeline",shows_episodes_tab:"page_timeline",shows_playlists_tab:"page_timeline",shows_home_tab:"page_timeline",shows_more_videos_tab:"page_timeline",show_episode_feed_recommendations:"unknown",parent_page_timeline:"page_timeline",watch_watchlist_tab:"unknown",watch_feed_tab:"unknown",watch_topic_feed:"unknown",watch_section_see_all:"unknown",social_player_from_video_home:"unknown",wns:"unknown",explore_feed_deep_dive:"unknown",voyager:"unknown"}}),null);
__d("FeedImageLoadPerfLogger",["DOMQuery","Event","FeedQuickLogModule","QuickPerformanceLogger","Run","crc32"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FeedQuickLogModule").IMAGE_LOAD_WWW;function h(a){if(!a||!a.target||!a.target.src)return;a=a.target;var c=a.src;a.complete&&b("QuickPerformanceLogger").markerEnd(g,"SUCCESS",b("crc32")(c));j(a)}function i(a){if(!a||!a.target||!a.target.src)return;a=a.target;var c=a.src;if(!c)return;b("QuickPerformanceLogger").markerEnd(g,"FAIL",b("crc32")(c));j(a)}function j(a){if(!a)return;a.removeEventListener("load",h,!0);a.removeEventListener("error",i,!0)}function k(a){__p&&__p();if(!a||!a.src)return;b("QuickPerformanceLogger").markerStart(g,b("crc32")(a.src));if(a.complete){b("QuickPerformanceLogger").markerEnd(g,"SUCCESS",b("crc32")(a.src));return}a.addEventListener("load",h,!0);a.addEventListener("error",i,!0);b("Run").onLeave(function(){l(a)})}function l(a){if(!a||!a.src)return;if(a.complete)return;b("QuickPerformanceLogger").markerEnd(g,"CANCEL",b("crc32")(a.src));j(a)}a={startMarkers:function(a){if(!a)return;a=b("DOMQuery").scry(a,"img");a.forEach(function(a){k(a)})},cancelMarkers:function(a){if(!a)return;a=b("DOMQuery").scry(a,"img");a.forEach(function(a){l(a)})}};e.exports=a}),null);
__d("AdAllocationIntegrityGapsInfo",["FeedStoryCategory"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.story_category=a,this.dist_to_top=-1,this.dist_to_fixed=-1,this.dist_to_promo=-1,this.dist_to_sponsored=-1,this.dist_to_engagement=-1}a.prototype.setDistToTop=function(a){"use strict";this.dist_to_top=a};a.prototype.setDistIfAbsent=function(a,c){"use strict";__p&&__p();if(c<0||a===b("FeedStoryCategory").UNKNOWN||a===b("FeedStoryCategory").ORGANIC)return;switch(a){case b("FeedStoryCategory").ENGAGEMENT:this.dist_to_engagement=this.$1(c,this.dist_to_engagement);break;case b("FeedStoryCategory").FIXED_POSITION:this.dist_to_fixed=this.$1(c,this.dist_to_fixed);break;case b("FeedStoryCategory").PROMOTION:this.dist_to_promo=this.$1(c,this.dist_to_promo);break;case b("FeedStoryCategory").SPONSORED:this.dist_to_sponsored=this.$1(c,this.dist_to_sponsored);break}};a.prototype.$1=function(a,b){"use strict";return b===-1?a:b};e.exports=a}),null);
__d("AdAllocationIntegrityUtils",["DataAttributeUtils","FeedStoryCategory","collectDataAttributes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="data-story_category",h="data-dedupekey",i="ft";a={getFeedStoryCategory:function(a){__p&&__p();var c=b("collectDataAttributes")(a,[i]).ft;a=b("DataAttributeUtils").getDataAttribute(a,g);if(a)switch(a){case"2":return b("FeedStoryCategory").ENGAGEMENT;case"3":return b("FeedStoryCategory").FIXED_POSITION;case"4":return b("FeedStoryCategory").PROMOTION;default:return b("FeedStoryCategory").UNKNOWN}else if(c.ei)return b("FeedStoryCategory").SPONSORED;else return b("FeedStoryCategory").ORGANIC},isGapRuleCategory:function(a){if(a===b("FeedStoryCategory").SPONSORED||a===b("FeedStoryCategory").ENGAGEMENT||a===b("FeedStoryCategory").FIXED_POSITION||a===b("FeedStoryCategory").PROMOTION)return!0;else return!1},getDedupKey:function(a){return b("DataAttributeUtils").getDataAttribute(a,h)}};e.exports=a}),null);
__d("ViewportTrackingHooks",["Base64"],(function(a,b,c,d,e,f){__p&&__p();var g={},h=[];a={registerFeedObject:function(a,c){g[a]=b("Base64").encode(c)},updateVisibleViewportObjects:function(a){var b=[],c=!1;for(var d=0;d<a.length;d++){var e=a[d],f=e.id;while(!(f in g)&&e.firstChild!=undefined&&e.firstChild.id!=undefined&&e.firstChild.id.startsWith("u_"))f=e.firstChild.id,e=e.firstChild;f in g&&(b.push(g[f]),(!(d in h)||h[d]!=g[f])&&(c=!0))}!c&&h.length!=b.length&&(c=!0);c&&(h=b,typeof __EXT__updateVisibleViewportObjects==="function"&&__EXT__updateVisibleViewportObjects(h))}};e.exports=a}),null);
__d("viewportTrackingBuilder",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b=null;return{factory:a,singleton:function(){b||(b=a.apply(undefined,arguments));return b},clearSingleton:function(){b=null}}};e.exports=a}),null);
__d("ViewportTracking",["cx","invariant","AdAllocationIntegrityGapsInfo","AdAllocationIntegrityUtils","Arbiter","Banzai","BanzaiScuba","CSS","CurrentUser","DOM","DOMDimensions","Event","LitestandMessages","NavigationMessage","Run","SubscriptionsHandler","TimeSlice","UserActivity","ViewportTrackingHelper","ViewportTrackingHooks","clearTimeout","clickRefAction","collectDataAttributes","debounce","getElementPosition","getViewportDimensions","pageID","setTimeout","throttle","viewportTrackingBuilder"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=97,j="vpv",k=3,l=2,m=1,n=0,o=1,p=2,q=3,r=4;function s(a){this.cachedAllStories=[],this.cachedVisibleStories={init:!1,data:{}},this.fireTimer=this.fireTimer.bind(this),this.logAnnotatedVPV=this.logAnnotatedVPV.bind(this),this.markStoryRead=this.markStoryRead.bind(this),this.behavior=a}s.prototype.init=function(a){__p&&__p();this.useBanzai=!0;this.vpvDebug=!!a.vpv_debug;this.vpvdDebug=!!a.vpvd_debug;this.vpvdAnalysis=!!a.vpvd_analysis;this.trackingHooks=!!a.tracking_hooks;this.ctaLoggingEnabled=!!a.cta_logging_enabled;this.adAllocationIntegrityLoggingEnabled=!!a.ad_allocation_integrity_logging_enabled;this.readStoryIDs={};this.annotatedStoryIDs={};this.minSizeToBeVisible=200;this.storyIDsWasInView={};this.minFractionToBeVisibleForTimetracking=.5;this.scrollThrottlingInterval=100;this.mouseThrottlingInterval=100;this.keyboardThrottlingInterval=100;this.userActivityPollingInterval=5e3;this.timeToBeConsideredInactive=15e3;this.minTimeToReportImmediately=500;this.discardVPVDIntervalThreshold=9e4;this.active_state_duration=1e3;this.height_diff_to_change_state=25;this.focused_state_duration=3500;this.invalidateAllStoriesCache();this.cachedViewportHeight=b("getViewportDimensions")().height;this.isTimetrackingEnabled=!1;this.activeStories={};this.userInactiveLock=!1;this.userActivityPollerTimeoutID=null;this._headLoadStoryCount=0;this.behavior.getDataFromConfig&&this.behavior.getDataFromConfig(a,this);this.isTimetrackingEnabled&&(this.lastMouseX=-1,this.lastMouseY=-1,this.lastStreamY=-1,this.latestStreamYChangedTimeStamp=-1,this.userFocus=p,this.latestUserFocus=p,this.latestUserActivity="init",this.focusedStory=null,this.latestFocusedStory=null,this.latestActiveStory=null,this.totalVPVDuration={});a.tracking_duration_config&&(this.scrollThrottlingInterval=a.tracking_duration_config.scroll_throttling_interval,this.mouseThrottlingInterval=a.tracking_duration_config.mouse_throttling_interval,this.keyboardThrottlingInterval=a.tracking_duration_config.keyboardThrottlingInterval,this.userActivityPollingInterval=a.tracking_duration_config.user_activity_polling_interval,this.timeToBeConsideredInactive=a.tracking_duration_config.time_to_be_considered_inactive,this.minFractionToBeVisibleForTimetracking=a.tracking_duration_config.min_fraction_to_be_visible,this.minTimeToReportImmediately=a.tracking_duration_config.min_time_to_report_immediately,this.active_state_duration=a.tracking_duration_config.active_state_duration,this.height_diff_to_change_state=a.tracking_duration_config.story_height_diff_to_change_state,this.focused_state_duration=a.tracking_duration_config.focused_state_duration,this.discardVPVDIntervalThreshold=a.tracking_duration_config.discard_vpvd_interval_threshold);a.record_delay!==undefined||h(0,undefined);var c=b("debounce")(this.fireTimer,a.record_delay,this);this.initialStories=this.getStoriesInView();this.initialStoriesLogged=!1;this.annotatedVPVLogging&&this.initialStories.forEach(this.logAnnotatedVPV,this);this.subscriptions=new(b("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(this._getScrollListener(c),b("Event").listen(window,"resize",function(){this.invalidateVisibleStoriesCache(),this.cachedViewportHeight=b("getViewportDimensions")().height,c()}.bind(this)),b("Event").listen(window,"focus",function(){this.isTimetrackingEnabled&&this.updateTimeTrackingData(!1,"window_focus")}.bind(this)),b("Event").listen(window,"blur",function(){this.isTimetrackingEnabled&&this.updateTimeTrackingData(!0,"window_blur")}.bind(this)),b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_BEGIN,this.cleanup.bind(this)),b("Arbiter").subscribe("Stream/totalHeadLoadedStories",function(a,b){this._headLoadStoryCount=b.count}.bind(this)),b("Arbiter").subscribe(b("LitestandMessages").STORIES_INSERTED,function(){if(!this.initialStoriesLogged){var a=this.getStoriesInView();a.forEach(this.logAnnotatedVPV,this)}else c();this.isTimetrackingEnabled&&this.updateTimeTrackingData(!1,"stories_inserted")}.bind(this)));if(this.isTimetrackingEnabled&&this.behavior.getStream){this.updateTimeTrackingData(!1,"init");a=b("throttle")(function(event){this.invalidateVisibleStoriesCache(),this.handleScroll(event)}.bind(this),this.scrollThrottlingInterval);var d=b("throttle")(function(event){return this.handleKeyboard(event)}.bind(this),this.keyboardThrottlingInterval),e=b("throttle")(function(event){return this.handleMouse(event)}.bind(this),this.mouseThrottlingInterval);this.subscriptions.addSubscriptions(b("Event").listen(window,"scroll",a),b("Event").listen(document.documentElement,"DOMMouseScroll",a,undefined,{passive:!0}),b("Event").listen(document.documentElement,"mousewheel",a,undefined,{passive:!0}),b("Event").listen(document.documentElement,"keydown",d),b("Event").listen(document.documentElement,"mouseover",e),b("Event").listen(document.documentElement,"mousemove",e),b("Event").listen(document.documentElement,"click",function(event){this.handleMouse(event)}.bind(this)),b("Arbiter").subscribe("Event/stop",function(a,b){this.handleMouse(b.event)}.bind(this)),b("Arbiter").subscribe("PhotoSnowlift.OPEN",function(){this.userFocus=q,this.handleLayers()}.bind(this)),b("Arbiter").subscribe("PhotoSnowlift.CLOSE",function(){this.userFocus=o,this.focusedStory=null,this.updateTimeTrackingData(!1,"snowlift_close")}.bind(this)));this._userActivityPoller()}b("Run").onLeave(this.cleanup.bind(this));b("Run").onUnload(this.cleanup.bind(this))};s.prototype._getScrollListener=function(a){return b("Event").listen(window,"scroll",a)};s.prototype.cleanup=function(){this.subscriptions&&(this.subscriptions.release(),this.subscriptions=null);this.isTimetrackingEnabled&&(b("clearTimeout")(this.userActivityPollerTimeoutID),this.updateTimeTrackingData(!0,"cleanup"));if(this.annotatedVPVLogging){var a=this.getStoriesInView();a.forEach(this.logAnnotatedVPV,this)}this.initialStories=[];this._headLoadStoryCount=0};s.prototype.fireTimer=function(){__p&&__p();this.initialStoriesLogged||(this.initialStories.forEach(this.markStoryRead,this),this.initialStoriesLogged=!0);this.storiesInView=this.getStoriesInView();this.storiesInView.forEach(this.markStoryRead,this);if(this.trackingHooks){var a=this.isTimetrackingEnabled?this.getVisibleStoriesFromCache():this.getAllStoriesInView(),c=[],d=Object.keys(a);for(var e=0,f=d.length;e<f;e++){var g=d[e];a[g].story&&c.push(a[g].story)}b("ViewportTrackingHooks").updateVisibleViewportObjects(c)}};s.prototype.getSessionID=function(){return null};s.prototype._userActivityPoller=function(){!this.userInactiveLock&&!b("UserActivity").isActive(this.timeToBeConsideredInactive)&&(this.userInactiveLock=!0,this.userFocus=p,this.updateTimeTrackingData(!1,"user_activity_inactive"),b("UserActivity").subscribeOnce(function(){this.userFocus=o,this.updateTimeTrackingData(!1,"user_activity_active"),this.userInactiveLock=!1}.bind(this))),this.userActivityPollerTimeoutID=b("setTimeout")(b("TimeSlice").guard(this._userActivityPoller.bind(this),"ViewportTracking poll setTimeout",{propagationType:b("TimeSlice").PropagationType.EXECUTION}),this.userActivityPollingInterval)};s.prototype.getQueryID=function(a){return-1};s.prototype.getFBFeedLocations=function(a){return-1};s.prototype.getFBFeedInsertionPosition=function(a){return-1};s.prototype.createVPVDTimer=function(a){var b=document.createElement("label");b.setAttribute("for",a.toString());b.setAttribute("class","vpvd_debug_timer");return b};s.prototype.updateVPVDTimer=function(a){__p&&__p();var c=this.activeStories[a].story;if(!c)return;var d=b("DOM").scry(c,".vpvd_debug_timer");if(!d.length){d=[this.createVPVDTimer(c),this.createVPVDTimer(c)];var e=b("DOM").scry(c,".UFIRow");e.length&&e[e.length-1].clientWidth>0?e[e.length-1].appendChild(d[0]):c.appendChild(d[0]);c.insertBefore(d[1],c.firstChild)}e=this.totalVPVDuration[a];c=Math.floor(e/1e3)+"."+Math.floor(e%1e3/100);b("DOM").setContent(d[0],c);b("DOM").setContent(d[1],c)};s.prototype.updateVPVDTimers=function(){for(var a in this.activeStories)Object.prototype.hasOwnProperty.call(this.activeStories,a)&&this.updateVPVDTimer(a)};s.prototype.logVpvdAnalysis=function(a,c,d,e,f,g){__p&&__p();var h=new(b("BanzaiScuba"))("vpv_duration");h.addDenorm("qid",this.getQueryID(this.activeStories[a].story));h.addDenorm("uid",b("CurrentUser").getID());h.addDenorm("vsid",a);h.addInteger("time",Math.round(Date.now()/1e3));h.addInteger("duration",e);h.addInteger("total_duration",f);h.addNormal("story_state",this.activeStories[a].state);h.addNormal("is_active_state",d);h.addNormal("num_visible_stories",this.numVisibleStories);h.addInteger("story_height",this.activeStories[a].story_height);h.addInteger("story_visible_height",this.activeStories[a].height);h.addInteger("state_visible_height",g);h.addInteger("total_visible_height",this.totalVisibleHeight);h.addInteger("total_height",this.totalHeight);h.addNormal("user_focus",this.latestUserFocus);h.addNormal("next_user_focus",this.userFocus);h.addInteger("vpvd",c);h.addInteger("accumulated_vpvd",this.activeStories[a].vpvd);h.addNormal("user_activity",this.latestUserActivity);h.addNormal("next_user_activity",this.userActivity);h.addInteger("story_position_y",this.activeStories[a].y);h.addInteger("feed_insertion_position",this.getFBFeedInsertionPosition(this.activeStories[a].story));h.addNormal("visible_position",this.activeStories[a].visible_position);h.addNormal("is_focused_story",this.activeStories[a].is_focused);h.post()};s.prototype.shouldDiscardStory=function(a){var b=this.activeStories[a].height||0;return b!=this.activeStories[a].story_height&&b<this.totalHeight/2};s.prototype.calculateTotalHeight=function(){this.totalHeight=0;for(var a in this.activeStories)Object.prototype.hasOwnProperty.call(this.activeStories,a)&&(this.totalHeight+=this.activeStories[a].height)};s.prototype.updateVPVDurations=function(a){__p&&__p();var b;if(this.latestUserFocus===p||a-this.latestTimeTrackingTimestamp>this.discardVPVDIntervalThreshold)return;b=(b={},b[m]=0,b[l]=0,b[k]=0,b);var c=a-this.latestTimeTrackingTimestamp>=this.focused_state_duration;this.totalVisibleHeight=0;for(var d in this.activeStories)if(Object.prototype.hasOwnProperty.call(this.activeStories,d)&&!(this.latestUserFocus===o&&c&&this.shouldDiscardStory(d))){var e=this.activeStories[d].state||null,f=this.activeStories[d].height||0;e!==null&&Object.prototype.hasOwnProperty.call(b,e)&&(b[e]+=f);this.totalVisibleHeight+=f}e=0;f=a-this.latestTimeTrackingTimestamp;this.latestUserFocus===o&&(f=b[k]>0?this.focused_state_duration:this.active_state_duration,f=Math.min(f,a-this.latestTimeTrackingTimestamp),e=a-this.latestTimeTrackingTimestamp-f);a=0;var g=k;for(var h=k;h>=m;h--)if(b[h]>0){a=b[h];g=h;break}h=b[k]+b[l]+b[m];b=0;for(d in this.activeStories)if(Object.prototype.hasOwnProperty.call(this.activeStories,d)){if(this.latestUserFocus===o&&c&&this.shouldDiscardStory(d))continue;var i=this.activeStories[d].state||n;if(a>0&&i>=g){i=this.activeStories[d].height||0;b=f*(i/a);this.vpvdAnalysis&&f>0&&this.logVpvdAnalysis(d,b,!0,f,f+e,a);this.activeStories[d].vpvd+=b;this.totalVPVDuration[d]+=b}if(h>0){i=this.activeStories[d].height||0;b=e*(i/h);this.vpvdAnalysis&&e>0&&this.logVpvdAnalysis(d,b,!1,e,f+e,h);this.activeStories[d].vpvd+=b;this.totalVPVDuration[d]+=b}}};s.prototype.updateActiveStory=function(a,b,c,d){this.activeStories[a].state=b,this.activeStories[a].ts=c,this.activeStories[a].height_snapshot=d[a].height,this.activeStories[a].is_focused=this.focusedStory===d[a].story,this.activeStories[a].story_height=d[a].story_height,this.vpvdAnalysis&&(this.activeStories[a].visible_position=d[a].visible_position,this.activeStories[a].y=d[a].y)};s.prototype.updateActiveStories=function(a,b){for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))if(c in this.activeStories){var d=a[c].height||0;this.activeStories[c].height=d;d=d-(this.activeStories[c].height_snapshot||0);this.focusedStory===a[c].story?this.updateActiveStory(c,k,b,a):d<=-this.height_diff_to_change_state?this.updateActiveStory(c,this.shouldDiscardStory(c)?n:m,b,a):(d>=this.height_diff_to_change_state||this.activeStories[c].is_focused||this.activeStories[c].height===this.activeStories[c].story_height)&&this.updateActiveStory(c,l,b,a)}else this.storyIDsWasInView[c]=!0,this.activeStories[c]={evp_ts:b,story:a[c].story,height:a[c].height,vpvd:0},this.totalVPVDuration[c]||(this.totalVPVDuration[c]=0),this.updateActiveStory(c,l,b,a),this.behavior.afterStoryEntersViewport&&this.behavior.afterStoryEntersViewport(this.activeStories[c].story)};s.prototype.recordVPVDurations=function(a,b){for(var c in this.activeStories)if(Object.prototype.hasOwnProperty.call(this.activeStories,c)&&(b||!(c in a))){var d=this.activeStories[c].vpvd||0;(d>this.focused_state_duration||d===this.totalVPVDuration[c])&&this.recordTimeStoryWasInView(this.activeStories[c]);this.behavior.afterStoryExitsViewport&&this.behavior.afterStoryExitsViewport(this.activeStories[c].story);delete this.activeStories[c]}};s.prototype.updateTimeTrackingData=function(a,b){__p&&__p();this.userActivity=b;this.activeStories||(this.activeStories={});b=Date.now();this.latestTimeTrackingTimestamp||(this.latestTimeTrackingTimestamp=b);var c=this.getVisibleStoriesFromCache();this.calculateTotalHeight();this.updateVPVDurations(b);this.updateActiveStories(c,b);this.vpvdDebug&&this.updateVPVDTimers();this.recordVPVDurations(c,a);a?this.latestTimeTrackingTimestamp=0:this.latestTimeTrackingTimestamp=b;this.latestUserActivity=this.userActivity;this.latestUserFocus=this.userFocus;this.focusedStory&&(this.latestActiveStory=this.focusedStory);this.latestFocusedStory=this.focusedStory;this.focusedStory=null};s.prototype.needsToUpdateTimeTrackingData=function(){return!(this.latestUserFocus===this.userFocus&&(this.userFocus===p||this.userFocus===o&&!this.latestFocusedStory&&!this.focusedStory))};s.prototype.getfocusedStory=function(a){var c=this.getVisibleStoriesFromCache();for(var d in c)if(Object.prototype.hasOwnProperty.call(c,d)){var e=c[d].story;if(e&&b("ViewportTrackingHelper").isDescendantOf(a,e))return e}return null};s.prototype.handleLayers=function(){if(this.userFocus===q||this.userFocus===r){this.focusedStory=this.latestActiveStory;this.updateTimeTrackingData(!1,"media_layer");return!0}return!1};s.prototype.didInteractWithStream=function(a){if(!this.behavior.getStream)return!1;var c=this.behavior.getStream();return b("ViewportTrackingHelper").isDescendantOf(a,c)||b("ViewportTrackingHelper").isDescendantOf(c,a)};s.prototype.handleScroll=function(event){if(this.handleLayers())return;var a=Date.now();this.behavior.getStream||h(0,undefined);var c=b("getElementPosition")(this.behavior.getStream()).y;c!=this.lastStreamY||a-this.latestStreamYChangedTimeStamp<2.5*this.scrollThrottlingInterval||this.didInteractWithStream(event.target)?(this.latestStreamYChangedTimeStamp=a,this.userFocus=o):this.userFocus=p;this.lastStreamY=c;(this.userFocus===o||this.needsToUpdateTimeTrackingData())&&this.updateTimeTrackingData(!1,"scroll")};s.prototype.handleKeyboard=function(event){if(this.handleLayers())return;this.didInteractWithStream(event.target)?(this.userFocus=o,this.focusedStory=this.getfocusedStory(event.target)):b("CSS").hasClass(event.target,"shareInput")?(this.userFocus=o,this.focusedStory=this.latestActiveStory):this.userFocus=p;(this.userFocus===o||this.needsToUpdateTimeTrackingData())&&this.updateTimeTrackingData(!1,"keyboard")};s.prototype.handleMouse=function(event){if(this.handleLayers())return;if(event.type!="click"&&event.clientX===this.lastMouseX&&event.clientY===this.lastMouseY)return;event.type==="click"&&this.invalidateVisibleStoriesCache();this.didInteractWithStream(event.target)?(this.userFocus=o,this.focusedStory=this.getfocusedStory(event.target)):this.userFocus=p;this.lastMouseX=event.clientX;this.lastMouseY=event.clientY;this.needsToUpdateTimeTrackingData()&&this.updateTimeTrackingData(!1,event.type)};s.prototype.getStoriesInView=function(){__p&&__p();var a=this.behavior.getAllStories(),c=[],d=!1;for(var e=0;e<a.length;e++){var f=a[e],g=this.behavior.getStoryID(f);if(g&&this.hasBeenVisible(g))continue;if(b("ViewportTrackingHelper").isVisible(f,this.minSizeToBeVisible))f.getAttribute("data-insertion-position")===null&&f.setAttribute("data-insertion-position",(e-this._headLoadStoryCount).toString()),c.push(f),d=!0;else if(d)break}return c};s.prototype.getAllStoriesFromCache=function(){this.cachedAllStories.length===0&&(this.cachedAllStories=this.behavior.getAllStories());return this.cachedAllStories};s.prototype.invalidateAllStoriesCache=function(){this.cachedAllStories=[],this.invalidateVisibleStoriesCache()};s.prototype.getVisibleStoriesFromCache=function(){this.cachedVisibleStories.init||(this.cachedVisibleStories={init:!0,data:this.getAllStoriesInView()});return this.cachedVisibleStories.data};s.prototype.invalidateVisibleStoriesCache=function(){this.cachedVisibleStories={init:!1,data:{}}};s.prototype.getAllStoriesInView=function(){__p&&__p();var a=this.getAllStoriesFromCache(),c={},d=!1,e=0,f=a.length,g=1,h=a.length;this._indexOfLastVisibleStoryOnPreviousPass>f/2&&(e=f-1,f=-1,g=-g);for(var e=e;e!=f;e+=g){var i=a[e],j=b("ViewportTrackingHelper").getHeightIfVisible(i,Math.min(this.minSizeToBeVisible,this.minFractionToBeVisibleForTimetracking*b("DOMDimensions").getElementDimensions(i).height));if(j>0||i===this.focusedStory){i.getAttribute("data-insertion-position")===null&&i.setAttribute("data-insertion-position",(e-this._headLoadStoryCount).toString());var k=this.behavior.getStoryID(i);k&&(c[k]={story:i,height:j,story_height:b("DOMDimensions").getElementDimensions(i).height},d=!0,this.vpvdAnalysis&&(c[k].y=b("getElementPosition")(i).y,c[k].visible_position=e,h=Math.min(h,e)))}else if(d){this._indexOfLastVisibleStoryOnPreviousPass=e-g;break}}if(this.vpvdAnalysis){this.numVisibleStories=0;for(k in c)Object.prototype.hasOwnProperty.call(c,k)&&(c[k].visible_position-=h,this.numVisibleStories++)}return c};s.prototype.getTimetrackingDataToLog=function(a){a={evt:i,time_spent_id:b("pageID"),vpvd_start_timestamp:a.evp_ts||null,vpvd_time_delta:Math.round(a.vpvd||0),story_height:b("DOMDimensions").getElementDimensions(a.story).height,viewport_height:this.cachedViewportHeight};return{ft:a}};s.prototype.getGapsInfoToLog=function(a){__p&&__p();if(a===null||a===undefined)return null;var c=b("AdAllocationIntegrityUtils").getFeedStoryCategory(a),d=new(b("AdAllocationIntegrityGapsInfo"))(c);if(!b("AdAllocationIntegrityUtils").isGapRuleCategory(c))return d;else{c=b("AdAllocationIntegrityUtils").getDedupKey(a);if(c===null)return null;a=this.behavior.getAllStories().filter(function(a){return Object.prototype.hasOwnProperty.call(this.storyIDsWasInView,this.behavior.getStoryID(a))}.bind(this));var e=-1;for(var f=a.length-1;f>=0;f--){var g=b("AdAllocationIntegrityUtils").getDedupKey(a[f]);if(e<0)g!==null&&c===g&&(e=f,d.setDistToTop(e+1));else{g=b("AdAllocationIntegrityUtils").getFeedStoryCategory(a[f]);b("AdAllocationIntegrityUtils").isGapRuleCategory(g)&&d.setDistIfAbsent(g,e-f)}}return d}};s.prototype.recordTimeStoryWasInView=function(a){__p&&__p();if(!this.isTimetrackingEnabled)return;var c=a.story;if(!a.vpvd||!c)return;if(a.vpvd>0){a=this.getTimetrackingDataToLog(a);var d=b("collectDataAttributes")(c,["ft"]);Object.assign(a.ft,d.ft);if(this.adAllocationIntegrityLoggingEnabled){var e=this.getGapsInfoToLog(c);Object.assign(a.ft,e)}e=!!d.ft.ei&&a.ft.vpvd_time_delta>this.minTimeToReportImmediately;a.ei&&delete a.ei;this.sendDataToLog(c,a,e)}};s.prototype.hasBeenVisible=function(a){return a in this.readStoryIDs};s.prototype.sendDataToLog=function(a,c,d){if(this.useBanzai){var e={};d&&(e.delay=3e3);d=this.getSessionID();d&&(c.ft.session_id=d);c.ft.raw_client_time=Date.now()/1e3;b("Banzai").post("feed_tracking",c,e)}else b("clickRefAction")(j,a,null,"FORCE",c)};s.prototype.markStoryRead=function(a){__p&&__p();var c=this.behavior.getStoryID(a);if(!c||this.hasBeenVisible(c))return;this.readStoryIDs[c]=!0;this.annotatedStoryIDs[c]=!0;c=this._getDataToLogImpl(a);var d=b("collectDataAttributes")(a,["ft"]);Object.assign(c.ft,d.ft);delete c.ei;this.sendDataToLog(a,c,!1);this.vpvDebug&&b("CSS").addClass(a,"_5m7s")};s.prototype.logAnnotatedVPV=function(a){__p&&__p();var c=this.behavior.getStoryID(a);if(!c||c in this.annotatedStoryIDs)return;this.annotatedStoryIDs[c]=!0;c=this._getDataToLogImpl(a);var d=b("collectDataAttributes")(a,["ft"]);Object.assign(c.ft,d.ft);delete c.ei;c.ft.vpv_ft_only=1;this.sendDataToLog(a,c,!1)};s.prototype._getDataToLogImpl=function(a){a=this.behavior.getDataToLog(a);a.ft||(a.ft={});return a};s.clearSingleton=function(){};var t={getAllStories:function(){return[]},getStoryID:function(a){return null},getDataToLog:function(a){return{}}};a=b("viewportTrackingBuilder")(function(a){return new s(t)});s.factory=a.factory.bind(a);s.singleton=a.singleton.bind(a);s.clearSingleton=a.clearSingleton.bind(a);s.getBehavior=function(){return t};e.exports=s}),null);
__d("collectSubtreeData",[],(function(a,b,c,d,e,f){__p&&__p();function g(a,b,c,d,e){__p&&__p();if(a.offsetWidth===0&&a.offsetHeight===0)return e;var f={};if(a.getAttribute)for(j=0;j<b.length;j++){k=b[j];var h=a.getAttribute(c[k]);if(h){f[k]={};h=JSON.parse(h);for(var i in d)h[i]!==undefined&&(f[k][i]=!0,e[k]===undefined&&(e[k]={}),e[k][i]===undefined&&(e[k][i]=[]),d[i].length>0&&e[k][i].push(d[i]),e[k][i].push("("+h[i]))}}for(var j=0;j<a.childNodes.length;j++){h=a.childNodes[j];g(h,b,c,d,e)}for(var k in f)for(var l in f[k]){h=e[k][l][e[k][l].length-1];h.length>0&&h.charAt(0)=="("?e[k][l][e[k][l].length-1]=h.substr(1):e[k][l].push(")")}return e}function a(a,b){__p&&__p();var c={};for(var d=0;d<b.length;++d)c[b[d]]="data-"+b[d];d={tn:"","tn-debug":","};var e={};g(a,b,c,d,e);for(var f in e)for(var h in e[f])e[f][h]=e[f][h].join("");return e}e.exports=a}),null);
__d("recordTNTreeData",["collectSubtreeData"],(function(a,b,c,d,e,f){function a(a,c){var d={},e=b("collectSubtreeData")(a,["ft"]);for(var f in e.ft)d[f+"_tree"]=e.ft[f],f==="tn-debug"&&a.setAttribute("tn-debug_subtree",e.ft[f]);d.evt_value=a.offsetHeight;c&&(d.offset=Math.max(0,a.offsetTop-c.offsetTop));return d}e.exports=a}),null);
__d("StreamViewportTracking",["DataAttributeUtils","DOM","DOMDimensions","FeedImageLoadPerfLogger","ViewportTracking","ge","gkx","recordTNTreeData","viewportTrackingBuilder"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=51;function j(a,c,d,e){__p&&__p();e===void 0&&(e=i);return{_stream:null,getDataFromConfig:function(a,b){b.isTimetrackingEnabled=!0},getAllStories:function(){var a=b("DOM").scry(this.getStream(),d);return a.filter(function(a){return b("DataAttributeUtils").getDataFt(a)})},getStream:function(){if(c)return c;this._stream||(this._stream=b("ge")("home_stream"));return this._stream},getStoryID:function(a){a=JSON.parse(b("DataAttributeUtils").getDataFt(a));return a&&a.mf_story_key},getDataToLog:function(a){__p&&__p();var c=this.getStream();c=b("recordTNTreeData")(a,c);var d=a.getAttribute("data-insertion-position");d!==null&&(c.inspos=d);c.evt=e;c.vpv_time=Math.round(Date.now()/1e3);d=b("DOM").scry(a,".fbStoryAttachmentImage")[0];if(d){a=b("DOMDimensions").getElementDimensions(d);c.story_image_height=a.height;c.story_image_width=a.width}return{ft:c}},afterStoryEntersViewport:b("gkx")("AT6iI7ZM-DEUqLyzH0WIG7tai1ljdAuMyZ79cNQA7lTOnZyBqjqwUgFPVt96-L_E3U8HkpYLqVG1H03r2SDZc5ot")?function(a){b("FeedImageLoadPerfLogger").startMarkers(a)}:function(a){},afterStoryExitsViewport:b("gkx")("AT6iI7ZM-DEUqLyzH0WIG7tai1ljdAuMyZ79cNQA7lTOnZyBqjqwUgFPVt96-L_E3U8HkpYLqVG1H03r2SDZc5ot")?function(a){b("FeedImageLoadPerfLogger").cancelMarkers(a)}:function(a){}}}g=babelHelpers.inherits(k,b("ViewportTracking"));h=g&&g.prototype;k.prototype.getQueryID=function(a){a=JSON.parse(b("DataAttributeUtils").getDataFt(a));return a.qid};k.prototype.getFBFeedLocations=function(a){a=JSON.parse(b("DataAttributeUtils").getDataFt(a));return a.fbfeed_location};k.prototype.getFBFeedInsertionPosition=function(a){a=JSON.parse(b("DataAttributeUtils").getDataFt(a));return a.insertion_position};k.prototype.getTimetrackingDataToLog=function(a){__p&&__p();var c=h.getTimetrackingDataToLog.call(this,a);if(this.ctaLoggingEnabled){a=b("DOM").scry(a.story,"[data-is-cta]").map(function(a){a=b("DataAttributeUtils").getDataFt(a);a=a&&JSON.parse(a);return a&&a.cta_types}).filter(function(a){return!!a});a.length>0&&(c.ft.cta_types=a)}return c};k.prototype.cleanup=function(){l.clearSingleton(),h.cleanup.call(this)};function k(){g.apply(this,arguments)}var l=b("viewportTrackingBuilder")(function(a,b){b=new k(j(a,b,".uiStreamStory"));b.init(a);return b});k.factory=l.factory.bind(l);k.singleton=l.singleton.bind(l);k.clearSingleton=l.clearSingleton.bind(l);k.getBehavior=j;e.exports=k}),null);
__d("prevNextControlActions",["prevNextControlActionTypes"],(function(a,b,c,d,e,f){"use strict";a={addID:function(a){return{type:b("prevNextControlActionTypes").ADD_ID,payload:a}},popID:function(){return{type:b("prevNextControlActionTypes").POP_ID}}};e.exports=a}),null);
__d("TahoeActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({SET_MC:null,EXIT:null});e.exports=a}),null);
__d("TahoeDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.dispatch=this.dispatch.bind(this)}e.exports=new a({strict:!0})}),null);
__d("TahoeActions",["TahoeActionTypes","TahoeDispatcher"],(function(a,b,c,d,e,f){"use strict";a={setMediaController:function(a){b("TahoeDispatcher").dispatch({type:b("TahoeActionTypes").SET_MC,mediaController:a})},exit:function(){b("TahoeDispatcher").dispatch({type:b("TahoeActionTypes").EXIT})}};e.exports=a}),null);
__d("TahoeVideoResizingController",["TahoeConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("TahoeConstants").MIN_BOTTOM_PANE_HEIGHT,h=b("TahoeConstants").MIN_PLAYER_WIDTH,i=b("TahoeConstants").MIN_PLAYER_HEIGHT,j=b("TahoeConstants").BLUE_BAR_HEIGHT,k=b("TahoeConstants").SIDE_PANE_WIDTH;a={getPlayerSize:function(a,b){a=a-k;b=b-g-j;a=Math.max(a,h);b=Math.max(b,i);return{width:a,height:b}}};e.exports=a}),null);
__d("TahoeVideoStore",["FluxMapStore","TahoeActionTypes","TahoeDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxMapStore"));g&&g.prototype;a.prototype.reduce=function(a,c){switch(c.type){case b("TahoeActionTypes").SET_MC:a=a.set("mediaController",c.mediaController);break;case b("TahoeActionTypes").EXIT:a=b("immutable").Map();break;default:break}return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("TahoeDispatcher"))}),null);
__d("TahoeMainPlayerViewportTracking",["csx","StreamViewportTracking","ViewportTracking"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=25;h=babelHelpers.inherits(k,b("StreamViewportTracking"));i=h&&h.prototype;k.prototype.getTimetrackingDataToLog=function(a){a=i.getTimetrackingDataToLog.call(this,a);a.ft.src=j;return a};function k(){h.apply(this,arguments)}e.exports={setup:function(a,c,d){c=new k(b("StreamViewportTracking").getBehavior(a,c,"._5-yb",d));c.init(a);return c}}}),null);
__d("TahoeUpNextUnitPlaceholder.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_27do"}),b("React").createElement("div",{className:"_27dr"}),b("React").createElement("div",{className:"_27em"}),b("React").createElement("div",{className:"_27en"}))}e.exports=a}),null);
__d("TahoeSidePanePlaceholder.react",["cx","Layout.react","React","TahoeUpNextUnitPlaceholder.react","TahoeV2Config"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("Layout.react").Column,j=b("Layout.react").FillColumn;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("TahoeV2Config").showTahoe2UI?b("React").createElement("div",{className:"_wxj _6j4x"},b("React").createElement("div",{className:"_6j4y"},b("React").createElement("div",{className:"_6j4z _6j4-"}),b("React").createElement("div",{className:"_6j4z _6j4_"}),b("React").createElement("div",{className:"_6j4z _6j50"}),b("React").createElement("div",{className:"_6j4z _6j54"}),b("React").createElement("div",{className:"_6j55"},b("React").createElement(b("Layout.react"),null,b("React").createElement(i,{className:"_3-90"},b("React").createElement("div",{className:"_6j56"})),b("React").createElement(j,null,b("React").createElement("div",{className:"_6j57"})))))):b("React").createElement("div",{className:"_wxj _1-z7"},b("React").createElement("div",{className:"_1kna"}),b("React").createElement("div",{className:"_1knc"}),b("React").createElement("div",{className:"_1knd"}),b("React").createElement("div",{className:"_1kne"}),b("React").createElement("div",{className:"_1knf"}),b("React").createElement("div",{className:"_1kng"}),b("React").createElement(b("TahoeUpNextUnitPlaceholder.react"),null))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("TahoeUpNextViewportTracking",["csx","StreamViewportTracking","ViewportTracking"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j="tahoe_up_next_videos";h=babelHelpers.inherits(k,b("StreamViewportTracking"));i=h&&h.prototype;k.prototype.getTimetrackingDataToLog=function(a){a=i.getTimetrackingDataToLog.call(this,a);a.ft.tracking_source=j;return a};function k(){h.apply(this,arguments)}e.exports={setup:function(a,c,d){c=new k(b("StreamViewportTracking").getBehavior(a,c,"._bne",d));c.init(a);return c}}}),null);
__d("VideoInfoBottomPaneShimmer.react",["cx","ImageBlock.react","InlineBlock.react","LeftRight.react","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_2ve3 _2ve4"},b("React").createElement("div",null,b("React").createElement(b("LeftRight.react"),null,b("React").createElement(i,{width:320}),b("React").createElement("span",null,b("React").createElement(k,null),b("React").createElement(k,null),b("React").createElement(k,null))),b("React").createElement(i,{width:222}),b("React").createElement("div",{className:"_2vev"},b("React").createElement(b("ImageBlock.react"),null,b("React").createElement("span",{className:"_2vew"}),b("React").createElement(b("InlineBlock.react"),{alignv:"middle",height:36,fullWidth:!0},b("React").createElement(l,{width:90,height:16}))))),b("React").createElement("div",{className:"_2vex"},b("React").createElement(j,{width:132}),b("React").createElement(j,{width:780}),b("React").createElement(j,{width:460})))};function a(){"use strict";h.apply(this,arguments)}var i=function(a){return b("React").createElement(l,{width:a.width,height:16,className:"_2vey"})},j=function(a){return b("React").createElement(l,{className:"_2vez",height:8,width:a.width})},k=function(){return b("React").createElement(l,{width:60,height:16,display:"inline-block",className:"_2ve-"})},l=function(a){var c=b("joinClasses")(a.className,"_2ve_");return b("React").createElement("div",{className:c,style:{width:a.width,height:a.height,display:a.display}})};l.defaultProps={display:"block"};e.exports=a}),null);
__d("XTahoeAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/tahoe/async/{id}/",{id:{type:"FBID",required:!0},externallogid:{type:"String"},sponsoreddata:{type:"String"},originalmediaid:{type:"String"},preload:{type:"Bool",defaultValue:!1},playerorigin:{type:"Enum",enumType:1},playersuborigin:{type:"String"},reactionvideochanneltype:{type:"Enum",enumType:1},reactionvideochannelsubtype:{type:"String"},ispermalink:{type:"Bool",defaultValue:!1},feedtracking:{type:"StringVector",defaultValue:[]},storyidentifier:{type:"String"},numcopyrightmatchedvideoplayedconsecutively:{type:"Int"},comment_id:{type:"Int"},reply_comment_id:{type:"Int"},payloadtype:{type:"Enum",enumType:1},tahoeviewhasrendered:{type:"Bool",defaultValue:!1}})}),null);
__d("XTahoeAsyncControllerPayloadType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ALL:"all",PRIMARY:"primary",SECONDARY:"secondary"})}),null);
__d("TahoeVideoView",["csx","cx","Arbiter","AsyncRequest","Bootloader","CSS","DOM","DOMQuery","Event","EventProfiler","HTML","Keys","LivingRoomEntrySource","LivingRoomLoggerAction","LivingRoomTypedLogger","React","ReactDOM","ReactRenderer","SubscriptionsHandler","TabBar","Tahoe","TahoeConstants","TahoeLoggerEvent","TahoeMainPlayerViewportTracking","TahoeSidePanePlaceholder.react","TahoeUpNextViewportTracking","TahoeV2Config","TimeSlice","UFISharedDispatcher","UFIStoryActionType","URI","VideoInfoBottomPaneShimmer.react","VideoPermalinkURI","VideoPlayerStates","VideoTipJarTypedLogger","XTahoeAsyncController","XTahoeAsyncControllerPayloadType","XTahoeUpNextAsyncController","ge","gkx","upNextVideoStateStore","uuid"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=4,j=b("TahoeV2Config").maximizeEndScreenVideoCount?16:9,k=/^[1-9]\d*$/,l=15,m="tahoe-preloaded-video",n=7,o="video-up-next-",p=4,q=97;function r(a,c,d,e){"use strict";__p&&__p();this.$19=!1;this.$35=function(){b("CSS").hide(this.$17),this.$8.setFullWidth(!0)}.bind(this);this.$36=function(){b("CSS").show(this.$17),this.$8.setFullWidth(!1)}.bind(this);this.$8=a;this.$9=!1;this.$13=this.$8.getID();this.$28=c;this.$29=d;this.$30=new Set([this.$13]);this.$4=b("uuid")();this.$25=!1;this.$26=[];this.$24=null;this.$8.addEvent(b("Event").listen(document,"keydown",this.$33.bind(this)));this.$21=b("CSS").setClass(b("DOM").create("div"),"_1e8c _2b-0");this.$17=b("CSS").setClass(b("DOM").create("div"),"_5-lm _3aw0 _6j1g _6j1h");this.$6=b("CSS").setClass(b("DOM").create("div"),"_17am");this.$14=b("CSS").setClass(b("DOM").create("div"),"hidden_elem");this.$15=b("TahoeConstants").DEFAULT_BROWSER_TITLE;this.$20=b("DOM").create("div");b("ReactDOM").render(b("React").createElement(b("TahoeSidePanePlaceholder.react"),null),this.$17);b("TahoeV2Config").showTahoe2UI&&(this.$22=b("CSS").setClass(b("DOM").create("div"),"_437j"),b("CSS").hide(this.$21),b("DOM").appendContent(this.$8.getContent(),this.$22),b("ReactDOM").render([b("React").createElement(b("VideoInfoBottomPaneShimmer.react"),{key:"shimmer"}),b("React").createElement("div",{className:"_3l-q",key:"inner"})],this.$22));this.$21&&b("DOM").appendContent(this.$8.getContent(),this.$21);b("DOM").appendContent(this.$8.getSideContent(),this.$17);b("DOM").appendContent(this.$17,this.$6);b("DOM").appendContent(this.$8.getContent(),this.$14);b("DOM").appendContent(this.$8.getContent(),this.$20);a=this.$8.getChannelID();c=this.$8.getCaller();this.$8.getMediaController()?(this.$34(this.$8.getID(),!1,a,c,null,e),this.setUpEndScreen(),this.setUpUFI()):this.updateView(this.$8.getID(),a,c,null,e);this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Arbiter").subscribe("UFIAddComment/focus",this.selectCommentTab.bind(this)),b("Arbiter").subscribe("quiet-mode-on",this.$35),b("Arbiter").subscribe("quiet-mode-off",this.$36),b("Arbiter").subscribe("quick-comments-visible-changed",function(a,b){return this.$37(b)}.bind(this)));b("UFISharedDispatcher").register(function(a){a.type===b("UFIStoryActionType").SHOW_COMMENTS&&this.selectCommentTab()}.bind(this))}r.prototype.$37=function(a){"use strict";var c=this.$38();if(c==null)return;a?b("CSS").addClass(c,"_4j8y"):b("CSS").removeClass(c,"_4j8y")};r.prototype.setUpUFI=function(){"use strict";var a=this.$8.getMediaController();a&&(this.$8.addEvent(a.addListener("commercialBreak/hideUFI",function(){return this.$39(!0)}.bind(this))),this.$8.addEvent(a.addListener("commercialBreak/showUFI",function(){return this.$39(!1)}.bind(this))))};r.prototype.$39=function(a){"use strict";b("gkx")("AT40M32z8lGGJCQ8BdpTKBKW7c04XyOQ5frn2-EF3H5yLFnMqCUjJXNKrWFmzea4OX3v4yubJZaoRWQAybsxXQJO")||b("CSS").conditionClass(this.$6,"_17an",a),this.$21&&b("CSS").conditionClass(this.$21,"_3qt9",a)};r.prototype.setUpEndScreen=function(){"use strict";__p&&__p();this.$19=!1;var a=this.$8.getMediaController();this.$8.addEvent(a.addListener("stateChange",this.$40.bind(this)));if(a.isLiveVideo())return;this.$8.addEvent(a.addListener("toggleFullscreen",this.$40.bind(this)));var c=a;if(!c)return;c.addListener("updateStatus",function(a){__p&&__p();var d=c.getPlaybackDuration();a=d-a.position;if(a>i){this.$24&&this.$41();return}a=c.getState();if(this.$24||a===b("VideoPlayerStates").PAUSED)return;this.$42(!1,!0,d>l,n)}.bind(this))};r.prototype.$42=function(a,c,d,e){"use strict";__p&&__p();if(this.$24)return;var f=this.$8.getMediaController(),g=f;if(!g)return;var h=b("DOM").create("div",{className:"_4n-p"});f=b("upNextVideoStateStore").getState().upNextVideoBuffer;var i=this.$43(f);b("Bootloader").loadModules(["TahoeUpNextOverlayAndEndScreen.react"],function(f){b("ReactRenderer").constructAndRenderComponent(f,{videoIDs:b("TahoeV2Config").showMoreUpNext?i:this.$26.slice(0,j),shouldShowUpNextOverlay:d&&!this.$19,countdownTimeoutSec:e,vpc:g,logEvent:function(a){this.$8.logEvent(a)}.bind(this),tahoeController:this.$8,hasCustomBackgroundForUpNextOverlay:a,isCurrentVideoReplayable:c,livingRoomID:this.$2?this.$11:null},h,function(){this.$19=!0}.bind(this))}.bind(this),"TahoeVideoView");f=g.getRootNode();f=f&&f.firstChild;f&&(f.appendChild(h),this.$24=h)};r.prototype.$40=function(){"use strict";var a=this.$8.getMediaController();a=a;!a.isLiveVideo()?this.$21&&b("CSS").conditionClass(this.$21,"_65dt",a.isState(b("VideoPlayerStates").FINISHED)):a.isState(b("VideoPlayerStates").FINISHED)&&this.$42(!0,!1,!0,n)};r.prototype.$41=function(){"use strict";var a=this.$24;a&&(b("ReactDOM").unmountComponentAtNode(a),b("DOM").remove(a),this.$24=null)};r.prototype.$44=function(){"use strict";b("CSS").addClass(this.$8.getContent(),"_29du"),b("CSS").addClass(this.$17,"_4f4w"),this.$22&&b("CSS").addClass(this.$22,"_1udj"),this.$21&&b("DOM").empty(this.$21)};r.prototype.$45=function(){"use strict";__p&&__p();b("CSS").removeClass(this.$8.getContent(),"_29du");b("CSS").removeClass(this.$17,"_4f4w");this.$22&&b("CSS").removeClass(this.$22,"_1udj");if(this.$25){var a=b("DOMQuery").find(this.$17,"._3dj6");a=b("CSS").removeClass(a,"_3dj6");var c=b("DOM").find(this.$14,"._3dj7"),d=0;this.$32&&(b("DOM").prependContent(c,this.$32),d=1,new(b("LivingRoomTypedLogger"))().setLivingRoomAction(b("LivingRoomLoggerAction").IMPRESSION).setLivingRoomID(this.$11).setEntrySource(b("LivingRoomEntrySource").TAHOE).log());b("DOM").setContent(a,c);b("EventProfiler").informManualInteractionTimestamp(["Tahoe"],!0,"click");this.$25=!1;!this.$2&&c.childNodes&&c.childNodes[d]&&this.$46(c.childNodes[d],function(){b("TimeSlice").guard(this.$47.bind(this),"Tahoe preload next video",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()}.bind(this),function(){return this.selectCommentTab()}.bind(this))}b("TahoeV2Config").showTahoe2UI&&this.$8.resizeMedia()};r.prototype.$33=function(a){"use strict";a.keyCode===b("Keys").ESC&&!a.cancelBubble&&!a.defaultPrevented&&!this.$8.getIsPermalink()&&(this.$8.logEvent(b("TahoeLoggerEvent").EXIT_WITH_ESC),this.$8.onExit())};r.prototype.$48=function(a,c){"use strict";b("TahoeV2Config").showTahoe2UI&&(a&&this.$49(),c&&this.$50())};r.prototype.$51=function(a,c,d,e){"use strict";__p&&__p();if(!b("TahoeV2Config").showMoreUpNext){a=this.$52(a,d,e);a&&a.send()}d=b("DOMQuery").scry(this.$8.getContent(),"._1c_u");d[0]&&b("DOM").replace(d[0],b("DOMQuery").scry(c,"._5-yb")[0]);e=b("DOMQuery").scry(c,"._1w6j");a=b("DOMQuery").scry(c,"._3l-q");this.$48(e[0],a[0]);this.$21&&e[0]&&b("DOM").setContent(this.$21,e[0]);this.$22&&a[0]&&b("DOM").setContent(this.$22,a[0]);d=this.$38();d?b("DOM").replace(d,b("DOMQuery").find(c,"._1rgu")):b("DOM").appendContent(this.$17,b("DOMQuery").find(c,"._1rgu"));document.title=this.$15;r.registerPendingController(this.$16);this.$45();e=b("Tahoe").get();e&&e.emit("insertPreloadedElements")};r.prototype.$34=function(a,c,d,e,f,g){__p&&__p();g===void 0&&(g=null);this.$3=null;f=this.$53(a,c,f);g&&(g.commentID!=="0"&&f.setInt("comment_id",g.commentID),g.replyCommentID!=="0"&&f.setInt("reply_comment_id",g.replyCommentID));g=this.$8.getStoryIdentifier();g&&f.setString("storyidentifier",g);if(!b("gkx")("AT7CwwMZOw8WnnkvAUH8-R_XhN74UiQl5IWBtf1ydgF0gjopASJ7EJNL47CkEg60hA7z16keiDc-eEywtMEXz_sZ")){f.setEnum("payloadtype",c?b("XTahoeAsyncControllerPayloadType").ALL:b("XTahoeAsyncControllerPayloadType").SECONDARY);g=new(b("AsyncRequest"))(f.getURI()).setHandler(function(a){a=a.getPayload();var d=a.ufiTray,e=a.infoBottomPane,f=a.sidePane,g=a.video,h=a.autoplayAllowed;this.$48(d,e);c&&this.$54(b("HTML").replaceJSONWrapper(g&&g.markup),h);this.$55(b("HTML").replaceJSONWrapper(f&&f.markup),b("HTML").replaceJSONWrapper(e&&e.markup),b("HTML").replaceJSONWrapper(d&&d.markup),c);this.$56(a)}.bind(this));g.send()}else c&&this.$57(f.setEnum("payloadtype",b("XTahoeAsyncControllerPayloadType").PRIMARY).getURI()),this.$58(f.setEnum("payloadtype",b("XTahoeAsyncControllerPayloadType").SECONDARY).getURI(),c);if(!b("TahoeV2Config").showMoreUpNext){g=this.$52(a,d,e);g&&g.send()}this.$44()};r.prototype.$56=function(a){"use strict";__p&&__p();a.disablePreload&&(this.$10=!0);a.viewportTrackingConfig&&(this.$31=a.viewportTrackingConfig);this.$9=!!a.hasNearlyCompleteLicensedMusicTag;this.$32=a.watchChannelUpNext?b("HTML").replaceJSONWrapper(a.watchChannelUpNext.markup):null;this.$11=a.livingRoomID?a.livingRoomID:null;this.$2=a.autoadvanceLivingRoom?a.autoadvanceLivingRoom:null;document.title=a.videoTitle||b("TahoeConstants").DEFAULT_BROWSER_TITLE;var c=this.$8.getContent(),d=this.$31;if(c&&d&&a.ftKey){var e=b("DOMQuery").scry(c,"._5-yb")[0];e&&(e.setAttribute("data-ft",a.ftKey),this.$12=b("TahoeMainPlayerViewportTracking").setup(d,c,q))}this.$45();b("EventProfiler").informManualInteractionTimestamp(["Tahoe"],!0,"click")};r.prototype.$54=function(a,c){"use strict";if(!a)return;var d=b("DOMQuery").scry(this.$8.getContent(),"._1c_u");d[0]&&b("DOM").replace(d[0],a);this.$8.setAutoplayAllowed(c)};r.prototype.$55=function(a,c,d,e){"use strict";__p&&__p();if(e){d&&b("DOM").setContent(this.$21,d);if(a){e=this.$38();e?b("DOM").replace(e,a):b("DOM").appendContent(this.$17,a)}}else d&&b("DOM").appendContent(this.$21,d),a&&b("DOM").appendContent(this.$17,a);c&&b("DOM").replace(this.$22.lastChild,c)};r.prototype.$38=function(){"use strict";return b("DOMQuery").scry(this.$17,"._1rgu")[0]};r.prototype.$53=function(a,c,d){"use strict";c=c?this.$59(a):[JSON.stringify(this.$8.getFeedTracking())];return b("XTahoeAsyncController").getURIBuilder().setFBID("id",a).setString("originalmediaid",this.$13).setEnum("playerorigin",this.$28).setString("playersuborigin",this.$29).setString("sponsoreddata",d).setString("externallogid",this.$8.getExternalLogID()).setEnum("reactionvideochanneltype",this.$8.getReactionVideoChannelType()).setString("reactionvideochannelsubtype",this.$8.getReactionVideoChannelSubtype()).setBool("ispermalink",this.$8.getIsPermalink()).setStringVector("feedtracking",c).setInt("numcopyrightmatchedvideoplayedconsecutively",this.$8.getNumCopyrightMatchedVideosPlayedConsecutively())};r.prototype.$49=function(){"use strict";b("CSS").show(this.$21),b("CSS").hide(this.$22),b("CSS").removeClass(this.$8.getContent(),"_-pb")};r.prototype.$50=function(){"use strict";b("CSS").show(this.$22),b("CSS").hide(this.$21),b("CSS").addClass(this.$8.getContent(),"_-pb")};r.prototype.$46=function(a,c,d){"use strict";a=b("DOMQuery").scry(a,"a")[0];a?(this.$3=a.getAttribute("href"),c&&c()):d&&d()};r.prototype.setUpNextChainingInfoFromReactElement=function(a){"use strict";this.$46(a,function(){b("TimeSlice").guard(this.$47.bind(this),"Tahoe preload next video",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()}.bind(this),function(){return this.selectCommentTab()}.bind(this))};r.prototype.$52=function(a,c,d){"use strict";__p&&__p();var e=b("ge")(o+a);if(e){var f=e.parentNode,g=Array.from(f.children);g.some(function(c){if(c.id!==o+a){b("DOM").remove(c);return!1}else return!0});b("DOM").remove(f.firstChild);b("DOM").appendContent(this.$14,f);if(f.children.length>=10){this.$26=this.$43(Array.from(f.children));this.$25=!0;return null}}else!e&&a!==this.$13&&(this.$8.resetChannelData(),this.$5=null,c=null,d=null);g=b("XTahoeUpNextAsyncController").getURIBuilder().setFBID("media_id",a).setFBIDSet("viewed_videos",Array.from(this.$30)).setString("channel_id",c).setEnum("caller",d).setString("cursor",this.$5).setString("search_keywords",this.$8.getSearchKeywordsForVideoChaining());f=new(b("AsyncRequest"))(g.getURI()).setHandler(function(a){__p&&__p();a=a.getPayload();this.$5=a.chainingCursor;a.viewportTrackingConfig&&(this.$31=a.viewportTrackingConfig);a=b("HTML").replaceJSONWrapper(a.upNextUnit.markup);this.$25=!0;var c=b("DOMQuery").scry(this.$17,"._3dj6"),d=b("DOMQuery").scry(this.$14,"._3dj7");if(d[0]){b("DOM").appendContent(this.$14,a);d=b("DOMQuery").scry(this.$14,"._3dj7");var e=Array.from(d[1].children);e.forEach(function(a){b("DOM").appendContent(d[0],a)});b("DOM").remove(d[1]);a=d[0];var f={};Array.from(a.children).forEach(function(a){f[a.id]?b("DOM").remove(a):f[a.id]=!0});b("DOM").remove(d[0])}e=null;c[0]?(c=b("CSS").removeClass(c[0],"_3dj6"),b("DOM").setContent(c,a),this.$25=!1,e=c):(b("DOM").appendContent(this.$14,a),e=this.$14);d=b("DOMQuery").scry(e,"._3dj7");d[0]&&(this.$26=this.$43(Array.from(d[0].children)));c=this.$31;c&&(this.$27=b("TahoeUpNextViewportTracking").setup(c,e,q),this.$23=b("TahoeUpNextViewportTracking").setup(c,e,p));a=b("DOMQuery").scry(this.$17,"._3dj7");c=0;this.$32&&(b("DOM").prependContent(a[0],this.$32),c=1,new(b("LivingRoomTypedLogger"))().setLivingRoomAction(b("LivingRoomLoggerAction").IMPRESSION).setLivingRoomID(this.$11).setEntrySource(b("LivingRoomEntrySource").TAHOE).log());e=b("DOMQuery").scry(this.$17,"._bne");b("EventProfiler").informManualInteractionTimestamp(["Tahoe"],!0,"click");!this.$2&&e.childNodes&&e.childNodes[c]&&this.$46(e.childNodes[c],function(){b("TimeSlice").guard(this.$47.bind(this),"Tahoe preload next video",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()}.bind(this),function(){return this.selectCommentTab()}.bind(this))}.bind(this));return f};r.prototype.$57=function(a){"use strict";new(b("AsyncRequest"))(a).setHandler(function(a){a=a.getPayload();var c=a.video;a=a.autoplayAllowed;this.$54(b("HTML").replaceJSONWrapper(c&&c.markup),a)}.bind(this)).send()};r.prototype.$58=function(a,c){"use strict";new(b("AsyncRequest"))(a).setHandler(function(a){a=a.getPayload();var d=a.ufiTray,e=a.infoBottomPane,f=a.sidePane;this.$48(d,e);this.$55(b("HTML").replaceJSONWrapper(f&&f.markup),b("HTML").replaceJSONWrapper(e&&e.markup),b("HTML").replaceJSONWrapper(d&&d.markup),c);this.$56(a)}.bind(this)).send()};r.prototype.$43=function(a){"use strict";return a.map(function(a){return a.id&&a.id.substring(o.length)}).filter(function(a){return this.$60(a)}.bind(this))};r.prototype.$60=function(a){"use strict";return!a?!1:k.test(a)};r.prototype.getCurrentVideoHasCopyrightMusicMatch=function(){"use strict";return this.$9};r.prototype.setUpNextVideoIDs=function(a){"use strict";this.$26=this.$43(a)};r.prototype.getUpNextVideoIDs=function(){"use strict";return this.$26};r.prototype.$47=function(){"use strict";__p&&__p();if(this.$10)return;var a=new(b("URI"))(this.$3),c=b("VideoPermalinkURI").parse(a).video_id;if(!c)return;a=a.getQueryData().sp;a=this.$53(c,!0,a).setEnum("payloadtype",b("XTahoeAsyncControllerPayloadType").ALL).setBool("preload",!0);a=new(b("AsyncRequest"))(a.getURI()).setHandler(function(a){__p&&__p();a=a.getPayload();var d=b("DOM").create("div",{id:"preload-"+c,"class":m});b("DOM").appendContent(d,b("HTML").replaceJSONWrapper(a.video.markup));a.ufiTray&&b("DOM").appendContent(d,b("HTML").replaceJSONWrapper(a.ufiTray.markup));a.infoBottomPane&&b("DOM").appendContent(d,b("HTML").replaceJSONWrapper(a.infoBottomPane.markup));b("DOM").appendContent(d,b("HTML").replaceJSONWrapper(a.sidePane.markup));b("DOM").appendContent(this.$14,d);d=typeof a.autoplayAllowed==="boolean"?a.autoplayAllowed:!0;this.$15=a.videoTitle||b("TahoeConstants").DEFAULT_BROWSER_TITLE;this.$8.setAutoplayAllowed(d);this.$9=!!a.hasNearlyCompleteLicensedMusicTag}.bind(this));a.send()};r.prototype.$59=function(a){"use strict";var c=null;a=b("ge")(o+a);a&&a.getAttribute("data-ft")&&(c=['{"ft":'+a.getAttribute("data-ft")+"}"]);return c};r.prototype.selectAddComment=function(){"use strict";var a=b("DOMQuery").scry(this.$17,".UFIAddCommentInput");a[0]&&a[0].click();this.selectCommentTab()};r.prototype.selectCommentTab=function(){"use strict";var a=this.$38();a&&(b("CSS").addClass(a,"_601h"),b("CSS").removeClass(a,"_601i"),b("Arbiter").inform("TahoeView/selectCommentTab"))};r.prototype.selectUpNextTab=function(){"use strict";var a=this.$38();a&&(b("CSS").addClass(a,"_601i"),b("CSS").removeClass(a,"_601h"))};r.prototype.setCommentOverlayActive=function(a){"use strict";var c=this.$38();if(!c)return;a?b("CSS").addClass(c,"_2l-1"):b("CSS").removeClass(c,"_2l-1")};r.prototype.updateView=function(a,c,d,e,f){e===void 0&&(e=null);f===void 0&&(f=null);this.$41();this.$30.add(a);var g=b("DOMQuery").scry(this.$14,"#preload-"+a);g[0]&&this.$16?(this.$51(a,g[0],c,d),this.$61()):(this.$61(),this.$27&&this.$27.cleanup(),this.$23&&this.$23.cleanup(),this.$12&&this.$12.cleanup(),this.$34(a,!0,c,d,e,f));this.$39(!1)};r.prototype.$61=function(){"use strict";this.$16=null;var a=b("DOMQuery").scry(this.$14,"."+m);Array.from(a).forEach(function(a){b("DOM").remove(a)})};r.prototype.toggleNativeSupportFlyout=function(){"use strict";var a=b("DOMQuery").scry(this.$17,".UFICommentSupportButton");a.length>0&&(a[0].dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),a[0].dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),a[0].click())};r.prototype.loadStickerGallery=function(){"use strict";b("Bootloader").loadModules(["TahoeStickerGallery"],function(a){a.loadStickerGallery(this.$20)}.bind(this),"TahoeVideoView")};r.prototype.getBottomTrayHeight=function(){"use strict";return this.isRenderingBottomInfoPane()?this.$22&&this.$22.clientHeight:this.$21.clientHeight};r.prototype.isRenderingBottomInfoPane=function(){"use strict";return!b("CSS").shown(this.$21)};r.prototype.onExit=function(){"use strict";this.$1.release(),this.$41()};r.registerCommentLink=function(a){"use strict";var c=b("Tahoe").get();c&&c.addEvent(b("Event").listen(a,"click",function(){return c.getView().selectAddComment()}))};r.registerPendingController=function(a){"use strict";var c=b("Tahoe").get();c&&a&&(c.updateMedia(a),c.emit("TahoeController/mediaControllerRegistered"))};r.registerPreloadController=function(a){"use strict";var c=b("Tahoe").get();c&&(c.getView().$16=a)};r.registerSidepaneTabbar=function(a){"use strict";__p&&__p();var c=b("Tahoe").get();if(c!=null){var d=c.getView();d instanceof r&&a.subscribe(b("TabBar").TAB_CLICK,function(a,b){switch(b){case"up-next":d.selectUpNextTab();break;case"comments":d.selectCommentTab()}})}};r.registerSupportLink=function(a){"use strict";var c=b("Tahoe").get();if(c==null)return;var d=c.getView();if(!(d instanceof r))return;c.addEvent(b("Event").listen(a,"click",function(){d.toggleNativeSupportFlyout(),new(b("VideoTipJarTypedLogger"))().setTipJarEvent("support_button_clicked").setVideoID(c.getMediaController().getMediaID()).log()}))};r.registerShowCommentsTabLink=function(a){"use strict";var c=b("Tahoe").get(),d=c&&c.getView();c&&d&&c.addEvent(b("Event").listen(a,"click",function(){return d.selectCommentTab()}))};r.registerShowMainTabLink=function(a){"use strict";var c=b("Tahoe").get(),d=c&&c.getView();c&&d&&c.addEvent(b("Event").listen(a,"click",function(){return d.selectUpNextTab()}))};r.loadView=function(a,b,c,d){"use strict";return new r(a,b,c,d)};e.exports=r}),null);
__d("XTahoeReactionsTrayAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/tahoe/async/reactions/",{video_id:{type:"FBID",required:!0}})}),null);
__d("TahoeController",["cx","Arbiter","AsyncRequest","BlueBar","Bootloader","CSS","DialogX","EventEmitter","EventProfiler","FantaTabActions","LiveVideoExperiments","LiveVideoStreamingReactionEligibleLocations","PageTransitions","ResizeListener","Tahoe","TahoeActions","TahoeConstants","TahoeDispatcher","TahoeDOM","TahoeLoggerEvent","TahoeTypedLogger","TahoeV2Config","TahoeVideoResizingController","TahoeVideoView","TimeSlice","URI","VideoAutoplayControllerX","VideoChainingCaller","VideoChannelCallerToPlayerOriginMap","VideoPermalinkURI","VideoPlayerLoggerSource","VideoPlayerOrigins","VideoPlayerReason","XTahoeReactionsTrayAsyncController","collectDataAttributes","ge","gkx","prevNextControlActions","prevNextControlStore","requireWeak","shouldWNSRenderToRHC","TahoeVideoStore"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;b("requireWeak")("VideoProgressPreviewBar.react",function(a){i=a});var j;b("requireWeak")("VideoWatchAndScrollController",function(a){j=a});var k=48,l=0;a=876;var m=a-b("TahoeConstants").SIDE_PANE_WIDTH,n=4,o=560,p=350;c=babelHelpers.inherits(q,b("EventEmitter"));h=c&&c.prototype;function q(a){__p&&__p();h.constructor.call(this);this.$TahoeController1=!1;this.$TahoeController3=!0;this.$TahoeController21=!1;this.$TahoeController22=!1;this.$TahoeController26=b("VideoPlayerReason").USER;this.$TahoeController35=!1;this.$TahoeController49=function(){this.$TahoeController47()}.bind(this);b("TahoeDispatcher").explicitlyRegisterStores([b("TahoeVideoStore")]);b("EventProfiler").tagCurrentActiveInteractionsAs("Tahoe");this.$TahoeController13=[];this.$TahoeController21=a.isPermalink;this.$TahoeController24=0;this.$TahoeController34=a.storyIdentifier;this.$TahoeController37=o-b("TahoeConstants").BLUE_BAR_HEIGHT-this.$TahoeController40();this.$TahoeController31=a.origin;this.$TahoeController32=a.suborigin;this.$TahoeController5=a.channelID;this.$TahoeController4=a.caller;this.$TahoeController27=a.reactionVideoChannelType;this.$TahoeController28=a.reactionVideoChannelSubtype;this.$TahoeController29=a.searchKeywordsForVideoChaining;this.$TahoeController12=a.externalLogID;this.$TahoeController38=a.feedLocation;this.$TahoeController39=!0;this.$TahoeController11=b("URI").getNextURI();this.$TahoeController25=this.$TahoeController41.bind(this);a.watchLandingPage&&(this.$TahoeController36=new(b("URI"))(a.watchLandingPage));this.$TahoeController10=a.entryDocumentTitle;b("PageTransitions").registerHandler(this.$TahoeController25,n);b("PageTransitions").go(a.uri);this.$TahoeController9=new(b("TahoeDOM"))(this);this.$TahoeController8=this.$TahoeController9.createDialog();if(a.mediaController)this.$TahoeController42(a.mediaController.video),this.$TahoeController15=this.$TahoeController23.getMediaID(),this.$TahoeController43(),this.$TahoeController9.setInitialMediaContent(this.getMediaContent());else{this.$TahoeController44();var c=b("VideoPermalinkURI").parse(a.uri);this.$TahoeController15=c.video_id}b("FantaTabActions").minimizeAllTabs();b("Arbiter").inform("chat/option-changed",{name:"hide_buddylist",value:!0});this.$TahoeController14=a.feedTracking;this.$TahoeController33=b("TahoeVideoView").loadView(this,this.$TahoeController31,this.$TahoeController32,{commentID:a.uri.getQueryData().comment_id,replyCommentID:a.uri.getQueryData().reply_comment_id})}q.prototype.go=function(a){b("PageTransitions").go(a)};q.prototype.onExit=function(a){this.$TahoeController1?this.$TahoeController45():a=="wns"?(this.logEvent(b("TahoeLoggerEvent").EXIT_WITH_WNS_CONTROL),b("PageTransitions").go(this.$TahoeController11)):b("PageTransitions").go(this.$TahoeController11)};q.prototype.getReactionVideoChannelType=function(){return this.$TahoeController27};q.prototype.getReactionVideoChannelSubtype=function(){return this.$TahoeController28};q.prototype.getSearchKeywordsForVideoChaining=function(){return this.$TahoeController29};q.prototype.getFeedTracking=function(){return this.$TahoeController14};q.prototype.getStoryIdentifier=function(){return this.$TahoeController34};q.prototype.getNumCopyrightMatchedVideosPlayedConsecutively=function(){return this.$TahoeController24};q.prototype.$TahoeController46=function(){var a=this.$TahoeController36?this.$TahoeController36:this.$TahoeController11;this.$TahoeController9.placeBackAffordance(a,this.$TahoeController21,!!this.$TahoeController36,this.$TahoeController23)};q.prototype.$TahoeController42=function(a){b("TahoeActions").setMediaController(a);this.$TahoeController23=a;a=a;a=a.isBroadcast();if(a&&document.body){a=b("LiveVideoExperiments").getParamsValueAndLogExposure(b("LiveVideoExperiments").UNIVERSE.VERTICAL_REACTIONS);a.isReactionBarRightAligned&&document.body&&b("CSS").addClass(document.body,"_3yn5")}};q.prototype.$TahoeController44=function(){this.$TahoeController46(),this.$TahoeController9.insertPlaceholderMedia(),this.$TahoeController47()};q.prototype.$TahoeController43=function(){this.$TahoeController46();var a=this.$TahoeController23,c=a.getRootNode();this.$TahoeController16=this.$TahoeController23;a=a.getSource();this.$TahoeController18=a?a:b("VideoPlayerLoggerSource").INLINE;c&&(this.$TahoeController19=c.clientWidth);c&&(this.$TahoeController17=c.clientHeight);this.$TahoeController30=!0;c&&this.$TahoeController9.insertMedia(c)};q.prototype.setMediaState=function(){__p&&__p();this.$TahoeController2=parseFloat(this.getMediaContent().getAttribute("data-original-aspect-ratio"));this.$TahoeController48();var a=this.$TahoeController23;a.updateSource(b("VideoPlayerLoggerSource").TAHOE);b("VideoAutoplayControllerX").setShouldAutoplay(!1);this.$TahoeController20||a.unmute();this.$TahoeController7!=null&&a.setVolume(this.$TahoeController7);(this.$TahoeController3||this.$TahoeController26===b("VideoPlayerReason").USER)&&(a.play(this.$TahoeController26),this.$TahoeController20&&a.mute());this.setNumCopyrightMatchedVideosPlayedConsecutively();this.$TahoeController23.emit("TahoeController/enterTahoe");this.$TahoeController23.getRootNode().focus();i&&i.destroyComponentIfAvailable(this.$TahoeController23);this.$TahoeController47();this.$TahoeController13.push(b("ResizeListener").add(this.$TahoeController49))};q.prototype.setPlayReason=function(a){this.$TahoeController26=a};q.prototype.addEvent=function(event){this.$TahoeController13.push(event)};q.prototype.getMediaController=function(){return this.$TahoeController23};q.prototype.setNumCopyrightMatchedVideosPlayedConsecutively=function(){this.$TahoeController3&&this.$TahoeController26!==b("VideoPlayerReason").USER&&this.$TahoeController33&&this.$TahoeController33.getCurrentVideoHasCopyrightMusicMatch()?this.$TahoeController24++:this.$TahoeController24=0};q.prototype.setFullWidth=function(a){this.$TahoeController35=a,this.$TahoeController47()};q.prototype.resizeMedia=function(){this.$TahoeController47()};q.prototype.$TahoeController48=function(){__p&&__p();var a=this.$TahoeController16;if(!a)return;a=b("LiveVideoStreamingReactionEligibleLocations").locations.includes(a.getSource());if(a)return;var c=b("ge")("fbVideoStreamingReactionsTray");if(!c)return;var d=this.$TahoeController23;a=b("XTahoeReactionsTrayAsyncController").getURIBuilder().setFBID("video_id",d.getVideoID());var e=function(a){var e=a.payload;if(!e)return;b("Bootloader").loadModules(["StreamingReactionsTray"],function(a){new a(c,d,b("VideoPlayerLoggerSource").TAHOE,e.feedbackID,e.broadcastID,e.profilePicUri,e.actorProfilePics,!0,!0,!0)},"TahoeController")};new(b("AsyncRequest"))().setURI(a.getURI()).setAllowCrossPageTransition(!0).setMethod("GET").setReadOnly(!0).setHandler(e).send()};q.prototype.$TahoeController47=function(){__p&&__p();if(this.$TahoeController22)return;var a=this.$TahoeController33;if(b("TahoeV2Config").showTahoe2UI&&!(a instanceof b("TahoeVideoView")&&!a.isRenderingBottomInfoPane())){a=b("TahoeVideoResizingController").getPlayerSize(window.innerWidth,window.innerHeight);var c=a.width;a=a.height;this.$TahoeController9.setMediaSizeForTahoeV2(c,a);this.$TahoeController23&&this.$TahoeController23.setDimensions(c,a)}else{c=this.$TahoeController35?window.innerWidth:window.innerWidth-b("TahoeConstants").SIDE_PANE_WIDTH;c=Math.max(c,m);a=window.innerHeight-this.$TahoeController40();b("BlueBar").hasFixedBlueBar()&&(a-=b("TahoeConstants").BLUE_BAR_HEIGHT);a=Math.max(a,this.$TahoeController37);this.$TahoeController9.setMediaContentSize(c+"px",a+"px");var d=this.$TahoeController23;d&&d.removeOffsetStylings();this.$TahoeController23&&this.$TahoeController23.setDimensions(c,a)}};q.prototype.$TahoeController41=function(a){__p&&__p();var c;this.$TahoeController39?(c=this.$TahoeController11,this.$TahoeController39=!1):c=b("URI").getRequestURI();if(a.getPath()===this.$TahoeController11.getPath()&&a.getQueryData().ref!=="tahoe"&&!this.getIsPermalink())this.$TahoeController18===b("VideoPlayerLoggerSource").WATCH_SCROLL?(this.$TahoeController1=!0,b("shouldWNSRenderToRHC")()?this.$TahoeController23.emit("crossfadeWatchAndScroll"):this.$TahoeController23.emit("enterWatchAndScroll")):this.$TahoeController45();else if(!this.$TahoeController50(a)){this.$TahoeController45();return!1}else if((this.$TahoeController11.getPath()!=c.getPath()||c.getQueryData().ref==="tahoe")&&c.getPath()!=a.getPath())this.$TahoeController51(a);else if(c.getPath()===a.getPath()){c=this.$TahoeController23;c&&c.isState("fallback")&&this.$TahoeController51(a)}else this.getIsPermalink()&&this.$TahoeController51(a);b("PageTransitions").transitionComplete();return!0};q.prototype.$TahoeController50=function(a){return b("VideoPermalinkURI").isValid(a)};q.prototype.$TahoeController51=function(a){__p&&__p();this.$TahoeController22=!0;var c=this.$TahoeController23;c.pause();this.$TahoeController9.returnFeedElement();c=b("VideoPermalinkURI").parse(a);var d=c.video_id;this.$TahoeController34=c.story_id;c=b("prevNextControlStore").getState().videoIdQueue;c.length!==0&&c[c.length-1]===d?b("prevNextControlStore").dispatch(b("prevNextControlActions").popID()):b("prevNextControlStore").dispatch(b("prevNextControlActions").addID(this.$TahoeController15));c=a.getQueryData().sp;this.$TahoeController33.updateView(d,this.$TahoeController5,this.$TahoeController4,c)};q.prototype.resetChannelData=function(){this.$TahoeController5=null,this.$TahoeController4=null};q.prototype.$TahoeController40=function(){if(b("TahoeV2Config").showTahoe2UI)return k;var a=null,c=this.$TahoeController33;c instanceof b("TahoeVideoView")&&(a=c.getBottomTrayHeight());return Math.min(a||l,p)};q.prototype.$TahoeController45=function(){__p&&__p();this.$TahoeController33&&this.$TahoeController33.onExit();b("PageTransitions").removeHandler(this.$TahoeController25,n);this.$TahoeController13.forEach(function(a){return a.remove()});this.$TahoeController13=[];this.$TahoeController9.setMediaContentSize("","");this.$TahoeController9.returnFeedElement();var a=this.$TahoeController16;b("VideoAutoplayControllerX").setShouldAutoplay(!0);this.$TahoeController16&&(this.$TahoeController18===b("VideoPlayerLoggerSource").WATCH_SCROLL&&this.$TahoeController16!==this.$TahoeController23||(a.addOffsetStylings(),a.setDimensions(this.$TahoeController19,this.$TahoeController17),a.updateSource(this.$TahoeController18)),a.pause(b("VideoPlayerReason").AUTOPLAY),a.mute(),a.getState()!=="finished"&&this.$TahoeController16.emit("resumeAutoplay"),this.$TahoeController16.emit("TahoeController/exitTahoe"));b("Arbiter").inform("TahoeController/exitTahoe");this.$TahoeController23&&this.$TahoeController23.emit("TahoeController/exitTahoe");if(this.$TahoeController23!==this.$TahoeController16){a=this.$TahoeController23;a.pause(b("VideoPlayerReason").USER)}this.$TahoeController9.cleanup();this.$TahoeController8!=null&&(this.$TahoeController8.destroy(),this.$TahoeController8=null);this.$TahoeController10&&(document.title=this.$TahoeController10);this.$TahoeController6&&b("TimeSlice").cancel(this.$TahoeController6);b("TahoeActions").exit();b("Tahoe").set(null);this.$TahoeController21&&b("PageTransitions").go("/")};q.prototype.getID=function(){return this.$TahoeController15};q.prototype.getDialogContent=function(){return this.$TahoeController9.getDialogContent()};q.prototype.getContent=function(){return this.$TahoeController9.getContent()};q.prototype.getMediaContent=function(){return this.$TahoeController9.getMediaContent()};q.prototype.getSideContent=function(){return this.$TahoeController9.getSideContent()};q.prototype.getChannelID=function(){return this.$TahoeController5};q.prototype.getCaller=function(){return this.$TahoeController4};q.prototype.getExternalLogID=function(){return this.$TahoeController12};q.prototype.getIsPermalink=function(){return this.$TahoeController21};q.prototype.updateMedia=function(a){__p&&__p();var c=this.$TahoeController23;c&&typeof c.getVolume==="function"&&typeof c.isMuted==="function"&&(this.$TahoeController7=c.getVolume(),this.$TahoeController20=c.isMuted());this.$TahoeController42(a);this.$TahoeController9.setMediaContent(this.$TahoeController23.getRootNode());this.$TahoeController15=this.$TahoeController23.getMediaID();this.$TahoeController22=!1;this.setMediaState();c=this.$TahoeController33;c.setUpEndScreen();this.$TahoeController33.setUpUFI();this.$TahoeController26=b("VideoPlayerReason").USER};q.prototype.getView=function(){return this.$TahoeController33};q.prototype.setAutoplayAllowed=function(a){this.$TahoeController3=a};q.prototype.logEvent=function(a){new(b("TahoeTypedLogger"))().setEvent(a).setMediaID(this.$TahoeController15).log()};q.prototype.getFeedLocation=function(){return this.$TahoeController38};q.openFromVideoPlayer=function(a,c,d,e,f,g,h,i,j){__p&&__p();b("EventProfiler").tagCurrentActiveInteractionsAs("TahoeFromVideoPlayer");var k=b("TimeSlice").getGuardedContinuation("TahoeController beginPlayback");a.once("beginPlayback",k.bind(undefined,function(){b("EventProfiler").informPointOnActiveInteractions("tahoe_media_done",{isPointOfInterest:!0},!0)}));var l=b("collectDataAttributes")(a.getRootNode(),["ft"]);e=b("gkx")("AT4fYz6-EGGUgvyAFfx6l7YSfZ7cm8o38gmWbQKe3dar4CzesGta_hgB442DTXOu3G0jCh8vHu33BDEIFvAwLYir")?b("VideoChainingCaller").TAHOE:e;a=new q({mediaController:{video:a},uri:c,channelID:d,caller:e,origin:g,suborigin:h,feedTracking:l,storyIdentifier:i,feedLocation:j,entryDocumentTitle:document.title});a.$TahoeController6=k;b("Tahoe").set(a);switch(f){case"player_click":a.logEvent(b("TahoeLoggerEvent").ENTER_WITH_PLAYER_CLICK);break;case"control_click":a.logEvent(b("TahoeLoggerEvent").ENTER_WITH_CONTROL_CLICK);break;case"live_video_reply_click":a.logEvent(b("TahoeLoggerEvent").ENTER_WITH_LIVE_VIDEO_REPLY_CLICK);break}};q.openFromVideoLink=function(a,c){__p&&__p();c===void 0&&(c={channelID:null,caller:null});c=c;var d=c.channelID,e=c.caller,f=c.origin,g=c.suborigin,h=c.reactionVideoChannelType,i=c.reactionVideoChannelSubtype,k=c.externalLogID,l=c.searchKeywordsForVideoChaining;c=c.feedLocation;b("EventProfiler").tagCurrentActiveInteractionsAs("TahoeFromVideoLink");j&&j.pauseActiveVideo();var m=b("Tahoe").get();if(m){document.title=b("TahoeConstants").DEFAULT_BROWSER_TITLE;b("PageTransitions").go(a);return}f||(f=e&&e in b("VideoChannelCallerToPlayerOriginMap")?b("VideoChannelCallerToPlayerOriginMap")[e]:b("VideoPlayerOrigins").UNKNOWN);e=b("gkx")("AT4fYz6-EGGUgvyAFfx6l7YSfZ7cm8o38gmWbQKe3dar4CzesGta_hgB442DTXOu3G0jCh8vHu33BDEIFvAwLYir")?b("VideoChainingCaller").TAHOE:e;b("Tahoe").set(new q({uri:a,channelID:d,caller:e,origin:f,suborigin:g,reactionVideoChannelType:h,reactionVideoChannelSubtype:i,externalLogID:k,searchKeywordsForVideoChaining:l,feedLocation:c,entryDocumentTitle:document.title}))};q.openFromVideoLinkHelper=function(a,c,d,e,f){var g=a.getAttribute("data-channel-caller");g=b("gkx")("AT4fYz6-EGGUgvyAFfx6l7YSfZ7cm8o38gmWbQKe3dar4CzesGta_hgB442DTXOu3G0jCh8vHu33BDEIFvAwLYir")?b("VideoChainingCaller").TAHOE:g;var h=a.getAttribute("data-external-log-id")||undefined;c=a.getAttribute("data-player-origin")||c;q.openFromVideoLink(new(b("URI"))(a.getAttribute("href")).addQueryData("ref","tahoe"),{channelID:a.getAttribute("data-video-channel-id"),caller:g,origin:c,suborigin:d,externalLogID:h,searchKeywordsForVideoChaining:a.getAttribute("data-search-keyword"),reactionVideoChannelType:e||undefined,feedLocation:f})};q.openFromVideoPermalink=function(a,c){c===void 0&&(c=null),b("Tahoe").set(new q({uri:new(b("URI"))(a),origin:b("VideoPlayerOrigins").PERMALINK,suborigin:"tahoe",isPermalink:!0,storyIdentifier:c,caller:b("gkx")("AT4fYz6-EGGUgvyAFfx6l7YSfZ7cm8o38gmWbQKe3dar4CzesGta_hgB442DTXOu3G0jCh8vHu33BDEIFvAwLYir")?b("VideoChainingCaller").TAHOE:null}))};q.openFromShowVideoPermalink=function(a,c,d){d===void 0&&(d=null),b("Tahoe").set(new q({uri:new(b("URI"))(a),origin:b("VideoPlayerOrigins").VIDEO_HOME,suborigin:"notifications",isPermalink:!0,watchLandingPage:c,storyIdentifier:d,caller:b("gkx")("AT4fYz6-EGGUgvyAFfx6l7YSfZ7cm8o38gmWbQKe3dar4CzesGta_hgB442DTXOu3G0jCh8vHu33BDEIFvAwLYir")?b("VideoChainingCaller").TAHOE:null}))};e.exports=q}),null);
__d("TahoeDOM",["csx","cx","BlueBar","BootloadedComponent.react","CSS","DialogX","DOM","DOMQuery","FBFeedLocations","JSResource","MediaController","React","ReactDOM","Style","TahoeController","URI","WWWSiteOrganizationGating","XUISpinner.react","ge","getElementPosition","getVendorPrefixedName"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=876;function a(a){this.$6=a}a.prototype.createDialog=function(){__p&&__p();var a={width:i},c=this.$6.getFeedLocation();this.$1=b("CSS").setClass(b("DOM").create("div"),"_5-g-");b("CSS").conditionClass(this.$1,"_23ic",b("WWWSiteOrganizationGating").largerBlueBar);var d=b("ge")("bizBlackBar");b("CSS").conditionClass(this.$1,"_699q",!b("BlueBar").hasFixedBlueBar()&&!d);d=b("ge")("mediaManagerGlobalChromeBar");b("CSS").conditionClass(this.$1,"_1dm_",c===b("FBFeedLocations").MEDIA_MANAGER_HOME||d);this.$4=b("CSS").setClass(b("DOM").create("div"),"_6444");b("DOM").appendContent(this.$1,this.$4);this.$8=b("CSS").setClass(b("DOM").create("div"),"_6445 _6j32");b("DOM").appendContent(this.$1,this.$8);c=new(b("DialogX"))(a,this.$1);b("CSS").setClass(c.getRoot(),"_5-g_");document.body&&b("CSS").addClass(document.body,"_1_-b");c.show();this.$9(c);return c};a.prototype.$9=function(a){var c=b("DOMQuery").find(document.body,"._li");b("DOM").appendContent(c,a.getRoot())};a.prototype.placeBackAffordance=function(a,c,d,e){b("ReactDOM").render(b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("TahoeBackAffordanceContainer.react").__setRef("TahoeDOM"),bootloadPlaceholder:b("React").createElement("div",{className:"_4ua2"}),entryURI:a,isPermalink:c,isShowVideo:d,mediaController:e}),this.$4)};a.prototype.insertPlaceholderMedia=function(){var a=b("CSS").setClass(b("DOM").create("div"),"_1c_u");b("ReactDOM").render(b("React").createElement(b("XUISpinner.react"),{className:"_179h",size:"large",background:"dark"}),a);this.$5=a;a=b("CSS").setClass(b("DOM").create("div"),"_5-yb _5_63");b("DOM").setContent(a,this.$5);b("DOM").prependContent(this.$4,a)};a.prototype.insertMedia=function(a){var c=b("getElementPosition")(a);this.$5=a;this.$2=b("DOM").create("div");b("DOM").insertAfter(this.$5,this.$2);this.$7=!0;a=b("CSS").setClass(b("DOM").create("div"),"_5-yb _5_63");b("DOM").setContent(a,this.$5);b("DOM").prependContent(this.getContent(),a);this.$10(a,c)};a.prototype.$10=function(a,c){this.$6.setMediaState();var d=b("Style").getFloat(this.$5,"width"),e=b("Style").getFloat(this.$5,"height"),f="translate("+c.x+"px,"+c.y+"px)";d="scale("+c.width/d+", "+c.height/e+")";b("Style").set(a,b("getVendorPrefixedName")("transform"),f+" "+d);a.offsetWidth;b("Style").set(a,"transition","all .4s cubic-bezier(.12,.8,.32,1)");b("Style").set(a,b("getVendorPrefixedName")("transform"),"none")};a.prototype.returnFeedElement=function(){var a=this.$5.clientHeight,c=b("CSS").setClass(b("DOM").create("div"),"_1c_u _61-j");b("ReactDOM").render(b("React").createElement(b("XUISpinner.react"),{size:"large",background:"dark"}),c);b("Style").set(c,"height",a+"px");b("DOM").prependContent(this.getContent(),c);this.$7?(b("DOM").insertAfter(this.$2,this.$3),b("DOM").remove(this.$2),b("Style").set(this.$3,"width",""),b("Style").set(this.$3,"height","")):b("DOM").remove(this.getContent().children[1]);this.$7=!1};a.prototype.cleanup=function(){var a=document.body;a&&(b("CSS").removeClass(a,"_1_-b"),b("CSS").removeClass(a,"_3yn5"));b("ReactDOM").unmountComponentAtNode(this.$4)};a.prototype.getDialogContent=function(){return this.$1};a.prototype.getContent=function(){return this.$4};a.prototype.getMediaContent=function(){return this.$5};a.prototype.setMediaContent=function(a){this.$5=a};a.prototype.setMediaContentSize=function(a,c){b("Style").set(this.$5,"width",a),b("Style").set(this.$5,"height",c)};a.prototype.setMediaSizeForTahoeV2=function(a,c){b("Style").set(this.$5,"width",a+"px"),b("Style").set(this.$5,"height",c+"px"),b("Style").set(this.$4,"width",a+"px")};a.prototype.setInitialMediaContent=function(a){this.$3=a};a.prototype.getSideContent=function(){return this.$8};e.exports=a}),null);