if (self.CavalryLogger) { CavalryLogger.start_js(["lX4b6"]); }

__d("BrowseTopFiltersNone",["cx","CSS"],(function(a,b,c,d,e,f,g){a={init:function(){b("CSS").removeClass(document.body,"_4dik")}};e.exports=a}),null);
__d("Typeahead",["ArbiterMixin","BehaviorsMixin","DataStore","DOM","Event","Parent","Run","Style","emptyFunction","ge","mixin"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(h,b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));g=c&&c.prototype;function h(a,c,d,e){"use strict";g.constructor.call(this),this.args={data:a,view:c,core:d},b("DataStore").set(e,"Typeahead",this),this.element=e}h.prototype.init=function(a){"use strict";this.init=b("emptyFunction"),this.getCore(),this.getView().setAccessibilityControlElement(this.getCore().getElement()),this.proxyEvents(),this.initBehaviors(a||[]),this.inform("init",this),this.data.bootstrap(),this.core.focus()};h.prototype.getData=function(){"use strict";if(!this.data){var a=this.args.data;this.data=a;this.data.init()}return this.data};h.prototype.getView=function(){"use strict";if(!this.view){var a=this.args.view,c=a.node||b("ge")(a.node_id);c||(c=b("DOM").create("div",{className:"uiTypeaheadView"}),b("DOM").appendContent(this.element,c));typeof a.ctor==="string"?this.view=new window[a.ctor](c,a.options||{}):this.view=new a.ctor(c,a.options||{});this.view.init();this.view.setTypeahead(this.element)}return this.view};h.prototype.getCore=function(){"use strict";if(!this.core){var a=this.args.core;typeof a.ctor==="string"?this.core=new window[a.ctor](a.options||{}):this.core=new a.ctor(a.options||{});this.core.init(this.getData(),this.getView(),this.getElement())}return this.core};h.prototype.getElement=function(){"use strict";return this.element};h.prototype.setHeight=function(a){"use strict";a!=="auto"&&(a+="px"),b("Style").set(this.element,"height",a)};h.prototype.swapData=function(a){"use strict";return this.$Typeahead1(a,!0)};h.prototype.swapDataNoCoreReset=function(a){"use strict";return this.$Typeahead1(a,!1)};h.prototype.$Typeahead1=function(a,b){"use strict";var c=this.core;this.data=this.args.data=a;a.init();c&&(c.data=a,c.initData(),b&&c.reset(),this.proxyEvents());a.bootstrap();return a};h.prototype.proxyEvents=function(){"use strict";[this.data,this.view,this.core].forEach(function(a){a.subscribe(a.events,this.inform.bind(this))},this)};h.prototype.initBehaviors=function(c){"use strict";c.forEach(function(c){typeof c==="string"?a.TypeaheadBehaviors&&a.TypeaheadBehaviors[c]?a.TypeaheadBehaviors[c](this):b("Run").onLoad(function(){a.TypeaheadBehaviors&&(a.TypeaheadBehaviors[c]||b("emptyFunction"))(this)}.bind(this)):this.enableBehavior(c)},this)};h.getInstance=function(a){"use strict";a=b("Parent").byClass(a,"uiTypeahead");return a?b("DataStore").get(a,"Typeahead"):null};h.initNow=function(a,b,c){"use strict";c&&c.init(a),a.init(b)};h.init=function(a,c,d,e){"use strict";b("DOM").isNodeOfType(a,["input","textarea"])||(a=b("DOM").scry(a,"input")[0]||b("DOM").scry(a,"textarea")[0]);var f=!1;try{f=document.activeElement===a}catch(a){}if(f)h.initNow(c,d,e);else var g=b("Event").listen(a,"focus",function(){h.initNow(c,d,e),g.remove()})};e.exports=h}),null);
__d("BasicTypeaheadRenderer",["BadgeHelper","DOM"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){__p&&__p();c=[];a.icon&&c.push(b("DOM").create("img",{alt:"",src:a.icon}));var d=a.debug_info;d&&c.push(b("DOM").create("span",{className:"debugInfo"},d));if(a.text){d=[a.text];a.is_verified&&d.push(b("BadgeHelper").renderBadge("xsmall","verified"));c.push(b("DOM").create("span",{className:"text"},d))}if(a.subtext){d=[a.subtext];c.push(b("DOM").create("span",{className:"subtext"},d))}d=b("DOM").create("li",{className:a.type||""},c);a.text&&(d.setAttribute("title",a.text),d.setAttribute("aria-label",a.text));return d}a.className="basic";e.exports=a}),null);
__d("createIxElement",["invariant","DOM","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,c){__p&&__p();var d="img";a.sprited||a.uri||g(0,undefined);if(a.sprited){d=b("joinClasses")(d,a.spriteMapCssClass,a.spriteCssClass);var e=b("DOM").create("i",{className:d});c!=null&&b("DOM").setContent(e,b("DOM").create("u",null,c));return e}e=b("DOM").create("img",{className:d,src:a.uri});c!=null&&e.setAttribute("alt",c);a.width&&e.setAttribute("width",a.width);a.height&&e.setAttribute("height",a.height);return e}e.exports=a}),null);
__d("TypeaheadView",["ix","ArbiterMixin","BasicTypeaheadRenderer","CSS","DOM","Event","Parent","$","createIxElement","emptyFunction","getElementText","getOrCreateDOMID","mixin"],(function(a,b,c,d,e,f,g){__p&&__p();var h;d=babelHelpers.inherits(c,b("mixin")(b("ArbiterMixin")));h=d&&d.prototype;function c(a,c){"use strict";h.constructor.call(this),this.element=this.content=b("$").fromIDOrElement(a),Object.assign(this,c)}c.prototype.init=function(){"use strict";this.init=b("emptyFunction"),this.initializeEvents(),this.reset()};c.prototype.initializeEvents=function(){"use strict";b("Event").listen(this.element,{mouseup:this.mouseup.bind(this),mouseover:this.mouseover.bind(this)})};c.prototype.setTypeahead=function(a){"use strict";this.typeahead=a};c.prototype.setAccessibilityControlElement=function(a){"use strict";this.accessibilityElement=a};c.prototype.getElement=function(){"use strict";return this.element};c.prototype.mouseup=function(event){"use strict";event.button!=2&&(this.select(!0),event.prevent())};c.prototype.mouseover=function(event){"use strict";if(this.ignoreMouseover){this.ignoreMouseover=!1;return}this.visible&&this.highlight(this.getIndex(event))};c.prototype.reset=function(a){"use strict";a||(this.disableAutoSelect=!1);this.index=-1;this.items=[];this.results=[];this.value="";this.content.innerHTML="";this.inform("reset");return this};c.prototype.getIndex=function(event){"use strict";return this.items.indexOf(b("Parent").byTag(event.getTarget(),"li"))};c.prototype.getSelection=function(){"use strict";var a=this.results[this.index]||null;return this.visible?a:null};c.prototype.isEmpty=function(){"use strict";return!this.results.length};c.prototype.isVisible=function(){"use strict";return!!this.visible};c.prototype.show=function(){"use strict";b("CSS").show(this.element);this.results&&this.results.length&&(this.autoSelect&&this.accessibilityElement&&this.selected&&this.accessibilityElement.setAttribute("aria-activedescendant",b("getOrCreateDOMID")(this.selected)));this.accessibilityElement&&this.accessibilityElement.setAttribute("aria-expanded","true");this.visible=!0;return this};c.prototype.hide=function(){"use strict";b("CSS").hide(this.element);this.accessibilityElement&&(this.accessibilityElement.setAttribute("aria-expanded","false"),this.accessibilityElement.removeAttribute("aria-activedescendant"));this.visible=!1;return this};c.prototype.render=function(a,c,d){"use strict";__p&&__p();this.value=a;if(!c.length){this.accessibilityElement&&this.accessibilityElement.removeAttribute("aria-activedescendant");this.reset(!0);return}a={results:c,value:a};this.inform("beforeRender",a);c=a.results;a=(!this.value||d)&&this.index!==-1?this.index:this.getDefaultIndex(c);this.results=c;b("DOM").setContent(this.content,this.buildResults(c));this.items=this.getItems();this.highlight(a,!1);this.inform("render",this.results)};c.prototype.getItems=function(){"use strict";return b("DOM").scry(this.content,"li")};c.prototype.buildResults=function(c){"use strict";__p&&__p();var d,e=null;typeof this.renderer==="function"?(d=this.renderer,e=this.renderer.className||""):(d=a.TypeaheadRenderers[this.renderer],e=this.renderer);d=d.bind(this);c=c.map(function(a,b){a=a.node||d(a,b);a.setAttribute("role","option");return a});e=b("DOM").create("ul",{className:e,id:"typeahead_list_"+(this.typeahead?b("getOrCreateDOMID")(this.typeahead):b("getOrCreateDOMID")(this.element))},c);e.setAttribute("role","listbox");return e};c.prototype.showLoadingIndicator=function(){"use strict";var a=b("createIxElement")(g("85428"));a=b("DOM").create("li",{className:"typeaheadViewInternalLoading"},a);a=b("DOM").create("ul",{role:"listbox"},a);b("DOM").setContent(this.content,a)};c.prototype.getDefaultIndex=function(){"use strict";var a=this.autoSelect&&!this.disableAutoSelect;return this.index<0&&!a?-1:0};c.prototype.next=function(){"use strict";this.highlight(this.index+1),this.inform("next",this.selected)};c.prototype.prev=function(){"use strict";this.highlight(this.index-1),this.inform("prev",this.selected)};c.prototype.getItemText=function(a){"use strict";var c="";a&&(c=a.getAttribute("aria-label"),c||(c=b("getElementText")(a),a.setAttribute("aria-label",c)));return c};c.prototype.setIsViewingSelectedItems=function(a){"use strict";this.viewingSelected=a;return this};c.prototype.getIsViewingSelectedItems=function(){"use strict";return!!this.viewingSelected};c.prototype.highlight=function(a,c){"use strict";this.selected&&(b("CSS").removeClass(this.selected,"selected"),this.selected.setAttribute("aria-selected","false")),a>this.items.length-1?a=-1:a<-1&&(a=this.items.length-1),a>=0&&a<this.items.length?(this.selected=this.items[a],b("CSS").addClass(this.selected,"selected"),this.selected.setAttribute("aria-selected","true"),this.accessibilityElement&&setTimeout(function(){this.accessibilityElement.setAttribute("aria-activedescendant",b("getOrCreateDOMID")(this.selected))}.bind(this),0)):this.accessibilityElement&&this.accessibilityElement.removeAttribute("aria-activedescendant"),this.index=a,this.disableAutoSelect=a==-1,c!==!1&&this.inform("highlight",{index:a,selected:this.results[a],element:this.selected})};c.prototype.select=function(a){"use strict";if(this.headerIndex&&a)return;var b=this.index,c=this.results[b],d=this.element.getAttribute("id");if(c){var e=function(c){this.inform("select",{index:b,clicked:!!a,selected:c,id:d,query:this.value}),this.inform("afterSelect")}.bind(this);this.shouldValidateTypeaheadSelection(c)?this.validateTypeaheadSelection(c,e):e(c)}};c.prototype.shouldValidateTypeaheadSelection=function(a){"use strict";return!1};c.prototype.validateTypeaheadSelection=function(a,b){"use strict"};Object.assign(c.prototype,{events:["highlight","render","reset","select","beforeRender","next","prev"],renderer:b("BasicTypeaheadRenderer"),autoSelect:!1,ignoreMouseover:!1});e.exports=c}),null);
__d("WorkInviteSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({RHC_MODULE:"rhc_module",FEED_END_STATE:"feed_end_state",NEWSFEED_NUX:"newsfeed_nux",BULK_UPLOAD:"bulk_upload",GROUP_BULK_UPLOAD:"group_bulk_upload",GROUP_BULK_UPLOAD_FROM_SETTINGS:"group_bulk_upload_from_settings",GROUP_BULK_UPLOAD_FROM_RHC:"group_bulk_upload_from_rhc",GROUP_BULK_UPLOAD_FROM_MEMBERS:"group_bulk_upload_from_members",GROUP_INVITE_DIALOG:"group_invite_dialog",GROUP_INVITE_TYPEAHEAD:"group_invite_typeahead",GROUP_RHC_LINK:"group_rhc_link",SEARCH_RESULT:"search_result",SEARCH_RHC:"search_rhc",SEARCH_TYPEAHEAD:"search_typeahead",INSTANCE_INVITE_LINK:"instance_invite_link",SIGN_UP:"sign_up",SIGN_UP_CHAT_FIRST:"sign_up_chat_first",SIGN_UP_NON_GENESIS:"sign_up_non_genesis",SIGN_UP_M_SITE:"sign_up_m_site",SETUP_TEAM_SIGNUP_STEP:"setup_team_signup_step",SETUP_TEAM_SIGNUP_STEP_CHAT_FIRST:"setup_team_signup_step_chat_first",SETUP_SUBCOMMUNITY_INVITE_STEP:"setup_subcommunity_invite_step",FORWARD_INVITE_EMAIL:"forward_invite_email",WORK_GOALS:"work_goals",TEAM_PROTILE:"team_protile",ACCESS_REQUESTED:"access_requested",ADMIN_ADD_PEOPLE_LINK:"admin_app_people_link",WORK_GOAL_INLINE:"work_goal_inline",CONTEXTUAL_INVITE_EMPTY_GROUP:"contextual_invite_empty_group",WORK_GOLDIE_GROUP_INVITE:"goldie_group_invite",GOLDIE_SIGN_UP_INVITE_STEP:"goldie_sign_up_invite_step",WORK_GALAHAD_COMPOSE:"work_galahad_compose",WORK_SUGGESTED_DEFAULT_GROUPS:"work_suggested_default_groups",AZURE:"azure",AZURE_BULK:"azure_bulk",GSUITE:"gsuite",GSUITE_BULK:"gsuite_bulk",SELF_INVITE:"self_invite",SELF_INVITE_VIA_INVITE_LINK:"self_invite_via_invite_link",SELF_INVITE_VIA_SSO:"self_invite_via_sso",WORKPLACE_FB_COM:"workplace_fb_com",MCG_EXTERNAL_INVITE:"mcg_external_invite",GUEST_MEMBER_INVITE:"guest_member_invite",SUBCOMMUNITY_INVITE:"subcommunity_invite",M2_ADS_TO_NGO:"m2_ads_to_ngo",M2_AYMT_TO_NGO:"m2_aymt_to_ngo",MOBILE_APP_CLAIM:"mobile_app_claim",COMPANY_SUBDOMAIN_LOGIN_PAGE:"company_subdomain_login_page",WORK_FACEBOOK_COM:"work_facebook_com",AYMT:"aymt",TESTS:"tests",E2E_TESTS:"e2e_tests",WWW_BOOKMARK:"www_bookmark",MSITE_BOOKMARK:"msite_bookmark",MSITE_END_OF_FEED:"msite_end_of_feed",WWW_BLUEBAR:"www_bluebar",WWW_BLUEBAR_LINK:"www_bluebar_link",WWW_CHAT_SIDEBAR:"www_chat_sidebar",WWW_SIDEBAR_PENDING_SECTION:"www_sidebar_pending_section",WWW_CHAT_THREAD_LIST:"www_chat_thread_list",WWW_FOLLOW_SUGGESTIONS_PAGE:"www_follow_suggestions_page",WWW_FEED_QP:"www_feed_qp",ANDROID_APP:"android_app",ANDROID_INVITE_OPTION_PICKER:"android_invite_option_picker",ANDROID_TYPED_EMAIL:"android_typed_email",ANDROID_GROUP_TYPED_EMAIL:"android_group_typed_email",ANDROID_CONTACT_EMAIL:"android_contact_email",ANDROID_ALL_CONTACT_EMAILS:"android_all_contact_emails",IOS_APP:"ios_app",IOS_GROUP_TYPED_EMAIL:"ios_group_typed_email",IOS_INSTANCE_TYPED_EMAIL:"ios_instance_typed_email",IOS_CONTACT_EMAIL:"ios_contact_email",IOS_ALL_CONTACT_EMAILS:"ios_all_contact_emails",FIRST_COWORKER_INVITES_EMAIL:"first_coworker_invites_email",SIGNUP4_E2E_STANDARD_GENESIS:"signup4_e2e_test_standard_genesis",SIGNUP4_E2E_PREMIUM_GENESIS:"signup4_e2e_test_premium_genesis",WORK_MANAGED_CLAIM_TEST:"work_managed_claim_test",UNKNOWN:"unknown",IN_PRODUCT_NUX_CARD:"in_product_nux_card",IN_PRODUCT_NUX_CARD_INVITE_MORE_COWORKERS:"in_product_nux_card_invite_more_coworkers",UX_RESEARCH:"ux_research"})}),null);
__d("XWorkInviteCoworkersDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/invite_coworkers/dialog/",{source:{type:"Enum",required:!0,enumType:1},source_product:{type:"Enum",enumType:1},group_id:{type:"FBID"},__asyncDialog:{type:"Int"}})}),null);
__d("FacebarDataSource",["invariant","Arbiter","AsyncRequest","AsyncResponse","CSRFGuard","CurrentUser","FacebarFindPeopleAndPages","FacebarGlobalOptions","FacebarGSv2Echo","FacebarInviteCoworkers","FacebarJSConstants","FacebarKeywordSearchUtils","FacebarResultStore","FacebarResultStoreUtils","FacebarSimplifiedNoFlickerResults","FacebarStructuredText","FacebarTimerUtils","FacebarTokenizer","FacebarURI","ResultsBucketizer","ResultsBucketizerConfig","SearchDataSource","Vector","ViewportBounds","XHRRequest","gkx","queryThenMutateDOM","setTimeoutAcrossTransitions","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=50,j={};c=babelHelpers.inherits(a,b("SearchDataSource"));h=c&&c.prototype;function a(a){__p&&__p();h.constructor.call(this,a),this.executeQuery=function(a,c,d){__p&&__p();this._curQueryId++;d!=null&&(d.queryId=this._curQueryId,d.startCacheQuery=b("FacebarTimerUtils").getTimestamp());var e=this.getMaxResults();this.setQueryData({qid:this._curQueryId,max_results:e});this.inform("beforeQuery",{value:a,queryId:this._curQueryId});this.value=a;var f=this.buildUids(a,[]);d!=null&&(d.endCacheQuery=b("FacebarTimerUtils").getTimestamp());c&&f.length===0&&f.push(c);if(b("FacebarGlobalOptions").sendExistingIDs){var g=[];f.forEach(function(a){a=this.getEntry(a);a&&a.type in b("FacebarJSConstants").entityTypes&&g.push(a.uid)},this);g.length>0&&this.setQueryData({qid:this._curQueryID,existing_ids:JSON.stringify(g),max_results:e})}this.inform("query",{value:a,results:f,queryId:this._curQueryId});this.resultStore&&this.respond(a,f,!1,!1,d)}.bind(this),this.sendRemoteQuery=function(a,c,d,e,f,g){__p&&__p();var h=this.getQueryData(a.text_form),i=d!=null?d.queryId:0;if(g){var j=this.globallyCachedKeywordsTTL*60;j=new(b("XHRRequest"))(this.globalKeywordsEndpoint).setData({value:h.value,platform:"desktop",ttl:this.globallyCachedKeywordsTTL,global:this.globallyCachedKeywordsUseCDN,use_dt:this.globallyCachedKeywordsUseDT}).setMethod("GET").setRequestHeader("Cache-Control","max-age="+j).setResponseHandler(function(f,h){h=b("CSRFGuard").clean(h);h=JSON.parse(h);this.handleQueryResponse(new(b("AsyncResponse"))(null,h),f,a,c,d,e,g);this.activityEnd()}.bind(this,i)).setErrorHandler(function(a){return this.activityEnd()}.bind(this));this.inform("sending_global_request",j);this._maxRemoteQueryId=i;d!=null&&(d.waitingQueries=this._waitingQueries,d.inflightRequests=b("AsyncRequest").getInflightCount(),d.startRemoteQuery=b("FacebarTimerUtils").getTimestamp());j.send();this.activityStart()}else{h.gs_prefetch_mode=e;f&&(h.max_results=f);this.globallyCachedKeywordsUseCDN&&!this._single_state&&(h.log_global_hit=!0,h.log_global_ttl=this.globallyCachedKeywordsTTL,h.log_global_platform="desktop",h.log_dt=this.globallyCachedKeywordsUseDT);j=new(b("AsyncRequest"))().setURI(this.queryEndpoint).setData(h).setMethod("GET").setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(function(b,f){this.handleQueryResponse(f,b,a,c,d,e,g)}.bind(this,i)).setFinallyHandler(function(){this.activityEnd()}.bind(this));for(var f=this._headerflags,h=Array.isArray(f),k=0,f=h?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(h){if(k>=f.length)break;l=f[k++]}else{k=f.next();if(k.done)break;l=k.value}l=l;var m=l[0];l=l[1];j.setRequestHeader(m,l)}this.inform("sending_request",j);this._maxRemoteQueryId=i;d!=null&&(d.waitingQueries=this._waitingQueries,d.inflightRequests=b("AsyncRequest").getInflightCount(),d.startRemoteQuery=b("FacebarTimerUtils").getTimestamp());j.send();this.activityStart()}}.bind(this),this.renderResults=function(a,c,d,e,f,g){f!=null?j[String(a)]=f:f=j[String(a)],b("FacebarGSv2Echo").insertInto(a,c,!d,this._single_state,this._is_local,this._categoryName),b("FacebarGlobalOptions").graphSearchV2&&b("FacebarGlobalOptions").renderKeywordsFirst&&a!=null&&b("FacebarGSv2Echo").normalizeValue(a).length>0&&this._single_state!==!0&&!b("FacebarGlobalOptions").hasKeywordOnlyTypeahead&&(!b("CurrentUser").isWorkUser()||!b("gkx")("AT7z9jFl-OuVwbqHVG4yUmKP7RD-BfFMVtbTeMxJgJDwti-hDvt8aHlAV4th5WbeKLi4MS0pOq_K62ykg2lVy_QmWQM_F1QXRACJT7ZVjnw9pw"))&&b("FacebarSimplifiedNoFlickerResults").insertInto(c),!!a&&a instanceof b("FacebarStructuredText")&&!a.isEmptyOrWhitespace()&&!this._bypassBucketizer&&(c=this._bucketizeResults(a,c,f)),c.length=Math.min(c.length,this.getMaxResults()),this.injectExtraResults(a,c),e=d&&c.length===0,this.inform("respond",{value:a,results:c,isAsync:!!d,isEmptyResults:e})}.bind(this),this._fetched_null_state=null,this._initialQueryData=null,this._curQueryId=-1,this._maxRemoteQueryId=-1,this._single_state=!1,this._is_local=!1,this._categoryName=null,this._waitingQueries=0,this.mixGrammarAndEntity=a.mixGrammarAndEntity!==undefined?a.mixGrammarAndEntity:!0,this._isInjectedSuggestionFlow=!1,this.grammarVersion=a.grammarVersion||"",a.grammarOptions||(a.grammarOptions={}),this._headerflags=a.headerflags||new Map(),this.recordingRoute="banzai_vital",this._maxGrammarResults=a.grammarOptions.maxGrammarResults,this.nullStateEndpoint=a.nullStateEndpoint||"/ajax/browse/null_state.php",this.setNullStateData(a.nullStateData||{},!0),this._minQueryLength=a.minQueryLength||-1,this._performShortQuery=a.performShortQuery||!1,this._fixProcessLean=a.grammarOptions.fixProcessLean||!1,this.hasGSPreload=b("FacebarGlobalOptions").hasGSPreload,this.gsPreloadOptions=b("FacebarGlobalOptions").gsPreloadParams,this.useGloballyCachedKeywords=b("FacebarGlobalOptions").useGloballyCachedKeywords,this.globallyCachedKeywordsTTL=b("FacebarGlobalOptions").globallyCachedKeywordsTTL,this.globallyCachedKeywordsUseCDN=b("FacebarGlobalOptions").globallyCachedKeywordsUseCDN,this.globallyCachedKeywordsUseDT=b("FacebarGlobalOptions").globallyCachedKeywordsUseDT,this.throttleExecuteQuery(),this.throttleSendRemoteQuery(),this.throttleRenderResults(),this.resultStoreOptions=a.grammarOptions||{},this.resultStoreOptions.useNewExactNameMatch=a.grammarOptions.useNewExactNameMatch==="true",this.defaultQuery=null,this._bypassBucketizer=!1,this._resultsBucketizer=new(b("ResultsBucketizer"))(b("ResultsBucketizerConfig").rules,function(a,b){switch(b){case"isSeeMore":return a.isSeeMore;case"objectType":return a.type;case"resultSetType":return a.results_set_type;case"renderType":return a.render_type||a.type;case"cacheOnlyResult":return a.cacheOnlyResult;case"closeEntity":return a.bootstrapped||(a.tags?a.tags[b]:undefined);default:return a.tags?a.tags[b]:undefined}}),this.fetchNullState(),this.initWithConfig(b("FacebarGlobalOptions").grammarConfig),b("Arbiter").subscribe("FacebarTypeahead.injectSuggestion",function(a,b){return this.addSearchSuggestionToNullState(b)}.bind(this)),this.subscribe("bootstrapped",function(){b("Arbiter").subscribe("FacebarDataSource.getBootstrapMatches",function(b,a){a.callback.call(null,this.getBootstrapMatches(a.query,a.whitelistedEntIds))}.bind(this))}.bind(this))}a.prototype.addSearchSuggestionToNullState=function(a){if(!a.query)return;var c=b("FacebarKeywordSearchUtils").makeFacebarEntry(a.query);this.resultStore.addSuggestionEntryToNullState(c,a.interaction);this._isInjectedSuggestionFlow=!0;this.inform("reloadNullstate",!0);this._isInjectedSuggestionFlow=!1};a.prototype.initWithConfig=function(a){this.facebarConfig=a,this.createResultStore(),this._fetched_null_state&&(this.setNullState(this._fetched_null_state),this._fetched_null_state=null)};a.prototype.throttleExecuteQuery=function(){var a=b("FacebarGlobalOptions").executeQueryThrottleTime;this.executeQueryThrottled=b("throttle").withBlocking(this.executeQuery,a,this)};a.prototype.throttleSendRemoteQuery=function(){__p&&__p();var a=b("FacebarGlobalOptions").sendRemoteQueryThrottleTime;if(a===0)this.sendRemoteQueryThrottled=this.sendRemoteQuery;else if(b("FacebarGlobalOptions").lazyThrottleRemoteQuery){var c=Date.now(),d=b("FacebarGlobalOptions").enableSendRemoteQueryDelay,e=b("FacebarGlobalOptions").sendRemoteQueryDelayTime;this.sendRemoteQueryThrottled=function(){for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];var i=Date.now();c+a<i&&(c=i,d?b("setTimeoutAcrossTransitions")(function(){this.sendRemoteQuery.apply(this,g)}.bind(this),e):this.sendRemoteQuery.apply(this,g))}.bind(this)}else b("FacebarGlobalOptions").typingSpeedThrottleTime>0&&(a=b("FacebarGlobalOptions").typingSpeedThrottleTime),this.sendRemoteQueryThrottled=b("throttle").withBlocking(this.sendRemoteQuery,a,this)};a.prototype.throttleRenderResults=function(){var a=b("FacebarGlobalOptions").renderThrottleTime;if(a===0){this.renderResultsThrottled=this.renderResults;return}var c=Date.now();this.renderResultsThrottled=function(b,d,e,f,g,h){var i=Date.now();(e||c+a<i)&&(c=i,this.renderResults(b,d,e,f,g,h))}.bind(this)};a.prototype.createResultStore=function(){this.facebarConfig.maxGrammarResults=this._maxGrammarResults,this.resultStore=new(b("FacebarResultStore"))(this.facebarConfig,b("FacebarTokenizer").tokenize,this.getEntry.bind(this),this.resultStoreOptions),this._fixProcessLean&&this._processLean(),this.subscribe("setSortFunction",function(a,b){this.resultStore.setSortFunction(b)}.bind(this))};a.prototype.dirty=function(){this._nullStateFetched=!1,this.resultStore.resetCaches(),h.dirty.call(this)};a.prototype.refreshNullstate=function(){this._nullStateFetched=!1,this.fetchNullState()};a.prototype.addEntries=function(a){this.resultStore.addBootstrap(this.processEntries(a))};a.prototype._processLean=function(){__p&&__p();if(this._fixProcessLean){if(this._leanPayload&&this.resultStore){var a,b=this._leanPayload.entries;for(var c in b){a=this.getEntry(c);if(!a)continue;for(var d in b[c])a.grammar_costs||(a.grammar_costs={}),a.grammar_costs["{"+d+"}"]=b[c][d]}this.setExclusions(this._leanPayload.blocked);this._leanPayload=null}}else h._processLean.call(this)};a.prototype.setNullStateData=function(a,b){b&&(this.nullStateData={grammar_version:this.grammarVersion});Object.assign(this.nullStateData,a);return this};a.prototype.setNullState=function(a){__p&&__p();if(b("FacebarGlobalOptions").hasKeywordOnlyTypeahead){var c={};a.queries=a.queries.filter(function(a){a=a.parse.display.join(" ").toLowerCase();if(!c[a]){c[a]=!0;return!0}return!1})}this._null_state=a;this.processEntries(this._null_state.entities);this.resultStore.setNullState(this._null_state.queries);this.resultStore.addNullStateToQueryCache(this.getRawStructure(b("FacebarStructuredText").fromString("")))};a.prototype.getNullStateTrending=function(){return this._null_state.trending};a.prototype.setSingleState=function(a){this._single_state=a};a.prototype.getSingleState=function(){return this._single_state};a.prototype.setLocal=function(a){this._is_local=a};a.prototype.setCategoryName=function(a){this._categoryName=a};a.prototype.overrideNullState=function(a){this._null_state!=null||g(0,undefined),this._original_null_state=this._original_null_state||this._null_state,this.setNullState(a)};a.prototype.restoreNullState=function(){this._original_null_state&&this.setNullState(this._original_null_state)};a.prototype.fetchNullState=function(){if(this._nullStateFetched){this.activityStart();setTimeout(this.activityEnd.bind(this),0);return}var a=new(b("AsyncRequest"))().setURI(this.nullStateEndpoint).setData(this.nullStateData).setMethod("GET").setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(function(a){this.resultStore?(this.setNullState(a.payload),this.inform("nullstateReady",!0)):this._fetched_null_state=a.payload,this._nullStateFetched=!0}.bind(this)).setFinallyHandler(this.activityEnd.bind(this));this.activityStart();a.send()};a.prototype.toTypeaheadEntryUid=function(a,c){__p&&__p();var d,e=b("FacebarStructuredText").fromStruct(c.structure),f=e.getFragment(0);if(e.getCount()==1&&f.isType("ent")){var g=f.getType().split(":")[2];d=this.getEntry(f.getUID(),g);d.type=this.resultStore.stripBrackets(c.type)}else d=this.getEntry(c.tuid),d||(d={dynamic_cost:c.dynamic_cost,extra_uri_params:c.extra_uri_params,memcache:c.fromMemcache,photo:c.photo,results_set_type:c.resultsSetType,tuid:c.tuid,type:c.type,uid:c.tuid,tags:c.tags},this.processEntries([d]),d=this.getEntry(c.tuid)),d.icon_class=c.iconClass,d.unseen_posts=c.unseen_posts,d.category=c.category,d.subtext=c.subtext,d.boldedSubtext=c.boldedSubtext,d.is_work_foreign_entity=c.is_work_foreign_entity;d.error_info=c.errorInfo;d.logInfo=c.logInfo;d.itemLoggingInfo=c.item_logging_info;d.itemLoggingId=c.item_logging_id;d.structure=e;d.text=d.structure.toString();d.queryTypeText=c.queryTypeText;d.semantic=!!c.isSingleState&&c.singleStateSemantic?c.singleStateSemantic:c.semantic;d.alternateSemantic=c.alternateSemantic;d.tree=c.tree;d.cost=c.cost;d.isSeeMore=!!c.isSeeMore;d.isNullState=!!c.isNullState;d.isSingleState=!!c.isSingleState;d.keywordSource=c.keywordSource;d.keyword=c.keyword;f=c.keyword_type;d.keywordType=f;d.isTrending=!!c.isTrending||c.keywordBootstrapType===b("FacebarJSConstants").keywordBootstrapTypes.trending||f===b("FacebarJSConstants").keywordTypes.trending;d.isCelebrity=f===b("FacebarJSConstants").keywordTypes.celebrity;d.isFootball=f===b("FacebarJSConstants").keywordTypes.football;d.isPhotos=f===b("FacebarJSConstants").keywordTypes.photos;d.isVideos=f===b("FacebarJSConstants").keywordTypes.videos;d.isHashtag=f===b("FacebarJSConstants").keywordTypes.hashtag;d.isLocal=f===b("FacebarJSConstants").keywordTypes.local||f===b("FacebarJSConstants").keywordTypes.local_category;d.isCompany=f===b("FacebarJSConstants").keywordTypes.company;d.isMovie=f===b("FacebarJSConstants").keywordTypes.movie;d.isHappeningNow=f===b("FacebarJSConstants").keywordTypes.happeningNow;d.isSpecialIntentGeneric=f===b("FacebarJSConstants").keywordTypes.specialIntentGeneric;d.isLink=f===b("FacebarJSConstants").keywordTypes.link;b("FacebarJSConstants").intentKeys.map(function(a){d.isSpecialIntent=d.isSpecialIntent||d[a]});d.isRecent=!!c.isRecent;d.isPrefetched=!!c.isPrefetched;d.isSuggestion=!!c.isSuggestion;d.isInjectedSuggestion=!!c.isInjectedSuggestion;d.isFromGSEF=!!c.isFromGSEF;d.isGloballyCachedKeyword=!!c.isGloballyCachedKeyword;d.entityInfo=c.entityInfo;d.cacheOnlyResult=c.cacheOnlyResult||!1;if(!b("FacebarGlobalOptions").workplaceHybridTypeahead&&b("FacebarGlobalOptions").hasKeywordOnlyTypeahead&&(!b("FacebarGlobalOptions").logSERPClickAsRecentSearch||!c.isNullState)){g=b("FacebarStructuredText").fromStruct(c.structure).toString().toLowerCase();e=b("FacebarKeywordSearchUtils").makeFacebarEntry(g);d.uri=e.uri;d.semantic=e.semantic;d.structure=e.structure}else d.uri=d.uri||b("FacebarURI").getURI(this.facebarConfig,d);d.parse=c.parse;d.tags=c.tags||{};d.isKeywordL2=c.isKeywordL2||!1;d.exactMatchKeyword=c.exactMatchKeyword||!1;d.qid=c.qid;d.templateID=c.templateID;c.isJSBootstrapMatch&&(d.isJSBootstrapMatch=c.isJSBootstrapMatch,d.backendCost=c.backendCost,d.bootstrapCost=c.bootstrapCost,d.keywordBootstrapType=c.keywordBootstrapType);this._replaceCategoryWithTermMatches(a,d,c);return d.tuid};a.prototype._replaceCategoryWithTermMatches=function(a,b,c){__p&&__p();if(b.type!=="user"&&b.type!=="page")return;if(!b.term_to_subtitle||!c.termMatches)return;var d=b.alias,e=d==null?"":this.resultStore._convertToAliasKey(d),f=[];c.termMatches.forEach(function(c){var d=b.term_to_subtitle[c];!a.is_alias_search&&c===e&&c!==a.potential_alias_term&&(d=null);d&&f.push(d)},this);b.category===undefined&&(b.category="");b.original_category!==undefined&&(b.category=b.original_category);if(!f||f.length===0)return;b.original_category===undefined&&(b.original_category=b.category);if(!b.original_category)return;d=b.original_category.length>0?b.original_category.split(" \xb7 "):[];d.unshift.apply(d,f);d=d.filter(function(a,b,c){return b==c.indexOf(a)});b.category=d.splice(0,2).join(" \xb7 ")};a.prototype.getRawStructure=function(a){typeof a==="string"&&(a=b("FacebarStructuredText").fromString(a));if(this.resultStore)return this.resultStore.transformStructured(a.toArray())};a.prototype.saveResult=function(a){this._initialQueryData=this.getUID(a.uid,a.fetchType)};a.prototype.isDefaultKeywordQuery=function(a){return a.type===b("FacebarJSConstants").keywordType&&b("FacebarResultStoreUtils").getTextFromResult(a).toLowerCase()===this.value.getHash().trim().toLowerCase()};a.prototype.buildUids=function(a){__p&&__p();if(!a||!this.resultStore)return[];typeof a==="string"&&(a=b("FacebarStructuredText").fromString(a));var c=this.getRawStructure(a);a=this.resultStore.getResults(c,this.getMaxResults());var d=a.results;if(d===undefined)return[];a=a.null_state===!0;var e=0;d=d.filter(function(a,c){return!b("FacebarGlobalOptions").allowGrammar&&a.type=="grammar"?!1:a.semantic!="<blank>"&&(a.type!="unimplemented"||e++===0)},this);var f=[],g=[],h=[];d.forEach(function(a){a.forcedPosition>0?h.push(a):a.isSeeMore?f.push(a):g.push(a)});a?d=this.orderNullState(d,b("FacebarGlobalOptions").maxNullstateResultCount?b("FacebarGlobalOptions").maxNullstateResultCount:this.getMaxResults()):d=g;h.length>0&&(h.sort(function(a,b){return a.forcedPosition-b.forcedPosition}),h.forEach(function(a){d.splice(a.forcedPosition,0,a)}));f.length>0&&d.push.apply(d,f);return d.map(function(a){return this.toTypeaheadEntryUid(c,a)}.bind(this))};a.prototype.orderNullState=function(a,b){var c={top:[],bottom:[],middle:[]},d=function(a){a=a.null_state_position;return Object.prototype.hasOwnProperty.call(c,a)?a:"middle"},e=function(a,b){return a.original_cost-b.original_cost};a&&a.forEach(function(a){c[d(a)].push(a)},this);for(var f in c)c[f]=c[f].sort(e).slice(0,b),b-=c[f].length;return[].concat(c.top,c.middle,c.bottom)};a.prototype.isEntity=function(a){return!a?!1:/^\d+$/.test(a)};a.prototype.handleResponse=function(a,b){a.payload.errors||(this.processEntries(a.payload.entities),a.payload.results.forEach(function(c){c.qid=a.queryId,c.parse||(c.parse={}),c.parse.entTokens=c.parse.entTokens||[],c.parse.remTokens=c.parse.remTokens||[],c.parse.suffix=c.parse.suffix||"",this.isEntity(c.semantic)&&(c=this._buildCommonEntityFields(c,b.tokens))}.bind(this)),this.saveResults(a,b))};a.prototype.saveResults=function(a,b){a.payload.prefetched&&this.processPrefetched(a.payload.prefetched),this.resultStore.saveResults(a.payload.results,b,a.payload.incomplete,{},[])};a.prototype.processPrefetched=function(a){var c=this,d=function(d){var e=b("FacebarStructuredText").fromString(d),f=c.getRawStructure(e);e=a[d];c.processEntries(e.entities);e.results.forEach(function(a){this.isEntity(a.semantic)&&(a=this._buildCommonEntityFields(a,f.tokens))}.bind(c));c.resultStore.saveResults(e.results,f,e.incomplete)};for(var e in a)d(e)};a.prototype.processEntries=function(a){__p&&__p();return a.map(function(a,b){__p&&__p();var c=a.uid+="";a.textToIndex=this.getTitleTerms(a);a.titleToIndex=this.getTitleTerms(a);c=this.getUID(c,a.fetchType);var d=this.getEntry(c);!d?(this.setEntry(c,{}),d=this.getEntry(c)):delete a.photo;Object.assign(d,a);d.tuid=c;d.index===undefined&&(d.index=b);return c},this)};a.prototype.getUID=function(a,b){a+="";if(b!==undefined){b=/([^:]+:)?([^:]+)(:.*)?/.exec(b)[2];return JSON.stringify([a,b])}return a};a.prototype.getEntry=function(a,b){a=""+a;b=b!=null?h.getEntry.call(this,this.getUID(a,b))||h.getEntry.call(this,a):h.getEntry.call(this,a);return b};a.prototype.getEntryForFragment=function(a){return this.getEntry(a.getUID(),a.getTypePart(2))};a.prototype.getMaxResults=function(){return this._numResults.max};a.prototype.query=function(a,c,d){this.executeQueryThrottled(a,this._initialQueryData,{keyPress:b("FacebarTimerUtils").getTimestamp()}),this._initialQueryData=null};a.prototype.shouldFetchMore=function(a,c){__p&&__p();if(!a.is_empty&&b("FacebarGlobalOptions").fetchMoreKeywords){var d=c.filter(function(a){return a.type===b("FacebarJSConstants").keywordType}).length;if(d<b("FacebarGlobalOptions").default_num_top_results_to_show)return!0}if(a.is_empty)return!1;if(this.resultStore.alreadyKnown(a.cache_id))return!1;if(a.raw_text&&this._isQueryTooShort(a.raw_text))return!1;if(b("FacebarGlobalOptions").alwaysFetchMore)return!0;return c.length<this.getMaxResults()||this._performShortQuery?!0:this.countValidResults(c)<this.getMaxResults()||this._performShortQuery};a.prototype.countValidResults=function(a){var b=0;a.forEach(function(a){a&&!a.isNullState&&!a.isSeeMore&&b++},this);return b};a.prototype.handleQueryResponse=function(a,c,d,e,f,g,h){__p&&__p();var i=g||h;if(i&&a.payload.is_user)return;var j=a.payload;a.queryId=c;a.inputQuery=d.text_form;j.results!=null&&j.results.forEach(function(a){a.isSingleState=this._single_state,a.isFromGSEF=g,a.isGloballyCachedKeyword=h}.bind(this));f!=null&&(f.endRemoteQuery=b("FacebarTimerUtils").getTimestamp());this.inform("response_received",a);this.handleResponse(a,d);c=[];j.abandon_cache&&(c=j.results.map(function(a){return this.toTypeaheadEntryUid(d,a)}.bind(this)));var k=j.num_topresults_to_show;b("FacebarGlobalOptions").hasSimplifiedFlickerFix&&(k==null||k<3)&&(k=3);this.respond(e,c,!0,j&&(!j.results||j.results.length===0),f,k,i);this.inform("backend_response",a)};a.prototype.activityStart=function(){this._waitingQueries||this.inform("activity",{activity:!0},"state"),this._waitingQueries++};a.prototype.activityEnd=function(){this._waitingQueries--,this._waitingQueries||this.inform("activity",{activity:!1},"state")};a.prototype._bucketizeResults=function(a,b,c){b=this._tagKeywordsSuggestions(b);return this._resultsBucketizer.bucketize(b,i,null,c)};a.prototype._tagKeywordsSuggestions=function(a){__p&&__p();if(!a||a.length===0)return a;var c=a[0];if(c.bootstrapped)return a;return c.type==="grammar"||c.cost<b("FacebarGlobalOptions").closeEntityThreshold&&c.type==="user"?a:a.map(function(a){if(a.type!==b("FacebarJSConstants").keywordType)return a;a=babelHelpers["extends"]({},a);a.tags.topBucket=!0;return a})};a.prototype._buildCommonEntityFields=function(a,c){if(a.queryTypeText)return a;b("FacebarGlobalOptions").unbreakParseDisplay?a.parse.display=[{type:"ent:"+a.type,uid:a.semantic}]:a.parse.display=[{type:"ent:"+a.type,uid:parseInt(a.semantic,10)}];a.parse.fetchType&&(a.parse.display[0].fetchType=a.parse.fetchType);a.parse.entTokens=c;a.parse.pos=0;a.resultsSetType="{"+a.type+"}";a.queryTypeText=b("FacebarJSConstants").defaultQueryTypeText;return a};a.prototype.setBypassBucketizer=function(a){this._bypassBucketizer=a};a.prototype.respond=function(a,c,d,e,f,g,h){__p&&__p();d&&this.value&&(typeof this.value==="string"&&(this.value=b("FacebarStructuredText").fromString(this.value)),this.inform("remote_query_match",{isMatch:this.value.matches(a),queryId:f!=null?f.queryId:0}),a=this.value,(!c||c.length===0)&&(c=this.buildUids(a)));this.inform("reorderResults",c);this.inform("respondValidUids",c);c=c.map(this.getEntry,this);c.forEach(function(a,b){a.fromCache=!d,a.isSingleState=this._single_state},this);if(!d&&(a.getHash().length<512||a.getHash().startsWith("http://")||a.getHash().startsWith("https://"))){var i=this.getRawStructure(a);this.shouldFetchMore(i,c)&&(f!=null&&(f.dispatchRemoteQuery=b("FacebarTimerUtils").getTimestamp()),this.useGloballyCachedKeywords&&!this._single_state?(this.sendRemoteQueryThrottled(i,a,f,!1,null,!0),this.sendRemoteQueryThrottled(i,a,f)):this.hasGSPreload?(this.sendRemoteQueryThrottled(i,a,f,!0,this.gsPreloadOptions.max_entities_to_fetch),this.sendRemoteQueryThrottled(i,a,f)):this.sendRemoteQueryThrottled(i,a,f))}(!d||f==null||f.queryId===this._maxRemoteQueryId)&&this.renderResultsThrottled(a,c,d,e,g,h);f!=null&&this.logLatencies(d,f)};a.prototype.injectExtraResults=function(a,c,d){b("FacebarFindPeopleAndPages").insertInto(a,c,!d,this._single_state),b("FacebarInviteCoworkers").insertInto(a,c,!d,this._single_state)};a.prototype.logLatencies=function(a,c){var d=b("FacebarTimerUtils").getTimestamp();a?this.inform("remote_query_latency",{queryId:c.queryId,latencies:{queryStart:Math.max(c.startRemoteQuery-c.dispatchRemoteQuery,0),queryEnd:Math.max(c.endRemoteQuery-c.startRemoteQuery,0),keyPressToQueryDispatch:Math.max(c.dispatchRemoteQuery-c.keyPress,0),keyPressToQueryStart:Math.max(c.startRemoteQuery-c.keyPress,0),keyPressToQueryEnd:Math.max(c.endRemoteQuery-c.keyPress,0),render:Math.max(d-c.endRemoteQuery,0),inflightRequests:c.inflightRequests,waitingQueries:c.waitingQueries,keyPressToRender:Math.max(d-c.keyPress,0)}}):this.inform("cache_query_latency",{queryId:c.queryId,latencies:{queryStart:Math.max(c.startCacheQuery-c.keyPress,0),queryEnd:Math.max(c.endCacheQuery-c.startCacheQuery,0),keyPressToQueryEnd:Math.max(c.endCacheQuery-c.keyPress,0),render:Math.max(d-c.endCacheQuery,0),keyPressToRender:Math.max(d-c.keyPress,0)}})};a.prototype._updateMaxResults=function(){b("queryThenMutateDOM")(function(){var a=b("Vector").getViewportDimensions().y,c=b("ViewportBounds").getTop()||42,d=56,e=48;a=a-c-e-25;this._maxResults=Math.max(this._numResults.min,Math.min(this._numResults.max,Math.floor(a/d)-1));this.value&&this.query(this.value)}.bind(this))};a.prototype.getCurQueryId=function(){return this._curQueryId};a.prototype.setMinQueryLength=function(a){this._minQueryLength=a};a.prototype.setGrammarOption=function(a){b("FacebarGlobalOptions").allowGrammar=a};a.prototype.getBootstrapMatches=function(a,c){c===void 0&&(c=[]);var d=this.getRawStructure(b("FacebarStructuredText").fromString(a));a=this.resultStore.getBootstrapMatches(d,c);return a.map(function(a){return this.getEntry(this.toTypeaheadEntryUid(d,a))}.bind(this))};Object.assign(a.prototype,{events:["query","respond","bootstrapped","activity","ready"]});e.exports=a}),null);
__d("FacebarTypeahead",["Arbiter","Typeahead","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("Typeahead"));g=c&&c.prototype;function a(a,c,d,e,f,h){g.constructor.call(this,a,c,d,e);this.getCore();this.proxyEvents();this.initBehaviors(f||[]);var i=this.core.subscribe("focus",function(){h&&h.init(this),this.core.unsubscribe(i),this.data.bootstrap(!1),this.core.input.focus()}.bind(this));this.data.bootstrap(!0);this.inform("init",this,"persistent");b("Arbiter").inform("Facebar/init",this,"persistent")}a.prototype.proxyEvents=function(){var a,b=[],c=null,d=function(){while(a=b.shift())this.inform(a[0],a[1]);c=null}.bind(this);[this.data,this.view,this.core].forEach(function(a){a.subscribe(a.events,function(a,e){b.push([a,e]),c=c||setTimeout(d,0)}.bind(this))},this)};Object.assign(a.prototype,{init:b("emptyFunction")});e.exports=a}),null);
__d("FacebarTypeaheadCore",["csx","cx","invariant","Arbiter","ArbiterMixin","Base64","CSS","DOM","Event","FacebarGlobalOptions","FacebarJSConstants","FacebarKeywordSearchUtils","FacebarResultStoreUtils","FacebarStructuredText","FacebarTypeaheadInput","Keys","KeywordsSearchResultConfig","Parent","Random","URI","generateBrowseSessionID","getActiveElement","immutable","mixin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));j=c&&c.prototype;function a(a){j.constructor.call(this),this.events=["session","focus","select","change","execute","blur","focusStartTime","open"],this._squashedEntityIDsByQuery=b("immutable").Map(),Object.assign(this,a)}a.prototype.init=function(a,c,d){__p&&__p();if(window.getSelection===null)throw new Error("Facebar: window.getSelection is null!");this.init=function(){};this.data=a;this.view=c;this.root=d;this.facebarRoot=b("Parent").bySelector(d,"._585-");this.button=b("DOM").find(this.facebarRoot,"._4w98");this.windowFocused=!0;this.isFocused=!1;this.hoverAnimation=null;this.stickyQuery=null;this.settedQuery=null;this.selectedQuery=null;this.currentQuery=null;this.isSuggestionBagdeVisible=!1;this.initSubcomponents();this.initEvents();this.checkValue();this.checkSingleState();this.checkLocal();this.checkCategoryName()};a.prototype.initSubcomponents=function(){var a=b("DOM").find(this.root,"._5861");this.input=new(b("FacebarTypeaheadInput"))(a);this.view.setInputElement(this.input.getRawInputElement())};a.prototype.initEvents=function(){b("Event").listen(this.root,"keydown",this.keydown.bind(this)),b("Event").listen(this.root,"keyup",this.keyup.bind(this)),b("Event").listen(this.root.parentNode,"mousedown",this.mousedown.bind(this)),b("Event").listen(this.view.getElement(),"mousedown",this.mousedown.bind(this)),b("Event").listen(window,"focus",this.focusWindow.bind(this)),b("Event").listen(window,"blur",this.blurWindow.bind(this)),this.view.subscribe("select",this.selectView.bind(this)),this.view.subscribe("highlight",this.highlightView.bind(this)),this.view.subscribe("render",this.highlightView.bind(this)),this.input.subscribe("focus",this.focusInput.bind(this)),this.input.subscribe("blur",this.blurInput.bind(this)),this.input.subscribe("change",this.changeInput.bind(this)),this.data.subscribe("activity",this.typeaheadActivity.bind(this)),this.data.subscribe("respond",this.completeData.bind(this)),this.data.subscribe("nullstateReady",this.performQueryIfVisible.bind(this)),this.data.subscribe("reloadNullstate",this.performQuery.bind(this)),b("Arbiter").subscribe("FacebarTypeahead.clearRecentSearches",function(){return this.clearRecentSearches()}.bind(this)),b("Event").listen(this.button,"click",this.buttonDownOrClick.bind(this)),b("Event").listen(this.button,"mousedown",this.buttonDownOrClick.bind(this)),b("Event").listen(this.button,"mouseup",this.buttonUp.bind(this)),setTimeout(this.initFocus.bind(this),0)};a.prototype.initFocus=function(){!this.lazyFocused&&b("DOM").contains(this.input.root,b("getActiveElement")())&&(this.lazyFocused=!0,this.isFocused=!0,this._newSession(),this.inform("focus",{catchup:!0}),this.open(!0))};a.prototype.setStartTime=function(a){this.inform("focusStartTime",{time:a})};a.prototype.cleanQuery=function(a){a=babelHelpers["extends"]({},a)||{};a.structure||(a.structure=new(b("FacebarStructuredText"))());(!b("FacebarGlobalOptions").allowGrammar||b("FacebarJSConstants").nonGrammarTypes[a.type])&&(a.structure=b("FacebarStructuredText").fromString(a.structure.toString()));a.structure instanceof b("FacebarStructuredText")||i(0,undefined);return a};a.prototype._unlockQuery=function(){var a=this.input.getValue();a.hasType("ent")&&a.trim().getCount()===1&&(this.input.storeSelection(),this.input.setValue(b("FacebarStructuredText").fromString(a.toString())),this.input.restoreSelection())};a.prototype.setPageQuery=function(a){a=this.cleanQuery(a);var b=this.input.getValue(),c=a.structure;b=!c.isEmptyOrWhitespace()&&(b.isEmptyOrWhitespace()||!b.matches(c));return this.selectQuery(a,b)};a.prototype.selectQuery=function(a,b){b=b!==!1;a=this.cleanQuery(a);(b||!this.selectedQuery)&&((b||this.getValue().isEmptyOrWhitespace())&&this.setQuery(a),this.selectedQuery=a);return a};a.prototype.completeSelection=function(){var a=this.view.getSelection();if(a&&!a.search){this.data.saveResult(a);a.structure=a.structure.pad();this.setQuery(a);return!0}return!1};a.prototype.setQuery=function(a,c){c===void 0&&(c=!0),a=this.cleanQuery(a),a.structure.hasType("blank")&&(a.structure=new(b("FacebarStructuredText"))(a.structure.toArray().filter(function(a){return a.getType()!="blank"}))),this.input.setValue(a.structure),this.settedQuery=a,this.stickyQuery=c===!1?this.stickyQuery:a,this.checkValue(),this.checkSingleState(),this.checkLocal(),this.checkCategoryName()};a.prototype.checkValue=function(a){a===void 0&&(a=!1);if(!a&&this.value&&this.value.getHash()===this.input.getValue().getHash())return;this.performQueryIfVisible();this.showSearchSuggestionBadgeIfPossible()};a.prototype.showSearchSuggestionBadgeIfPossible=function(){this.isNullState()?!this.isSuggestionBagdeVisible&&this.data.resultStore.injectedSuggestionCount&&(b("Arbiter").inform("FacebarTypeahead.showSuggestionBadge"),this.isSuggestionBagdeVisible=!0):this.isSuggestionBagdeVisible&&(b("Arbiter").inform("FacebarTypeahead.hideSuggestionBadge"),this.isSuggestionBagdeVisible=!1)};a.prototype.checkSingleState=function(){var a=this.input.getValue();this.data.setSingleState(a.getCount()===1&&a.hasType("ent"))};a.prototype.checkLocal=function(){var a=this.input.getValue();this.data.setLocal(a.getCount()===1&&a.isLocal())};a.prototype.checkCategoryName=function(){var a=this.input.getValue();a.getCategoryName()!==null&&this.data.setCategoryName(a.getCategoryName())};a.prototype.isNullState=function(){return this.input.getValue().getHash()===""};a.prototype.performQueryIfVisible=function(){if(!this.view.visible)return;this.performQuery()};a.prototype.performQuery=function(){this.value=this.nextQuery=this.getValue(),b("FacebarGlobalOptions").graphSearchV2&&this.view.resetIndex(),this.data.query(this.nextQuery),this.currentQuery=this.nextQuery};a.prototype.requery=function(){this.currentQuery&&this.data.query(this.currentQuery)};a.prototype.executeQuery=function(a){__p&&__p();this._browseSessionID=b("generateBrowseSessionID")({appName:"www",edge:"keywords_search"});var c=this.isNullState();a=this.cleanQuery(a);this._setSquashedEntityIDsFromQuery(a);b("FacebarGlobalOptions").facebar_use_js_session_id&&(a.csid=String(b("Random").uint32())+String(b("Random").uint32()));var d=this.inform("execute",a),e=this.getSessionID();this.close();b("FacebarGlobalOptions").allowGrammar?this.selectQuery(a):this.selectQuery();b("FacebarGlobalOptions").hasRecentSearchNullState&&a.type!=="shortcut"&&(!c||a.isInjectedSuggestion)&&(this.data.resultStore.addRecentEntryToNullState(a),a.isInjectedSuggestion&&(b("Arbiter").inform("FacebarTypeahead.removeInjectedSuggestion"),--this.data.resultStore.injectedSuggestionCount,this.performQuery()));d||this._navigateToQuery(a,e,a.csid)};a.prototype.getSearchType=function(){return"facebar"};a.prototype._newSession=function(){if(this._sessionID!=null)return;this._sessionID=Math.random().toString();this.inform("session",this._sessionID,"state")};a.prototype._closeSession=function(){this._sessionID=null,this.inform("session",null,"state")};a.prototype.getSessionID=function(){return this._sessionID};a.prototype.getBrowseSessionID=function(){return this._browseSessionID};a.prototype._navigateToQuery=function(a,c,d){__p&&__p();var e=this.data.facebarConfig;if(a.uri){a.uri.addQueryData(a.extra_uri_params);a.uri.addQueryData({ref:"br_tf"});var f=a.uid!=null&&a.uid.match(/^[0-9]+$/)!=null;if(a.structure&&(a.type=="websuggestion"||a.type==b("KeywordsSearchResultConfig").result_type||a.type=="grammar"&&(!e||String(a.uri.getPath()).startsWith(e.search_path))||b("FacebarGlobalOptions").hasKeywordOnlyTypeahead&&f)){e=this.data.getRawStructure(a.structure).text_form;f=b("Base64").encode(encodeURIComponent(e)).replace(/\=+$/,"");e={sid:c,qs:f,gv:this.data.getQueryData().grammar_version,ent_ids:this.getSquashedEntityIDsFromQueryString(String(a)),bsid:this._browseSessionID,preloaded_entity_ids:null,preloaded_entity_type:null,ref:"br_tf",csid:null,high_confidence_argument:null};d&&(e.csid=d);a.uri.addQueryData({ref:b("FacebarKeywordSearchUtils").encodeFacebarURIParams(e),bs:a.alternateSemantic})}a.uri.go();return}};a.prototype.reset=function(){this.selectQuery(),this.inform("reset"),this.showSearchSuggestionBadgeIfPossible(),b("FacebarKeywordSearchUtils").clearSelectedTabInfo()};a.prototype.open=function(a){this.inform("open"),this.view.show(this.facebarRoot.offsetWidth),this.input.focus({catchup:a}),this.checkValue(!0),this.checkSingleState(),this.checkLocal(),this.checkCategoryName(),this.highlightButton(),this.isFocused||(this.isFocused=!0,this._newSession(),this.inform("focus"))};a.prototype.close=function(){__p&&__p();this._closeSession();if(this.inform("close")===!1)return;(!this.value||this.value.isEmptyOrWhitespace())&&this.selectedQuery?this.input.setValue(this.selectedQuery.structure):this.stickyQuery&&this.input.setValue(this.stickyQuery.structure);this.input.setHint(null);this.view.hide();this.view.setAutoSelect(!1);this.inform("session",null,"state");this.isFocused=!1;this.unlightButton()};a.prototype.getElement=function(){return this.root};a.prototype.getValue=function(){return this.input.getValue()};a.prototype.getText=function(){return this.getValue().toString()};a.prototype.submitQuery=function(a){__p&&__p();if(b("FacebarGlobalOptions").graphSearchV2&&this.view.index<0){var c=this.input.getValue(),d=this.data.getRawStructure(c);if(d&&!d.is_empty){d=d.raw_text?d.raw_text:b("FacebarResultStoreUtils").getRawTextFromStructured(c.toArray());c=b("FacebarKeywordSearchUtils").makeFacebarEntry(d);c.position=a;this.inform("magSearch",c);this.executeQuery(c)}}else this.view.select()};a.prototype.keydown=function(event){__p&&__p();var a=!0,c=b("Event").getKeyCode(event);event.metaKey===!0&&(this.metaOnKeyDown=!0);this.isFocused||this.open();switch(c){case b("Keys").ESC:this.reset();this.close();break;case b("Keys").RIGHT:a=this.input.isSelectionAtEnd()&&this.completeSelection();break;case b("Keys").UP:this.view.prev();break;case b("Keys").DOWN:this.view.next();break;case b("Keys").RETURN:var d=-2;this.submitQuery(d);break;case b("Keys").PAGE_UP:this.view.first();break;case 222:d=this.input.value.trim();!event.getModifierState("shift")&&d.endsOnType("ent")&&this.input.setValue(d);a=!1;break;default:d=c<=46&&c!==8&&c!==32;var e=c>=112&&c<=126,f=c===144||c===145;c=c===91||c===92||c===93||c===224;!d&&!e&&!f&&!event.metaKey&&!c&&(this.data.setSingleState(!1),this.data.setLocal(!1),b("FacebarGlobalOptions").autohighlight&&this.view.setAutoSelect(!0));this.stickyQuery=null;a=!1;break}this.input.storeSelection();a&&(event.preventDefault(),event.stopPropagation())};a.prototype.keyup=function(event){var a=b("Event").getKeyCode(event),c=a<=46&&a!==8&&a!==32,d=a>=112&&a<=126,e=a===144||a===145;a=a===91||a===92||a===93||a===224;!c&&!d&&!e&&!event.metaKey&&!a&&!this.metaOnKeyDown&&this._unlockQuery();a||(this.metaOnKeyDown=!1)};a.prototype.mousedown=function(event){b("FacebarGlobalOptions").autohighlight&&this.view.setAutoSelect(!0),this.input.storeSelection(),event.target instanceof Element&&b("Parent").bySelector(event.target,"._50c9")&&event.preventDefault()};a.prototype.focusWindow=function(){this.windowFocused=!0};a.prototype.blurWindow=function(){this.windowFocused=!1};a.prototype.selectView=function(a,b){if(!b||!b.selected)return;this.inform("select",b);a=this.cleanQuery(b.selected);this.executeQuery(a)};a.prototype.highlightView=function(){var a=this.view.getSelection();b("FacebarGlobalOptions").graphSearchV2?this.input.setHint(a?a.structure:null):a&&this.input.setHint(a.structure)};a.prototype.blurInput=function(){setTimeout(function(){(this.windowFocused||b("URI").getRequestURI().getSubdomain()==="apps")&&(this.input.togglePlaceholder(),this.close())}.bind(this),0)};a.prototype.changeInput=function(){this.inform("change"),this.checkValue(),this.checkLocal(),this.inform("change_end")};a.prototype.focusInput=function(){this.open(),this.input.togglePlaceholder(!1)};a.prototype.updateData=function(){this.view.setLoading(this.loading)};a.prototype.completeData=function(a,c){if(c.forceDisplay||this.value&&this.value.matches(c.value)){a=b("FacebarGlobalOptions").graphSearchV2?!c.results.length:!c.results.length&&!this.loading&&c.isEmptyResults;this.view.render(c.value,c.results,c.isAsync,a);this.tabQueued&&this.completeSelection()&&delete this.tabQueued}};a.prototype.typeaheadActivity=function(a,b){this.fetching=b.activity,this.loading!==this.fetching&&(this.loading=this.fetching,this.updateData())};a.prototype.getNameTextFromSelected=function(){var a=this.settedQuery&&this.settedQuery.semantic,b=this.data.facebarConfig&&this.data.facebarConfig.name_functions;a=a&&b&&a.match(/[a-z-]+\([^()]+\)/g);if(a)for(var c=0;c<a.length;c++){var d=a[c].match(/([a-z-]+)\(([^()]+)\)/);if(d&&b.includes(d[1]))return d[2]}return this.value.toString()};a.prototype.clearRecentSearches=function(){this.data.resultStore.clearRecentSearches()};a.prototype.highlightButton=function(){b("CSS").addClass(this.button,"_4w97")};a.prototype.unlightButton=function(){b("CSS").matchesSelector(this.button,"._4w97")&&b("CSS").removeClass(this.button,"_4w97")};a.prototype.buttonDownOrClick=function(event){event.preventDefault()};a.prototype.buttonUp=function(){!this.isFocused?this.focusInput():this.submitQuery(-1)};a.prototype._setSquashedEntityIDsFromQuery=function(a){var b=[];a.itemLoggingInfo?a.itemLoggingInfo.kwEntIds?b=a.itemLoggingInfo.kwEntIds:a.itemLoggingInfo.kwEntId&&(b=[a.itemLoggingInfo.kwEntId]):a.entity_ids&&(b=a.entity_ids);this._squashedEntityIDsByQuery=this._squashedEntityIDsByQuery.set(a.text,b)};a.prototype.getSquashedEntityIDsFromQueryString=function(a){a=this._squashedEntityIDsByQuery.get(a);return a==null?[]:a};a.clearRecentSearches=function(){b("Arbiter").inform("FacebarTypeahead.clearRecentSearches")};e.exports=a}),null);
__d("WorkWebDriverConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADMIN_EMPLOYEES_MEMBER_TABLE:"employees_member_table",ADMIN_EMPLOYEES_GENERATE_CLAIM_DIALOG:"employees_generate_claim_dialog",PAGELET_COMPANY_LOGO:"pagelet_company_logo",PROGRESS_BAR:"progressbar",DASHBOARD_GROUPS_GRID:"dashboard_groups_grid",DASHBOARD_GROUPS_MEMBER_COUNT:"dashboard_groups_member_count",DASHBOARD_GROUPS_ADMIN_COUNT:"dashboard_groups_admin_count",DASHBOARD_IMPORT_PEOPLE_CREATED:"dashboard_import_people_created",DASHBOARD_IMPORT_PEOPLE_FINISHED_BUTTON:"dashboard_import_people_finished_button",DASHBOARD_IMPORT_PEOPLE_OPTIONS:"dashboard_import_people_options",DASHBOARD_IMPORT_PEOPLE_QUICK_ADD_OPTION:"dashboard_import_people_quick_add_option",DASHBOARD_IMPORT_PEOPLE_SPREADSHEET_OPTION:"dashboard_import_people_spreadsheet_option",DASHBOARD_INVITES_SECTION:"dashboard_invites_section",DASHBOARD_INVITES_ALL_BUTTON:"dashboard_invites_all_button",DASHBOARD_INVITES_CUSTOM_EMAIL:"dashboard_invites_custom_email",DASHBOARD_INVITES_DEFAULT_EMAIL_SEND:"dashboard_invites_default_email_send",DASHBOARD_INVITES_CONFIRMATION_DIALOG:"dashboard_invites_confirmation_dialog",DASHBOARD_INVITES_CONFIRM_SEND:"dashboard_invites_confirm_send",DASHBOARD_INVITES_CONFIRMED:"dashboard_invites_confirmed",DASHBOARD_INVITES_PREPARING:"dashboard_invites_preparing",DASHBOARD_IMPORT_PROFILES:"dashboard_import_profiles",DASHBOARD_IMPORT_PROFILES_CONFIRM:"dashboard_import_profiles_confirm",DASHBOARD_IMPORT_PROFILES_SUCCESS:"dashboard_import_profiles_success",DASHBOARD_UPLOAD_SPREADSHEET:"dashboard_upload_spreadsheet",DASHBOARD_LOCALE_SELECTOR_DIALOG:"dashboard_locale_selector_dialog",DASHBOARD_LOCALE_SELECTOR_DIALOG_LOCALE_SELECTOR:"dashboard_locale_selector_dialog_locale_selector",DASHBOARD_LOCALE_SELECTOR_DIALOG_CTA:"dashboard_locale_selector_dialog_cta",DASHBOARD_SETTINGS_COMPANY_NAME:"dashboard_settings_company_name",DASHBOAR_SETTINGS_SAVE:"dashboard_settings_save",DASHBOARD_SETTINGS_SAVED_DIALOG:"dashboard_settings_saved_dialog",GROUP_MORE_ACTIONS:"group_more_actions",GROUP_MORE_ACTIONS_POPOVER:"group_more_actions_popover",GROUP_IMPORT_MEMBERS:"group_import_members",GROUP_IMPORT_MEMBERS_UPLOAD_FILE:"group_import_members_upload_file",GROUP_IMPORT_MEMBERS_INVITE_ALL:"group_import_members_invite_all",GROUP_IMPORT_MEMBERS_SUCCESS:"group_import_members_success",GROUP_SUGGESTION_CARD:"GROUP_SUGGESTION_CARD",GROUP_SETUP_SUBMIT:"GROUP_SETUP_SUBMIT",GROUP_SUBMISSION_SUCCESS:"GROUP_SUBMISSION_SUCCESS",DASHBOARD_ADMINISTRATORS:"dashboard_add_administrators",DASHBOARD_ADMINISTRATORS_INVITE_ADMIN:"dashboard_administrators_invite_admin",DASHBOARD_ADMINISTRATORS_FIND_COLLEAGUES:"dashboard_administrators_find_colleagues",DASHBOARD_ADMINISTRATORS_ROLE_DIALOG:"dashboard_administrators_role_dialog",DASHBOARD_ADMINISTRATORS_ADD_ADMIN:"dashboard_administrators_add_admin",DASHBOARD_ADMINISTRATORS_AWAITING_ACCEPTANCE:"dashboard_administrators_awaiting_acceptance",FAKE_IDP_EMAIL_FIELD:"fake_idp_field",FAKE_IDP_LOGIN_BUTTON:"fake_idp_login_button",FAKE_IDP_LOGOUT_BUTTON:"fake_idp_logout_button",CREATE_WORK_GROUP_DIALOG_SKIP_ADD_MEMBERS:"create_group_dialog_skip_add_members",CREATE_WORK_GROUP_LEFT_NAV_BOOKMARK:"left_nav_item_Create Group",CREATE_WORK_GROUP_NAME_NEXT_BUTTON:"create_work_group_name_next_button",CREATE_WORK_GROUP_NAME_TEXT:"create_work_group_name_text",CREATE_WORK_GROUP_NAME_DIALOG:"create_group_dialog_name",CREATE_WORK_GROUP_PURPOSE_TEAM_GROUP:"create_work_group_purpose_work_team",GROUP_TITLE_IN_GROUP_PAGE:"group_title_in_group_page",COWORKER_INVITE_BOX:"coworker_invite_box",COWORKER_INVITE_DIALOG_INPUT:"coworker_invite_dialog_input",COWORKER_INVITE_DIALOG_LINK:"coworker_invite_dialog_link",COWORKER_INVITE_DIALOG_INPUT_VIEW:"coworker_invite_dialog_input_view",COWORKER_INVITE_INPUT:"coworker_invite_input",COWORKER_INVITE_BUTTON:"coworker_invite_button",COWORKER_INVITE_TOPBAR_BUTTON:"coworker_invite_topbar_button",COWORKER_INVITE_RESULTS:"coworker_invite_results",COWORKER_INVITE_LINK:"coworker_invite_link",WORK_LANDING:"work_landing",WORK_LANDING_TITLE:"work_landing_title",WORK_LANDING_INPUT:"work_landing_input",WORK_LANDING_BUTTON:"work_landing_button",COMPANY_CREATION_LANDING:"company_creation_landing",COMPANY_CREATION_TITLE:"company_creation_title",LOGIN_USERNAME_PASSWORD_FORM:"login_username_password_form",LOGIN_BUTTON:"login_button",LOGIN_USERNAME:"login_username",LOGIN_PASSWORD:"login_password",LOGIN_FORGOT_PASSWORD:"login_forgot_password",LOGIN_FORGOT_PASSWORD_MOBILE:"login_forgot_password_mobile",LOGIN_IDENTIFY_FORM:"login_identify_form",LOGIN_IDENTIFY_USERNAME:"login_identify_username",LOGIN_IDENTIFY_BUTTON:"login_identify_button",SIGNUP_FORM:"signup_form",SIGNUP_FORM_FIELD_NAME:"signup_form_field_name",SIGNUP_FORM_FIELD_PASSWORD:"signup_form_field_password",SIGNUP_FORM_FIELD_COUNTRY_CODE:"signup_form_field_country_code",SIGNUP_FORM_FIELD_COMPANY_NAME:"signup_form_field_company_name",SIGNUP_FORM_FIELD_PHONE_NUMBER:"signup_form_field_phone_number",SIGNUP_FORM_FIELD_TITLE:"signup_form_field_title",SIGNUP_FORM_FIELD_DEPARTMENT:"signup_form_field_department",SIGNUP_FORM_FIELD_INDUSTRY:"signup_form_field_industry",SIGNUP_FORM_FIELD_NGO:"signup_form_field_ngo",SIGNUP_FORM_FIELD_COMPANY_SIZE:"signup_form_field_company_size",SIGNUP_FORM_FIELD_COMPANY_SIZE_TOGGLE:"signup_form_field_company_size_toggle",SIGNUP_FORM_FIELD_B2B:"signup_form_field_b2b",SIGNUP_FORM_FIELD_MARKETING_OPT_IN:"signup_form_field_marketing_opt_in",SIGNUP_FORM_FIELD_GO:"signup_form_field_go",SIGNUP_FORM_FIELD_COMMENT:"signup_form_field_comment",SIGNUP_FORM_FIELD_CUSTOM_AGREEMENT:"signup_form_field_custom_agreement",SIGNUP_FORM_FIELD_USERNAME:"signup_form_field_username",SIGNUP3_FORM_FIELD_EMAIL:"signup3_form_field_email",LOGIN_SSO_FORM:"login_sso_form",LOGIN_SSO_SUBMIT_BUTTON:"login_sso_submit_button",SEARCH_INPUT:"search_input",SEARCH_TYPEAHEAD_VIEW:"search_typeahead_view",SIMPLIFIED_GYSJ_JOIN_GROUP_BUTTON:"simplified_gysj_join_group_button",SIMPLIFIED_GYSJ_SUBMIT_BUTTON:"simplified_gysj_submit_button",TEAM_SETUP_CONTINUE_BUTTON:"team_setup_continue_button",TEAM_SETUP_TEAM_NAME_INPUT:"team_setup_team_name_input",TEAM_SETUP_INVITE_INPUT:"team_setup_invite_input",WORK_INVITE_GRID:"work_invite_grid",WORK_INVITE_GRID_BUTTON_ADD_MORE:"work_invite_grid_button_add_more",WORK_INVITE_GRID_BUTTON_SKIP:"work_invite_grid_button_skip",WORK_INVITE_GRID_BUTTON_SUBMIT:"work_invite_grid_button_submit",WORK_INVITE_GRID_FIELD_EMAIL:"work_invite_grid_field_email",WORK_INVITE_GRID_FIELD_NAME:"work_invite_grid_field_name",WORK_INVITE_GRID_ROW:"work_invite_grid_row",COMPOSER_MARKDOWN_BUTTON:"testid-MARKDOWN",PROFILE_NAME_IN_PROFILE_PAGE:"profile_name_in_profile_page",UPGRADE_TEXT_LINK:"upgrade_text_link",UPGRADE_CONFIRM_BUTTON:"upgrade_confirm_button",UPGRADE_DNS_METHOD_BUTTON:"upgrade_dns_method_button",UPGRADE_HTML_METHOD_BUTTON:"upgrade_html_method_button",UPGRADE_VERIFY_BUTTON:"upgrade_verify_button",EMAILLESS_ACCESS_CODE_FORM:"emailless_access_code_form",EMAILLESS_ACCESS_CODE_FORM_MOBILE:"emailless_access_code_form_mobile",EMAILLESS_ACCESS_CODE_FIELD:"emailless_access_code_field",EMAILLESS_ACCESS_CODE_FIELD_MOBILE:"emailless_access_code_field_mobile",EMAILLESS_ACCESS_CODE_SUBMIT_BUTTON:"emailless_access_code_submit_button",EMAILLESS_ACCESS_CODE_SUBMIT_BUTTON_MOBILE:"emailless_access_code_submit_button_mobile",ACTIVATION_GOLDIE_REACT_COMPONENT:"activation_goldie_react_component",ACTIVATION_GOLDIE_SKIP_BUTTON:"activation_goldie_skip_button",ACTIVATION_GOLDIE_DONE_BUTTON:"activation_goldie_done_button",ACTIVATION_GOLDIE_WELCOME_MESSAGE_COMPONENT:"activation_goldie_welcome_message_component",ACTIVATION_GOLDIE_ADD_PEOPLE_COMPONENT:"activation_goldie_add_people_component",ACTIVATION_GOLDIE_UPLOAD_LOGO_COMPONENT:"activation_goldie_upload_logo_component",ACTIVATION_GOLDIE_CREATE_GROUP_COMPONENT:"activation_goldie_create_group_component",ACTIVATION_GOLDIE_TEAM_SETUP_COMPONENT:"activation_goldie_team_setup_component",ACTIVATION_GOLDIE_MOBILE_UPSELL_COMPONENT:"activation_goldie_mobile_upsell_component",WORK_GOLDIE_ONBOARDING_TEAM_SETUP_GROUP_NAME_INPUT:"activation_goldie_team_setup_group_name_input",ACTIVATION_GOLDIE_INVITE_TO_SUBCOMMUNITY_COMPONENT:"activation_goldie_invite_to_subcommunity_component",ACTIVATION_GOLDIE_NAME_SUBCOMMUNITY_COMPONENT:"activation_goldie_name_subcommunity_component",PROFILE_ITEM_NAV_BAR:"profile_item_nav_bar",DO_NOT_DISTURB_MENU_NAV_BAR:"do_not_disturb_menu_nav_bar",DO_NOT_DISTURB_ONE_HOUR_OPTION:"do_not_disturb_one_hour_option",DO_NOT_DISTURB_TURN_OFF_OPTION:"do_not_disturb_turn_off_option",WORK_ADMIN_ACTIONS_CONTAINER_COMPONENT:"work_admin_actions_container_component",WORK_ADMIN_ACTIONS_SKIP_BUTTON:"work_admin_actions_skip_button",WORK_ADMIN_ACTIONS_WELCOME_GOAL_COMPONENT:"work_admin_actions_welcome_goal_component",WORK_GOAL_NEWSFEED_WELCOME_CONTINUE_BUTTON:"work_goal_newsfeed_welcome_continue_button",WORK_ADMIN_ACTIONS_ADD_PEOPLE_GOAL_COMPONENT:"work_admin_actions_add_people_goal_component",WORK_ADMIN_ACTIONS_UPLOAD_LOGO_GOAL_COMPONENT:"work_admin_actions_upload_logo_goal_component",WORK_ADMIN_ACTIONS_ADD_DOMAINS_GOAL_COMPONENT:"work_admin_actions_add_domains_goal_component",WORK_ADMIN_ACTIONS_CREATE_GROUP_GOAL_COMPONENT:"work_admin_actions_create_group_goal_component",WORK_ADMIN_ACTIONS_CREATE_GROUP_GOAL_GROUP_NAME_FIELD:"work_admin_actions_create_group_goal_group_name_field",WORK_ADMIN_ACTIONS_CREATE_GROUP_GOAL_SUBMIT_BUTTON:"work_admin_actions_create_group_goal_submit_button",WORK_PROVISIONER_COMPONENT:"work_provisioner_component",WORK_PROVISIONER_ROW_COMPONENT:"work_provisioner_row_component",WORK_PROVISIONER_NAME_INPUT_COMPONENT:"work_provisioner_name_input_component",WORK_PROVISIONER_EMAIL_INPUT_COMPONENT:"work_provisioner_email_input_component",WORK_INVITE_TYPEAHEAD_COMPONENT:"work_invite_typeahead_component",WORK_GOLDIE_ONBOARDING_GROUP_CREATION_NAME_INPUT:"work_goldie_onboarding_group_creation_name_input",WORK_GOLDIE_ONBOARDING_NAME_COMMUNITY_INPUT:"work_goldie_onboarding_name_community_input",WORK_PEOPLE_DIRECTORY:"work_people_directory",WORK_PEOPLE_DIRECTORY_FILTER:"work_people_directory_filter",WORK_BOOKMARK_COWORKER_BUTTON:"work_bookmark_coworker_button",WORK_BOOKMARKED_COWORKER_BUTTON:"work_bookmarked_coworker_button",WORK_BOOKMARKED_COWORKER_NOTE:"work_bookmarked_coworker_note",WORK_BOOKMARKED_COWORKER_NOTE_BUTTON:"work_bookmarked_coworker_note_button",WORK_BOOKMARKED_COWORKER_NOTE_TEXTAREA:"work_bookmarked_coworker_note_textarea",WORK_BOOKMARKED_COWORKER_PROFILE_CELL:"work_bookmarked_coworker_profile_cell",WORK_BOOKMARKED_COWORKER_PROFILE_CELL_NAME:"work_bookmarked_coworker_profile_cell_name",WORK_BOOKMARKED_COWORKER_PROFILE_CELL_ROLE:"work_bookmarked_coworker_profile_cell_role",WORK_BOOKMARKED_COWORKERS_PAGELET:"work_bookmarked_coworkers_pagelet",WORK_DISCOVERY_FACEPILE:"work_discovery_facepile",WORK_DISCOVERY_FACEPILE_LINK:"work_discovery_facepile_link",WORK_SEE_ALL_BOOKMARKED_COWORKERS_LINK:"work_see_all_bookmarked_coworkers_link",WORK_UNBOOKMARK_COWORKER_LINK:"work_unbookmark_coworker_link",WORK_UNBOOKMARK_COWORKER_POPOVER:"work_unbookmark_coworker_popover",WORK_CHAT_PIN_THREAD_BUTTON_IN_INFO_PANEL:"work_pin_thread_in_info_panel",GIF_SPROUT:"gif-sprout",ACTIVITY_SPROUT:"activity-sprout",ACTIVITY_TAGGER:"activity-tagger-component"})}),null);
__d("FacebarTypeaheadView",["csx","cx","fbt","Arbiter","ContextualLayer","ContextualLayerUpdateOnScroll","CSS","DOM","FacebarGlobalOptions","FacebarJSConstants","FacebarStructuredText","FacebarTypeaheadList.react","Parent","React","ReactDOM","ScriptPath","Style","TypeaheadView","WorkWebDriverConstants","performanceNow"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k="unimplemented";c=babelHelpers.inherits(a,b("TypeaheadView"));j=c&&c.prototype;function a(a,b){j.constructor.call(this,a,b),this.handleClearHighlight=function(){this.highlight(-1,!1)}.bind(this),this.handleHighlight=function(a){this.highlight(this.getIndexOf(a,this.results),!1)}.bind(this),this.handleSelect=function(a){this.handleHighlight(a),this.select(!0)}.bind(this),this.handleRender=function(){this.items=this.getItems()}.bind(this),this.element=a,this.sid="",this.index=-1,this.warningShown=!1,this.autoSelect=!1,this.flipCount=0,this.loading=!1,this.events=["highlight","render","filter","show"]}a.prototype.init=function(){this.initializeElements()};a.prototype.initGSV2Elements=function(){__p&&__p();var a=this.element;this.contentKeyword=b("DOM").find(a,"._f7s");this.contentEntity=b("DOM").find(a,"._2pda");this.contentRecent=b("DOM").find(a,"._mn8");this.contentSuggestion=b("DOM").find(a,"._2pl-");this.contentSeeMore=b("DOM").find(a,"._3-xd");this.keywordResultsContainer=b("DOM").create("div");this.entityResultsContainer=b("DOM").create("div");this.recentSearchContainer=b("DOM").create("div");this.seeMoreContainer=b("DOM").create("div");this.results=[];this.keywordResults=[];this.entityResults=[]};a.prototype.initGSV2Construct=function(){__p&&__p();this.currentKeywordContainer=this.contentKeyword;this.currentEntityContainer=this.contentEntity;this.contentKeyword.appendChild(this.keywordResultsContainer);this.contentEntity.appendChild(this.entityResultsContainer);this.contentRecent.appendChild(this.recentSearchContainer);this.contentSeeMore.appendChild(this.seeMoreContainer);if(this.isNullState()){b("FacebarGlobalOptions").hasRecentOnTopNullState?(this.resultsContainer.appendChild(this.contentRecent),this.resultsContainer.appendChild(this.contentKeyword),this.resultsContainer.appendChild(this.contentEntity)):(this.resultsContainer.appendChild(this.contentKeyword),this.resultsContainer.appendChild(this.contentRecent),this.resultsContainer.appendChild(this.contentEntity));return}this.entityTop?(this.resultsContainer.appendChild(this.contentEntity),this.resultsContainer.appendChild(this.contentKeyword)):(this.resultsContainer.appendChild(this.contentKeyword),this.resultsContainer.appendChild(this.contentEntity));this.isNullState()||this.resultsContainer.appendChild(this.contentSeeMore)};a.prototype.initializeElements=function(){var a=this.element;this.isGSV2=b("FacebarGlobalOptions").graphSearchV2;this.dynamicRank=this.isGSV2;this.fixedBlendingOrder=b("FacebarGlobalOptions").blendingOrderKeywordFirst||b("FacebarGlobalOptions").blendingOrderEntityFirst;this.entityTop=b("FacebarGlobalOptions").blendingOrderEntityFirst&&!b("FacebarGlobalOptions").renderKeywordsFirst;this.content=b("DOM").find(a,"._21r");this.warningNode=b("DOM").find(a,"._553e");this.resultsContainer=b("DOM").create("div");this.isGSV2&&this.initGSV2Elements()};a.prototype.initializeList=function(){this.renderTypeaheadList(),this.content.appendChild(this.resultsContainer),this.isGSV2&&this.initGSV2Construct()};a.prototype.initializeLayer=function(){this.layer=new(b("ContextualLayer"))({context:b("Parent").bySelector(this.causalElement,"._585-"),position:"below",causalElement:this.causalElement,shouldSetARIAProperties:!1,"data-testid":b("WorkWebDriverConstants").SEARCH_TYPEAHEAD_VIEW},this.element).enableBehavior(b("ContextualLayerUpdateOnScroll"));var a=this.layer.getRoot();a.setAttribute("role","grid");a=this.layer.getContentRoot();this.root=b("DOM").find(a,"._50c9");b("CSS").addClass(a,"_5tlx");this.isGSV2&&b("CSS").addClass(a,"_5xzd");this.wrapper=a};a.prototype.setInputElement=function(a){this.setAccessibilityControlElement(a),this.causalElement=a,this.initializeLayer(),this.initializeList()};a.prototype.setAutoSelect=function(a){this.autoSelect=a,this.index===-1&&a&&this.first()};a.prototype.getIndexOf=function(a,b){for(var c=0;c<b.length;c++)if(a.semantic===b[c].semantic&&a.isSeeMore===b[c].isSeeMore&&a.text===b[c].text)return c;return-1};a.prototype.show=function(a){__p&&__p();if(!this.visible){this.inform("beforeShow",this.layer);b("Style").set(this.wrapper,"minWidth",a+"px");a=j.show.call(this);this.first();this.layer.show();this.layer.updatePosition();this.inform("show");b("Arbiter").inform("layer_shown",{type:"FacebarTypeahead"});return a}};a.prototype.hide=function(){this.visible&&(this.layer.hide(),j.hide.call(this),this.inform("hide"),b("Arbiter").inform("layer_hidden",{type:"FacebarTypeahead"}),this.flipCount=0);return this};a.prototype.select=function(a){var c=this.results&&this.results[this.index];if(!c){this.inform("quickSelect");return}c=this.inform("beforeSelect",{index:this.index,selected:c});c!==!1&&(b("ScriptPath").setClickPointInfo({click:"Search"}),j.select.call(this,a))};a.prototype.doesResultBelongToEntitySection=function(a){if(b("FacebarGlobalOptions").hasKeywordOnlyTypeahead||b("FacebarGlobalOptions").workplaceHybridTypeahead)return!0;switch(a.type){case b("FacebarJSConstants").keywordType:return!!a.isRecent;case b("FacebarJSConstants").grammarType:return a.tags&&a.tags.displayedSeeMore;default:return!0}};a.prototype.processGSV2Results=function(a){this.keywordResults=[];this.entityResults=[];var b=[],c=[],d=[],e=a.some(function(a){return a.isSingleState});a.forEach(function(a){this.doesResultBelongToEntitySection(a)?this.entityResults.push(a):e?a.alternateSemantic?c.push(a):a.exactMatchKeyword?d.push(a):b.push(a):this.keywordResults.push(a)}.bind(this));e&&(this.keywordResults=d.concat(c.concat(b)));return this.entityTop?this.entityResults.concat(this.keywordResults):this.keywordResults.concat(this.entityResults)};a.prototype.reGenerateContainer=function(a){var c=b("DOM").create("div");if(this.isNullState()){b("FacebarGlobalOptions").hasRecentOnTopNullState?(c.appendChild(this.contentRecent),c.appendChild(this.currentKeywordContainer),c.appendChild(this.currentEntityContainer)):(c.appendChild(this.currentKeywordContainer),c.appendChild(this.contentRecent),c.appendChild(this.currentEntityContainer));return c}this.entityTop?(c.appendChild(this.currentEntityContainer),c.appendChild(this.currentKeywordContainer)):(c.appendChild(this.currentKeywordContainer),c.appendChild(this.currentEntityContainer));!this.isNullState()&&!a&&c.appendChild(this.contentSeeMore);return c};a.prototype.buildResultsNoRegeneration=function(a,c){__p&&__p();if(this.dynamicRank&&a.length>0&&!this.fixedBlendingOrder&&!b("FacebarGlobalOptions").renderKeywordsFirst&&this.flipCount<2){var d=a[0].type!==b("FacebarJSConstants").keywordType;b("FacebarGlobalOptions").hasFlipOnce&&this.value.toString()&&this.entityTop!=d&&this.flipCount++;this.entityTop=d}var e=String(this.value);a.forEach(function(a){a.query_string=e});this.results=a;if(this.isGSV2){b("FacebarGlobalOptions").disableKeywords&&(a=a.filter(function(a){return a.semantic!=null&&a.semantic.match(/^[0-9]+$/)!=null}));this.results=this.processGSV2Results(a);if(this.seeMoreResult){d=this.results.indexOf(this.seeMoreResult);d>-1&&this.results.splice(d,1);this.seeMoreResult=null}!this.isNullState()&&!c&&(this.seeMoreResult=this.inform("seeMore",{value:e,results:this.results}),this.seeMoreResult&&(this.results.push(this.seeMoreResult),this.inform("afterSeeMore",{results:this.results})))}a=b("performanceNow")();this.renderTypeaheadList({results:this.results,loading:this.loading});this.inform("logPerformanceTiming",{field:"build_results_set_props_duration",value:b("performanceNow")()-a})};a.prototype.buildResults=function(a){var b=a.some(function(a){return a.isSingleState});this.buildResultsNoRegeneration(a,b);this.dynamicRank&&(this.resultsContainer=this.reGenerateContainer(b));return this.resultsContainer};a.prototype.getGSV2Items=function(){return j.getItems.call(this).filter(function(a){return!b("CSS").matchesSelector(a,"._3su")})};a.prototype.getItems=function(){return this.isGSV2?this.getGSV2Items():j.getItems.call(this).slice(0,-1)};a.prototype.render=function(a,c,d,e){this.inform("filter",{results:c,value:a});var f=!a||a instanceof b("FacebarStructuredText")&&a.isEmptyOrWhitespace();b("CSS").conditionClass(this.wrapper,"_5qz2",!c.length&&f);var g=c[0];e&&!f?this.isGSV2||this.showWarning(i._("There are no results for '{query}'",[i._param("query",a.toString())])):g&&g.results_set_type===k?g.error_info.suppress||this.showWarning(g.error_info.errorMessage||i._("This search isn't currently supported.")):this.hideWarning();this.inform("removeUnimplementedGrammar")!==!1&&(c=c.filter(function(a){return a.results_set_type!==k}));j.render.call(this,a,c,d)};a.prototype.reset=function(){this.index=-1;this.items=[];this.results=[];this.value="";this.buildResults([]);this.inform("reset");return this};a.prototype.resetIndex=function(){this.index=-1};a.prototype.showWarning=function(a){b("CSS").show(this.warningNode),b("DOM").setContent(this.warningNode,a),this.warningShown=!0,this.highlight(-1,!1)};a.prototype.hideWarning=function(){b("CSS").hide(this.warningNode),this.warningShown=!1,this.highlight(this.index,!1)};a.prototype.setLoading=function(a){this.loading!=a&&(this.loading=a,this.renderTypeaheadList({results:this.results,loading:a}))};a.prototype.first=function(){this.index=this.autoSelect?0:-1,this.highlight(this.index)};a.prototype.prev=function(){this.isGSV2?(this.index<0||this.index===0&&this.autoSelect)&&(this.index=this.items.length):this.index<=0&&(this.index=this.items.length),this.ignoreMouseover=!0,j.prev.call(this)};a.prototype.next=function(){this.isGSV2&&this.autoSelect&&this.index>=this.items.length-1&&(this.index=-1),!this.isGSV2&&this.index+1>=this.items.length&&(this.index=-1),this.ignoreMouseover=!0,j.next.call(this)};a.prototype.highlight=function(a,b){b=b!==!1&&this.index!=a;if(!b||this.inform("beforeHighlight")!==!1){var c=this.warningShown||!this.autoSelect?-1:0;j.highlight.call(this,Math.max(c,a),b)}};a.prototype.isNullState=function(){return!String(this.value).trim()};a.prototype.updateCurrentKeywordContainer=function(){var a=this.currentKeywordContainer;this.isNullState()?this.currentKeywordContainer=this.contentSuggestion:this.currentKeywordContainer=this.contentKeyword;a&&a!==this.currentKeywordContainer&&(b("CSS").hide(a),a.removeChild(this.keywordResultsContainer),this.currentKeywordContainer.appendChild(this.keywordResultsContainer))};a.prototype.updateCurrentEntityContainer=function(){var a=this.currentEntityContainer,c=!String(this.value).trim();c&&this.entityResults?this.currentEntityContainer=this.contentEntity:this.currentEntityContainer=this.contentEntity;a&&a!=this.currentEntityContainer&&(b("CSS").hide(a),a.removeChild(this.entityResultsContainer),this.currentEntityContainer.appendChild(this.entityResultsContainer))};a.prototype.hasValidRecentSearches=function(){return!b("FacebarGlobalOptions").hasRecentSearchNullState||!this.keywordResults?!1:this.keywordResults.some(function(a){return a.isRecent})};a.prototype.copyProps=function(a){return babelHelpers["extends"]({accessibilityElement:this.accessibilityElement,onClearHighlight:this.handleClearHighlight,onHighlight:this.handleHighlight,onRender:this.handleRender,onSelect:this.handleSelect},a)};a.prototype.renderList=function(a,c){b("ReactDOM").render(b("React").createElement(b("FacebarTypeaheadList.react"),this.copyProps(a)),c)};a.prototype.renderGSV2TypeaheadList=function(a){__p&&__p();var c=this.copyProps(Object.assign({},a,{isKeywordList:!0})),d=this.copyProps(a);a=this.copyProps(Object.assign({},a,{isKeywordList:!0}));c.results=this.isNullState()?this.keywordResults.filter(function(a){return!a.isRecent}):this.keywordResults;a.results=this.isNullState()?[]:this.results.filter(function(a){return a.isSeeMore});d.results=this.entityResults.filter(function(a){return!a.isRecent});a.results.length>0||this.isNullState()?(c.loading=!1,d.loading=!1):this.entityTop||d.results.length===0?d.loading=!1:c.loading=!1;var e=!!d.results.length,f=!!c.results.length;this.renderList(c,this.keywordResultsContainer);this.renderList(d,this.entityResultsContainer);c=!1;this.isNullState()&&(d.results=this.entityResults.filter(function(a){return!!a.isRecent}),this.renderList(d,this.recentSearchContainer),c=!!d.results.length);this.updateCurrentKeywordContainer();this.updateCurrentEntityContainer();this.renderList(a,this.seeMoreContainer);b("CSS").conditionShow(this.currentKeywordContainer,f);b("CSS").conditionShow(this.contentRecent,c);b("CSS").conditionShow(this.currentEntityContainer,e);b("CSS").conditionShow(this.contentSeeMore,this.seeMoreResult!=null&&!this.isNullState())};a.prototype.renderTypeaheadList=function(a){a=a||{},this.isGSV2?this.renderGSV2TypeaheadList(a):this.renderList(a,this.resultsContainer)};e.exports=a}),null);
__d("FacebarTypeaheadBrowsePreload",["AsyncRequest","XWarmUserRequestArgsController","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this._core=a.core,this._typeahead=a}a.prototype.enable=function(){this._core.subscribe("execute",this.preloadOnNavigate.bind(this))};a.prototype.preloadOnNavigate=function(a,c){if(c.type==="keyword"){a=b("XWarmUserRequestArgsController").getURIBuilder().setString("query",String(c.text));c.csid&&a.setString("csid",String(c.csid));new(b("AsyncRequest"))().setURI(a.getURI()).setAllowCrossPageTransition(!0).send()}};a.prototype.disable=function(){b("emptyFunction")()};e.exports=a}),null);
__d("FacebarTypeaheadInjectedSuggestion",["csx","cx","fbt","Arbiter","DOM"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=3,k=0,l;function a(a){this.core=a.getCore(),this.$1=this.core.view}a.prototype.enable=function(){b("Arbiter").subscribe("FacebarTypeahead.injectedSuggestion",function(){return this.addSuggestionTextToSearchBox()}.bind(this)),b("Arbiter").subscribe("FacebarTypeahead.removeInjectedSuggestion",function(){return this.removeSuggestionTextToSearchBox()}.bind(this)),b("Arbiter").subscribe("FacebarTypeahead.showSuggestionBadge",function(){return this.showSuggestionBadge(!0)}.bind(this)),b("Arbiter").subscribe("FacebarTypeahead.hideSuggestionBadge",function(){return this.showSuggestionBadge(!1)}.bind(this))};a.prototype.disable=function(){this.$2.unsubscribe()};a.prototype.showSuggestionBadge=function(a){var c=b("DOM").scry(this.core.getElement(),"._5861")[0];if(c){c=c.getElementsByClassName("injectedSearchSuggestion")[0];if(!c)return;a?c.style.visibility="visible":c.style.visibility="hidden"}};a.prototype.removeSuggestionTextToSearchBox=function(){__p&&__p();if(!k)return;--k;if(!k){var a=b("DOM").scry(this.core.getElement(),"._5861")[0],c=a.getElementsByClassName("injectedSearchSuggestion")[0];a.removeChild(c)}else if(l){a=i._({"suggestion":"{suggestionCount} new suggestion","suggestions":"{suggestionCount} new suggestions"},[i._param("suggestionCount",k),i._enum(k===1?"suggestion":"suggestions",{suggestion:"suggestion",suggestions:"suggestions"})]);l.innerText=a}};a.prototype.addSuggestionTextToSearchBox=function(){__p&&__p();if(k)l&&k<j&&(l.innerText=k+1+" new suggestions");else{var a=b("DOM").scry(this.core.getElement(),"._5861")[0];if(a){l=document.createElement("DIV");var c=document.createTextNode("1 new suggestion");l.style.cssFloat="right";l.appendChild(c);c=document.createElement("DIV");c.className="_586j injectedSearchSuggestion";c.appendChild(l);a.appendChild(c)}}k+=1};e.exports=a}),null);
__d("FacebarTypeaheadNavigation",["Arbiter","FacebarNavigation","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this._core=a.core,this._preserveQuery=!1,this._typeahead=a}a.prototype.enable=function(){b("FacebarNavigation").registerBehavior(this),this._core.subscribe("execute",this.executedUserQuery.bind(this))};a.prototype.executedUserQuery=function(a,b){this._preserveQuery=!0};a.prototype.pageTransition=function(){!this._preserveQuery?(this._core.close(),this._core.reset()):this._preserveQuery=!1};a.prototype.setPageQuery=function(a){a=this._core.setPageQuery(a),this._typeahead.inform("navigation",a,"persistent")};Object.assign(a.prototype,{disable:b("emptyFunction")});e.exports=a}),null);
__d("FacebarTypeaheadPrefixLengthOrderedCache",["Arbiter","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this._typeahead=a}a.prototype.enable=function(){this._typeahead.data.inform("setSortFunction",function(a){return function(b,c){if((b.keyword_type==="local"||b.keyword_type==="local_category")&&(c.keyword_type==="local"||c.keyword_type==="local_category"))return 0;if(b.cache_id_length!==c.cache_id_length)return b.cache_id_length-c.cache_id_length;var d=this.getCost(b,a)-this.getCost(c,a);return d!==0?d:(b.semantic||"").localeCompare(c.semantic||"")}.bind(this)}.bind(this),"state")};a.prototype.getCost=function(a,b){return a.cost||0};Object.assign(a.prototype,{disable:b("emptyFunction")});e.exports=a}),null);
__d("FacebarTypeaheadQuickSelect",["FacebarStructuredText","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="/search/web/direct_search.php";function a(a){this._core=a.getCore(),this._view=a.getView(),this._input=this._core.input,this._beforeSelectListener=null,this._quickSelectListener=null}a.prototype.enable=function(){this._beforeSelectListener=this._view.subscribe("beforeSelect",this._quickSelect.bind(this)),this._quickSelectListener=this._view.subscribe("quickSelect",this._quickSelect.bind(this))};a.prototype._quickSelect=function(a,c){__p&&__p();if(c&&c.selected)return!0;a=this._input.getValue().toArray();c=new(b("FacebarStructuredText"))(a);a=c.toString();if(!a)return!0;c=new(b("URI"))(g).addQueryData("q",a);a={input_query:a,type:"quickselect",text:a,position:0,with_mouse:0,semantic:"quickselect("+c.toString()+")",extra_uri_params:{source:"quickselect",sid:this._core.getSessionID()},uri:c};this._core.inform("quickSelectRedirect",a);this._core.executeQuery(a);return!1};a.prototype.disable=function(){this._beforeSelectListener&&this._view.unsubscribe(this._beforeSelectListener),this._quickSelectListener&&this._view.unsubscribe(this._quickSelectListener)};e.exports=a}),null);
__d("BanzaiNectar",["Banzai"],(function(a,b,c,d,e,f){function a(a){return{log:function(c,d,e){d={e:d,a:e};b("Banzai").post("nectar:"+c,d,a)}}}c=a();c.create=a;e.exports=c}),null);
__d("FacebarTypeaheadRecorderBasic",["FacebarTypeaheadRecorder"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this._typeahead=a}a.prototype.enable=function(){var a=this._typeahead;this._recorder=new(b("FacebarTypeaheadRecorder"))(a)};a.prototype.disable=function(){this._typeahead.unsubscribe(this._subscription),this._recorder=null,this._subscription=null};Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("FacebarTypeaheadSeeMore",["cx","fbt","FacebarGlobalOptions","FacebarGSv2Echo","FacebarJSConstants","FacebarKeywordSearchUtils","FacebarStructuredText"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){this.$1=a.getCore(),this.$2=this.$1.view}a.prototype.enable=function(){this.$3=this.$2.subscribe("seeMore",this.$4.bind(this))};a.prototype.disable=function(){this.$3.unsubscribe()};a.prototype.$4=function(a,c){a=c.value.toString().trim();a=b("FacebarGSv2Echo").normalizeValue(a);c=b("FacebarKeywordSearchUtils").makeFacebarEntry(a);var d;b("FacebarGlobalOptions").hasKeywordOnlyTypeahead?d=h._("See all results for {query}",[h._param("query",a)]):d=h._("See all results for \"{query}\"",[h._param("query",a)]);return babelHelpers["extends"]({},c,{query_string:a,icon_class:"_5b1w",isSeeMore:!0,structure:b("FacebarStructuredText").fromString(a),displayStructure:b("FacebarStructuredText").fromString(String(d)),uri:c.uri,tags:{},isSingleState:this.$1.data.getSingleState(),keywordType:b("FacebarJSConstants").keywordTypes.escape,keywordSource:b("FacebarJSConstants").keywordTypes.escape})};e.exports=a}),null);
__d("FacebarTypeaheadSelectAll",["requestAnimationFrame"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this._core=a.getCore(),this._listener=null}a.prototype.enable=function(){var a=this._core.input;this._listener=this._core.subscribe("focus",function(c,d){c=d&&d.catchup;c||b("requestAnimationFrame")(function(){a.selectInput()})})};a.prototype.disable=function(){this._listener&&this._core.unsubscribe(this._listener)};e.exports=a}),null);
__d("FacebarTypeaheadShortcut",["fbt","KeyboardShortcuts","translateKey"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){this._input=a.core.input,this._view=a.view,this._listener=null}a.prototype.enable=function(){this._registerListener()};a.prototype.disable=function(){};a.prototype._registerListener=function(){this._listener&&this._listener.remove(),this._listener=b("KeyboardShortcuts").register("SLASH",this._selectInput.bind(this),{filter:function(a,b){return!a.getModifiers().shift},persistOnTransition:!0,shortcutInfo:{displayKeys:[b("translateKey")("/")],description:g._("Search")}})};a.prototype._selectInput=function(){this._view.setAutoSelect(!0),this._input.focus(),this._input.selectInput(),this._input.inform("shortcut",{shift:!1})};e.exports=a}),null);
__d("FacebarTypeaheadStickyFilters",["Arbiter","NavigationMessage","Run","SubscriptionsHandler","enumerate","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!1,h=5e3,i="/search/top";function a(a){this.core=a.getCore(),this.filters={},this.subscriptionsHandler=new(b("SubscriptionsHandler"))(),this.view=this.core.view}a.prototype.enable=function(){__p&&__p();this.subscriptionsHandler.addSubscriptions(b("Arbiter").subscribe("SearchLHCFilters.initStickyFilters",function(a,c){__p&&__p();for(var a=b("enumerate")(this.filters),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];g in c||(f.active=!1)}for(var g=b("enumerate")(c),f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;d=g[e++]}else{e=g.next();if(e.done)break;d=e.value}a=d;c=a[0];d=a[1];a={value:d,active:!0};this.filters[c]=a}}.bind(this)),b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_BEGIN,function(event,a){this.resetFiltersIfNotSearching()}.bind(this)),this.view.subscribe("filter",this.handleFilter.bind(this)),this.core.subscribe("magSearch",this.handleSearch.bind(this)),this.view.subscribe("afterSeeMore",this.handleSeeMore.bind(this))),b("Run").onLeave(function(){this.resetFiltersIfNotSearching()}.bind(this))};a.prototype.disable=function(){this.teardown()};a.prototype.teardown=function(){this.subscriptionsHandler.release()};a.prototype.handleFilter=function(a,b){a=b.results.filter(function(a){return!a.isNullState&&!a.isTrending});this.updateResultData(a)};a.prototype.handleSearch=function(a,b){this.updateResultData([b])};a.prototype.handleSeeMore=function(a,b){a=b.results.filter(function(a){return a.isSeeMore});this.updateResultData(a)};a.prototype.resetFiltersIfNotSearching=function(){__p&&__p();if(g)return;g=!0;b("setTimeoutAcrossTransitions")(function(){__p&&__p();var a=window.location.pathname;if(a.indexOf(i)===-1)for(var a=b("enumerate")(this.filters),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e[1];e.active=!1}g=!1;b("Run").onLeave(function(){this.resetFiltersIfNotSearching()}.bind(this))}.bind(this),h)};a.prototype.updateResultData=function(a){__p&&__p();for(var c=0;c<a.length;c++){var d=a[c];if(d.type==="keyword"){var e=d.uri.getQueryData();for(var f=b("enumerate")(this.filters),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];i.active?e[j]=i.value:d.uri.removeQueryData(j)}}}};e.exports=a}),null);
__d("TypeaheadEarlyUserRequest",["AsyncRequest","XWarmUserRequestArgsController"],(function(a,b,c,d,e,f){"use strict";function a(a){this._core=a.getCore(),this._listener=null}a.prototype.enable=function(){this._listener=this._core.subscribe("focus",function(a,c){new(b("AsyncRequest"))().setURI(b("XWarmUserRequestArgsController").getURIBuilder().getURI()).send(),this.disable()}.bind(this))};a.prototype.disable=function(){this._listener&&this._core.unsubscribe(this._listener)};e.exports=a}),null);
__d("AbandonedSessionSurvey",["AsyncRequest","SubscriptionsHandler","XSearchFacebarSurveyController","getOrCreateDOMID"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.tryToSubmitSurvey=function(){this.searchBoxFocused&&(this.openSurvey(),this.resultSelected=!1,this.searchBoxFocused=!1)}.bind(this),this.core=a.getCore(),this.data=a.getData(),this.view=a.getView(),this.subscriptionsHandler=new(b("SubscriptionsHandler"))()}a.prototype.enable=function(){"use strict";this.subscriptionsHandler.addSubscriptions(this.core.subscribe("focus",function(){this.searchBoxFocused=!0,this.resultSelected=!1}.bind(this)),this.data.subscribe("beforeQuery",function(a,b){this.query=b.value||""}.bind(this)),this.view.subscribe("select",function(){this.resultSelected=!0,this.tryToSubmitSurvey()}.bind(this)),this.core.subscribe("blur",this.tryToSubmitSurvey))};a.prototype.disable=function(){"use strict";this.subscriptionsHandler.release(),this.request&&this.request.abort()};a.prototype.openSurvey=function(){"use strict";__p&&__p();if(this.openedSurvey)return;this.openedSurvey=!0;var a=this.core.element;a==null&&(a=this.core.getElement());var c=this.normalizeValue(this.query);a=b("XSearchFacebarSurveyController").getURIBuilder().setString("id",b("getOrCreateDOMID")(a)).setString("query",c!=null?c:"").setString("session_id",this.data.queryData.sid).setExists("result_selected",this.resultSelected);this.request=new(b("AsyncRequest"))().setMethod("POST").setAllowCrossPageTransition(!0).setURI(a.getURI());this.request.send()};a.prototype.normalizeValue=function(a){"use strict";return String(a).trim().replace(/\s+/g," ").replace(/[\u200E|\u200F|\u202a|\u202b|\u202c]/g,"").toLowerCase()};e.exports=a}),null);