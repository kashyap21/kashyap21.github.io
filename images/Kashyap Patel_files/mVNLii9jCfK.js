if (self.CavalryLogger) { CavalryLogger.start_js(["3iIu+"]); }

__d("XWorkUserSettingsUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/user_settings/",{})}),null);
__d("DockNubs",["AsyncRequest","CSS","WorkUserSettings","XWorkUserSettingsUpdateController"],(function(a,b,c,d,e,f){__p&&__p();var g="hidden_elem",h=b("WorkUserSettings").hideDock,i=null,j=[];a={init:function(a){i=a,this.registerSubscriber(this._updateCssClasses)},isVisible:function(){return!h},registerSubscriber:function(a){j.push(a);a(h);return{unsubscribe:function(){this._unregisterSubscriber(a)}}},_unregisterSubscriber:function(a){j=j.filter(function(b){return b!==a})},_updateSubscribers:function(){j.forEach(function(a){return a(h)})},toggleVisibility:function(){if(!i)return;h=!h;this._saveVisibilityPreferences(h);this._updateSubscribers()},_saveVisibilityPreferences:function(a){var c=b("XWorkUserSettingsUpdateController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData({hide_dock:a}).send()},_updateCssClasses:function(){if(!i)return;h?b("CSS").addClass(i,g):b("CSS").removeClass(i,g)}};e.exports=a}),null);
__d("NubController",["csx","ArbiterMixin","Dock"],(function(a,b,c,d,e,f,g){__p&&__p();function a(){}Object.assign(a.prototype,b("ArbiterMixin"),{init:function(a){this.el=a;this.nubButton=a.querySelector(".fbNubButton");this.closeButton=a.querySelector("._2dv8");b("Dock").registerNubController(a,this);this.closeButton&&this.closeButton.addEventListener("click",this.hide.bind(this));return this},buttonContentChanged:function(){this.inform("nub/button/content-changed")},flyoutContentChanged:function(){this.inform("nub/flyout/content-changed")},hide:function(){b("Dock").hide(this.el)},show:function(){b("Dock").show(this.el)}});e.exports=a}),null);
__d("EmployeePrefs",["Dock","DOM","Event","Keys","MenuDeprecated","NubController","Parent","URI","goURI"],(function(a,b,c,d,e,f){__p&&__p();var g,h;g=babelHelpers.inherits(a,b("NubController"));h=g&&g.prototype;a.prototype.init=function(a,c){"use strict";__p&&__p();h.init.call(this,a),this.menu=c,b("Dock").registerNubController(a,this),b("Event").listen(a,"keydown",function(event){__p&&__p();var d=b("Event").getKeyCode(event)||event.which;switch(d){case b("Keys").UP:case b("Keys").DOWN:var e=b("Parent").byClass(event.getTarget(),"fbNubButton");if(e){this.show();e=b("MenuDeprecated").getItems(c);b("MenuDeprecated").focusItem(e[d===b("Keys").UP?e.length-1:0]);return!1}break;case b("Keys").ESC:this.hide();setTimeout(function(){b("DOM").find(a,"a.fbNubButton").focus()},0);break}}.bind(this)),this.subscribe("show",this.onShow.bind(this)),this.subscribe("hide",this.onHide.bind(this)),this.buttonContentChanged()};a.prototype.onShow=function(){"use strict";b("MenuDeprecated").register(this.menu)};a.prototype.onHide=function(){"use strict";b("MenuDeprecated").unregister(this.menu)};a.prototype.getSamePageURLOnNewTier=function(a,c){"use strict";c="www"+(c?"."+c:"")+".facebook.com";return new(b("URI"))(window.location.href).setProtocol(a.getProtocol()).setDomain(c).setSubdomain(a.getSubdomain()).setPath(a.getPath()).setQueryData(a.getQueryData()).setFragment(a.getFragment())};a.prototype.goToTier=function(a){"use strict";b("goURI")(this.getSamePageURLOnNewTier(b("URI").getRequestURI(),a));return!1};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("messengerFPSCounter",["performance","requestAnimationFrame"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();if(!b("performance").now)return;var d=b("performance").now(),e=d,f=0,g=function g(){var h=b("performance").now();if(h>a+e)return;f++;h>=1e3+d&&(c(Math.round(f*1e3/(h-d))),f=0,d=h);b("requestAnimationFrame")(g)};b("requestAnimationFrame")(g)}e.exports=a}),null);
__d("WorkGalahadBugNub.react",["ix","Link.react","React","WorkGalahadIcon.react","asset"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={hovered:!1},this.$1=function(){this.setState({hovered:!0})}.bind(this),this.$2=function(){this.setState({hovered:!1})}.bind(this),b}a.prototype.render=function(){return b("React").createElement(b("Link.react"),{ajaxify:"/ajax/bugs/employee_report",rel:"dialog",onMouseEnter:this.$1,onMouseLeave:this.$2},b("React").createElement(b("WorkGalahadIcon.react"),{hovered:this.state.hovered,selected:!1,icons:{normal:g("549989"),hovered:g("501881")}}))};e.exports=a}),null);
__d("WorkGalahadTierNub.react",["ix","AsyncRequest","ContextualDialogArrow","ContextualLayerAutoFlip","DockNubs","EmployeePrefs","Image.react","Link.react","MenuSeparator.react","PopoverMenu.react","React","SubscriptionsHandler","WorkGalahadNavMenu","WorkGalahadNavMenuItem","WorkGalahadNavMenuItemContent.react","WorkGalahadNavMenuSelectableItem","WorkGalahadTierNubData","XSettingsEmployeeBetaController","asset"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=new(b("SubscriptionsHandler"))(),this.state={dockHidden:!0},this.dockNubsSubscriptionHandler=function(a){this.setState({dockHidden:a})}.bind(this),c}a.prototype.componentDidMount=function(){this.$1.addSubscriptions(b("DockNubs").registerSubscriber(this.dockNubsSubscriptionHandler))};a.prototype.componentWillUnmount=function(){this.$1.release()};a.prototype.toggleDock=function(){b("DockNubs").toggleVisibility()};a.prototype.render=function(){return b("React").createElement(b("Link.react"),null,b("React").createElement(b("PopoverMenu.react"),{layerBehaviors:[b("ContextualLayerAutoFlip"),b("ContextualDialogArrow")],menu:i({toggleDock:this.toggleDock,dockHidden:this.state.dockHidden})},b("React").createElement(b("Image.react"),{src:b("WorkGalahadTierNubData").isBetaEnabled?g("527610"):g("527611")})))};function i(a){var c=a.toggleDock;a=a.dockHidden;return b("React").createElement(b("WorkGalahadNavMenu"),null,b("React").createElement(b("WorkGalahadNavMenuSelectableItem"),{onClick:function(){return j(!1)},selected:!b("WorkGalahadTierNubData").isBetaEnabled},b("React").createElement(b("WorkGalahadNavMenuItemContent.react"),{text:"Public"})),b("React").createElement(b("WorkGalahadNavMenuSelectableItem"),{onClick:function(){return j(!0)},selected:b("WorkGalahadTierNubData").isBetaEnabled},b("React").createElement(b("WorkGalahadNavMenuItemContent.react"),{text:"Beta"})),b("React").createElement(b("MenuSeparator.react"),null),b("React").createElement(b("WorkGalahadNavMenuItem"),{onClick:function(){return k()}},b("React").createElement(b("WorkGalahadNavMenuItemContent.react"),{text:"C1 (trunkstable)"})),b("React").createElement(b("WorkGalahadNavMenuItem"),{onClick:function(){return k("intern")}},b("React").createElement(b("WorkGalahadNavMenuItemContent.react"),{text:"Intern"})),b("React").createElement(b("WorkGalahadNavMenuItem"),{onClick:function(){return k("prod")}},b("React").createElement(b("WorkGalahadNavMenuItemContent.react"),{text:"Prod"})),b("WorkGalahadTierNubData").sandbox?b("React").createElement(b("WorkGalahadNavMenuItem"),{onClick:function(){return k(b("WorkGalahadTierNubData").sandbox)}},b("React").createElement(b("WorkGalahadNavMenuItemContent.react"),{text:"Sandbox"})):null,b("React").createElement(b("MenuSeparator.react"),null),b("React").createElement(b("WorkGalahadNavMenuItem"),{onClick:c},b("React").createElement(b("WorkGalahadNavMenuItemContent.react"),{text:a?"Show Dock":"Hide Dock"})))}function j(a){var c=b("XSettingsEmployeeBetaController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({enabled:a}).setMethod("POST").setAllowCrossPageTransition(!0).send()}function k(a){new(b("EmployeePrefs"))().goToTier(a)}e.exports=a}),null);